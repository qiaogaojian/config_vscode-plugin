"use strict";var qf=Object.create;var Qi=Object.defineProperty;var Bf=Object.getOwnPropertyDescriptor;var Gf=Object.getOwnPropertyNames;var Vf=Object.getPrototypeOf,zf=Object.prototype.hasOwnProperty;var Bt=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),Wf=(e,i)=>{for(var t in i)Qi(e,t,{get:i[t],enumerable:!0})},Ac=(e,i,t,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let u of Gf(i))!zf.call(e,u)&&u!==t&&Qi(e,u,{get:()=>i[u],enumerable:!(r=Bf(i,u))||r.enumerable});return e};var Cr=(e,i,t)=>(t=e!=null?qf(Vf(e)):{},Ac(i||!e||!e.__esModule?Qi(t,"default",{value:e,enumerable:!0}):t,e)),$f=e=>Ac(Qi({},"__esModule",{value:!0}),e);var Na=Bt((Yi,Oc)=>{"use strict";(function(e,i){typeof Yi=="object"&&typeof Oc<"u"?i(Yi):typeof define=="function"&&define.amd?define(["exports"],i):(e=typeof globalThis<"u"?globalThis:e||self,i((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{},e.Microsoft.ApplicationInsights.Shims={})))})(Yi,function(e){"use strict";var i="function",t="object",r="undefined",u="prototype",a="hasOwnProperty",o="default",n=Object,s=n[u],l=n.assign,d=n.create,c=n.defineProperty,p=s[a],v=null;function m($){return $===void 0&&($=!0),(!v||!$)&&(typeof globalThis!==r&&globalThis&&(v=globalThis),typeof self!==r&&self&&(v=self),typeof window!==r&&window&&(v=window),typeof global!==r&&global&&(v=global)),v}function g($){throw new TypeError($)}function E($){var ee=d;if(ee)return ee($);if($==null)return{};var re=typeof $;re!==t&&re!==i&&g("Object prototype may only be an Object:"+$);function ve(){}return ve[u]=$,new ve}var T=(m()||{}).Symbol,O=(m()||{}).Reflect,P=!!O,A="decorate",M="metadata",j="getOwnPropertySymbols",G="iterator",B=function($){for(var ee,re=1,ve=arguments.length;re<ve;re++){ee=arguments[re];for(var Ve in ee)s[a].call(ee,Ve)&&($[Ve]=ee[Ve])}return $},Y=l||B,ne=function($,ee){return ne=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,ve){re.__proto__=ve}||function(re,ve){for(var Ve in ve)ve[a](Ve)&&(re[Ve]=ve[Ve])},ne($,ee)};function ye($,ee){typeof ee!==i&&ee!==null&&g("Class extends value "+String(ee)+" is not a constructor or null"),ne($,ee);function re(){this.constructor=$}$[u]=ee===null?E(ee):(re[u]=ee[u],new re)}function Re($,ee){var re={};for(var ve in $)p.call($,ve)&&ee.indexOf(ve)<0&&(re[ve]=$[ve]);if($!=null&&typeof n[j]===i)for(var Ve=0,Ae=n[j]($);Ve<Ae.length;Ve++)ee.indexOf(Ae[Ve])<0&&s.propertyIsEnumerable.call($,Ae[Ve])&&(re[Ae[Ve]]=$[Ae[Ve]]);return re}function ut($,ee,re,ve){var Ve=arguments.length,Ae=Ve<3?ee:ve===null?ve=n.getOwnPropertyDescriptor(ee,re):ve,Ne;if(P&&typeof O[A]===i)Ae=O[A]($,ee,re,ve);else for(var Qe=$.length-1;Qe>=0;Qe--)(Ne=$[Qe])&&(Ae=(Ve<3?Ne(Ae):Ve>3?Ne(ee,re,Ae):Ne(ee,re))||Ae);return Ve>3&&Ae&&c(ee,re,Ae),Ae}function ot($,ee){return function(re,ve){ee(re,ve,$)}}function xt($,ee){if(P&&O[M]===i)return O[M]($,ee)}function st($,ee){for(var re in $)re!==o&&!p.call(ee,re)&&oe(ee,$,re)}function oe($,ee,re,ve){ve===void 0&&(ve=re),d?c($,ve,{enumerable:!0,get:function(){return ee[re]}}):$[ve]=ee[re]}function ge($){var ee=typeof T===i&&T[G],re=ee&&$[ee],ve=0;if(re)return re.call($);if($&&typeof $.length=="number")return{next:function(){return $&&ve>=$.length&&($=void 0),{value:$&&$[ve++],done:!$}}};g(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function le($,ee){var re=typeof T===i&&$[T[G]];if(!re)return $;var ve=re.call($),Ve,Ae=[],Ne;try{for(;(ee===void 0||ee-- >0)&&!(Ve=ve.next()).done;)Ae.push(Ve.value)}catch(Qe){Ne={error:Qe}}finally{try{Ve&&!Ve.done&&(re=ve.return)&&re.call(ve)}finally{if(Ne)throw Ne.error}}return Ae}function Ue(){for(var $=arguments,ee=0,re=0,ve=$.length;re<ve;re++)ee+=$[re].length;for(var Ve=Array(ee),Ae=0,re=0;re<ve;re++)for(var Ne=$[re],Qe=0,Ot=Ne.length;Qe<Ot;Qe++,Ae++)Ve[Ae]=Ne[Qe];return Ve}function X($,ee){for(var re=0,ve=ee.length,Ve=$.length;re<ve;re++,Ve++)$[Ve]=ee[re];return $}function Ee($,ee){return c?c($,"raw",{value:ee}):$.raw=ee,$}function se($){if($&&$.__esModule)return $;var ee={};if($!=null)for(var re in $)re!==o&&Object.prototype.hasOwnProperty.call($,re)&&oe(ee,$,re);return d?c(ee,o,{enumerable:!0,value:$}):ee[o]=$,ee}function We($){return $&&$.__esModule?$:{strDefault:$}}function rt(){var $=m()||{};(function(ee,re,ve,Ve){ee.__assign||(ee.__assign=l||re),ee.__extends||(ee.__extends=ve),ee.__createBinding||(ee.__createBinding=Ve)})($,Y,ye,oe),__assign||(__assign=$.__assign),__extends||(__extends=$.__extends),__createBinding||(__createBinding=$.__createBinding)}e.ObjAssign=l,e.ObjClass=n,e.ObjCreate=d,e.ObjDefineProperty=c,e.ObjHasOwnProperty=p,e.ObjProto=s,e.__assignFn=Y,e.__createBindingFn=oe,e.__decorateFn=ut,e.__exportStarFn=st,e.__exposeGlobalTsLib=rt,e.__extendsFn=ye,e.__importDefaultFn=We,e.__importStarFn=se,e.__makeTemplateObjectFn=Ee,e.__metadataFn=xt,e.__paramFn=ot,e.__readFn=le,e.__restFn=Re,e.__spreadArrayFn=X,e.__spreadArraysFn=Ue,e.__valuesFn=ge,e.getGlobal=m,e.objCreateFn=E,e.strDefault=o,e.strShimFunction=i,e.strShimHasOwnProperty=a,e.strShimObject=t,e.strShimPrototype=u,e.strShimUndefined=r,e.throwTypeError=g,function($,ee,re){var ve=Object.defineProperty;if(ve)try{return ve($,ee,re)}catch{}return re&&typeof re.value!==void 0&&($[ee]=re.value),$}(e,"__esModule",{value:!0})})});var Cc=Bt((Zi,Pc)=>{"use strict";(function(e,i){typeof Zi=="object"&&typeof Pc<"u"?i(Zi):typeof define=="function"&&define.amd?define(["exports"],i):(e=typeof globalThis<"u"?globalThis:e||self,i((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Zi,function(e){"use strict";var i=100,t="function",r="object",u="undefined",a="prototype",o="hasOwnProperty",n=Object,s=n[a],l=n.assign,d=n.create,c=n.defineProperty,p=s[o],v=null;function m(h){return h===void 0&&(h=!0),(!v||!h)&&(typeof globalThis!==u&&globalThis&&(v=globalThis),typeof self!==u&&self&&(v=self),typeof window!==u&&window&&(v=window),typeof global!==u&&global&&(v=global)),v}function g(h){throw new TypeError(h)}function E(h){var y=d;if(y)return y(h);if(h==null)return{};var b=typeof h;b!==r&&b!==t&&g("Object prototype may only be an Object:"+h);function I(){}return I[a]=h,new I}(m()||{}).Symbol,(m()||{}).Reflect;var T=function(h,y){return T=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,I){b.__proto__=I}||function(b,I){for(var w in I)I[o](w)&&(b[w]=I[w])},T(h,y)};function O(h,y){typeof y!==t&&y!==null&&g("Class extends value "+String(y)+" is not a constructor or null"),T(h,y);function b(){this.constructor=h}h[a]=y===null?E(y):(b[a]=y[a],new b)}function P(h,y){for(var b=0,I=y.length,w=h.length;b<I;b++,w++)h[w]=y[b];return h}var A="",M="processTelemetry",j="priority",G="setNextPlugin",B="isInitialized",Y="teardown",ne="core",ye="update",Re="disabled",ut="_doTeardown",ot="processNext",xt="resume",st="pause",oe="NotificationListener",ge="add"+oe,le="remove"+oe,Ue="eventsSent",X="eventsDiscarded",Ee="eventsSendRequest",se="perfEvent",We="toISOString",rt="endsWith",$="startsWith",ee="indexOf",re="map",ve="reduce",Ve="trim",Ae="toString",Ne="__proto__",Qe="constructor",Ot=c,Er=n.freeze,hr=n.seal,ue=n.keys,br=String[a],nr=br[Ve],Wt=br[rt],Ht=br[$],ar=Date[a],ir=ar[We],Sr=Array.isArray,ie=s[Ae],K=p[Ae],xe=K.call(n),Te=/-([a-z])/g,vt=/([^\w\d_$])/g,Ke=/^(\d+[\w\d_$])/,He=Object.getPrototypeOf;function $e(h){if(h){if(He)return He(h);var y=h[Ne]||h[a]||h[Qe];if(y)return y}return null}function Tt(h){return ie.call(h)}function It(h,y){return typeof h===y}function Oe(h){return h===void 0||typeof h===u}function Ye(h){return!Oe(h)}function ae(h){return h===null||Oe(h)}function we(h){return!ae(h)}function Le(h,y){return!!(h&&p.call(h,y))}function he(h){return!!(h&&typeof h===r)}function ct(h){return!!(h&&typeof h===t)}function qt(h){var y=h;return y&&pe(y)&&(y=y.replace(Te,function(b,I){return I.toUpperCase()}),y=y.replace(vt,"_"),y=y.replace(Ke,function(b,I){return"_"+I})),y}function Ze(h,y){if(h)for(var b in h)p.call(h,b)&&y.call(h,b,h[b])}function Kt(h,y){var b=!1;return h&&y&&!(b=h===y)&&(b=Wt?h[rt](y):vr(h,y)),b}function vr(h,y){var b=!1,I=y?y.length:0,w=h?h.length:0;if(I&&w&&w>=I&&!(b=h===y)){for(var N=w-1,U=I-1;U>=0;U--){if(h[N]!=y[U])return!1;N--}b=!0}return b}function Tr(h,y){var b=!1;return h&&y&&!(b=h===y)&&(b=Ht?h[$](y):Me(h,y)),b}function Me(h,y){var b=!1,I=y?y.length:0;if(h&&I&&h.length>=I&&!(b=h===y)){for(var w=0;w<I;w++)if(h[w]!==y[w])return!1;b=!0}return b}function je(h,y){return h&&y?h.indexOf(y)!==-1:!1}function Se(h){return!!(h&&ie.call(h)==="[object Date]")}var Z=Sr||et;function et(h){return!!(h&&ie.call(h)==="[object Array]")}function ze(h){return!!(h&&ie.call(h)==="[object Error]")}function pe(h){return typeof h=="string"}function mt(h){return typeof h=="number"}function bt(h){return typeof h=="boolean"}function Ct(h){return typeof h=="symbol"}function Vt(h){var y=!1;if(h&&typeof h=="object"){var b=He?He(h):$e(h);b?(b[Qe]&&p.call(b,Qe)&&(b=b[Qe]),y=typeof b===t&&K.call(b)===xe):y=!0}return y}function $t(h){if(h)return ir?h[We]():Ft(h)}function Ft(h){if(h&&h.getUTCFullYear){var y=function(b){var I=String(b);return I.length===1&&(I="0"+I),I};return h.getUTCFullYear()+"-"+y(h.getUTCMonth()+1)+"-"+y(h.getUTCDate())+"T"+y(h.getUTCHours())+":"+y(h.getUTCMinutes())+":"+y(h.getUTCSeconds())+"."+String((h.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function nt(h,y,b){var I=h.length;try{for(var w=0;w<I&&!(w in h&&y.call(b||h,h[w],w,h)===-1);w++);}catch{}}function Rt(h,y,b){if(h){if(h[ee])return h[ee](y,b);var I=h.length,w=b||0;try{for(var N=Math.max(w>=0?w:I-Math.abs(w),0);N<I;N++)if(N in h&&h[N]===y)return N}catch{}}return-1}function lt(h,y,b){var I;if(h){if(h[re])return h[re](y,b);var w=h.length,N=b||h;I=new Array(w);try{for(var U=0;U<w;U++)U in h&&(I[U]=y.call(N,h[U],h))}catch{}}return I}function gt(h,y,b){var I;if(h){if(h[ve])return h[ve](y,b);var w=h.length,N=0;if(arguments.length>=3)I=arguments[2];else{for(;N<w&&!(N in h);)N++;I=h[N++]}for(;N<w;)N in h&&(I=y(I,h[N],N,h)),N++}return I}function f(h){return h&&(h=nr&&h[Ve]?h[Ve]():h.replace?h.replace(/^\s+|\s+$/g,""):h),h}var _=!{toString:null}.propertyIsEnumerable("toString"),S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function C(h){var y=typeof h;if(y!==t&&(y!==r||h===null)&&g("objKeys called on non-object"),!_&&ue)return ue(h);var b=[];for(var I in h)h&&p.call(h,I)&&b.push(I);if(_)for(var w=S.length,N=0;N<w;N++)h&&p.call(h,S[N])&&b.push(S[N]);return b}function R(h,y,b,I){if(Ot)try{var w={enumerable:!0,configurable:!0};return b&&(w.get=b),I&&(w.set=I),Ot(h,y,w),!0}catch{}return!1}function k(h){return h}function L(h){return Er&&Ze(h,function(y,b){(Z(b)||he(b))&&Er(b)}),Q(h)}var Q=Er||k,te=hr||k;function Fe(){var h=Date;return h.now?h.now():new h().getTime()}function dt(h){return ze(h)?h.name:A}function qe(h,y,b,I,w){var N=b;return h&&(N=h[y],N!==b&&(!w||w(N))&&(!I||I(b))&&(N=b,h[y]=N)),N}function it(h,y,b){var I;return h?(I=h[y],!I&&ae(I)&&(I=Oe(b)?{}:b,h[y]=I)):I=Oe(b)?{}:b,I}function pt(h){return!h}function St(h){return!!h}function Ut(h){throw new Error(h)}function Hr(h,y){var b=null,I=null;return ct(h)?b=h:I=h,function(){var w=arguments;if(b&&(I=b()),I)return I[y].apply(I,w)}}function dr(h,y,b){if(h&&y&&he(h)&&he(y)){var I=function(N){if(pe(N)){var U=y[N];ct(U)?(!b||b(N,!0,y,h))&&(h[N]=Hr(y,N)):(!b||b(N,!1,y,h))&&(Le(h,N)&&delete h[N],R(h,N,function(){return y[N]},function(W){y[N]=W})||(h[N]=U))}};for(var w in y)I(w)}return h}function mr(h,y,b,I,w){h&&y&&b&&(w!==!1||Oe(h[y]))&&(h[y]=Hr(b,I))}function zr(h,y,b,I){return h&&y&&he(h)&&Z(b)&&nt(b,function(w){pe(w)&&mr(h,w,y,w,I)}),h}function qr(h){return function(){function y(){var b=this;h&&Ze(h,function(I,w){b[I]=w})}return y}()}function rn(h){return h&&l&&(h=n(l({},h))),h}function or(h,y,b,I,w,N){var U=arguments,W=U[0]||{},V=U.length,be=!1,J=1;for(V>0&&bt(W)&&(be=W,W=U[J]||{},J++),he(W)||(W={});J<V;J++){var Ie=U[J],De=Z(Ie),fe=he(Ie);for(var Ge in Ie){var yt=De&&Ge in Ie||fe&&p.call(Ie,Ge);if(yt){var Et=Ie[Ge],Mt=void 0;if(be&&Et&&((Mt=Z(Et))||Vt(Et))){var Nt=W[Ge];Mt?Z(Nt)||(Nt=[]):Vt(Nt)||(Nt={}),Et=or(be,Nt,Et)}Et!==void 0&&(W[Ge]=Et)}}}return W}function Rr(h){var y={};return Ze(h,function(b,I){y[b]=I,y[I]=b}),L(y)}function Wr(h){var y={};return Ze(h,function(b,I){y[b]=b,y[I]=b}),L(y)}function Dr(h){var y={};return Ze(h,function(b,I){y[b]=I[1],y[I[0]]=I[1]}),L(y)}var Ir=Rr({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});var xr="constructor",wr="prototype",$r="function",Br="_dynInstFuncs",nn="_isDynProxy",Nr="_dynClass",on="_dynCls$",Kr="_dynInstChk",Mr=Kr,Or="_dfOpts",an="_unknown_",H="__proto__",me="_dyn"+H,_e="_dynInstProto",Pe="useBaseInst",Xe="setInstFuncs",wt=Object,_t=wt.getPrototypeOf,Pt=wt.getOwnPropertyNames,At=0;function Je(h,y){return h&&wt[wr].hasOwnProperty.call(h,y)}function q(h){return h&&(h===wt[wr]||h===Array[wr])}function ce(h){return q(h)||h===Function[wr]}function de(h){var y;if(h){if(_t)return _t(h);var b=h[H]||h[wr]||(h[xr]?h[xr][wr]:null);y=h[me]||b,Je(h,me)||(delete h[_e],y=h[me]=h[_e]||h[me],h[_e]=b)}return y}function Ce(h,y){var b=[];if(Pt)b=Pt(h);else for(var I in h)typeof I=="string"&&Je(h,I)&&b.push(I);if(b&&b.length>0)for(var w=0;w<b.length;w++)y(b[w])}function ft(h,y,b){return y!==xr&&typeof h[y]===$r&&(b||Je(h,y))}function ht(h){throw new TypeError("DynamicProto: "+h)}function Xt(h){var y={};return Ce(h,function(b){!y[b]&&ft(h,b,!1)&&(y[b]=h[b])}),y}function er(h,y){for(var b=h.length-1;b>=0;b--)if(h[b]===y)return!0;return!1}function gr(h,y,b,I){function w(V,be,J){var Ie=be[J];if(Ie[nn]&&I){var De=V[Br]||{};De[Mr]!==!1&&(Ie=(De[be[Nr]]||{})[J]||Ie)}return function(){return Ie.apply(V,arguments)}}var N={};Ce(b,function(V){N[V]=w(y,b,V)});for(var U=de(h),W=[];U&&!ce(U)&&!er(W,U);)Ce(U,function(V){!N[V]&&ft(U,V,!_t)&&(N[V]=w(y,U,V))}),W.push(U),U=de(U);return N}function kr(h,y,b,I){var w=null;if(h&&Je(b,Nr)){var N=h[Br]||{};if(w=(N[b[Nr]]||{})[y],w||ht("Missing ["+y+"] "+$r),!w[Kr]&&N[Mr]!==!1){for(var U=!Je(h,y),W=de(h),V=[];U&&W&&!ce(W)&&!er(V,W);){var be=W[y];if(be){U=be===I;break}V.push(W),W=de(W)}try{U&&(h[y]=w),w[Kr]=1}catch{N[Mr]=!1}}}return w}function dn(h,y,b){var I=y[h];return I===b&&(I=de(y)[h]),typeof I!==$r&&ht("["+h+"] is not a "+$r),I}function Jn(h,y,b,I,w){function N(V,be){var J=function(){var Ie=kr(this,be,V,J)||dn(be,V,J);return Ie.apply(this,arguments)};return J[nn]=1,J}if(!q(h)){var U=b[Br]=b[Br]||{},W=U[y]=U[y]||{};U[Mr]!==!1&&(U[Mr]=!!w),Ce(b,function(V){ft(b,V,!1)&&b[V]!==I[V]&&(W[V]=b[V],delete b[V],(!Je(h,V)||h[V]&&!h[V][nn])&&(h[V]=N(h,V)))})}}function D(h,y){if(_t){for(var b=[],I=de(y);I&&!ce(I)&&!er(b,I);){if(I===h)return!0;b.push(I),I=de(I)}return!1}return!0}function F(h,y){return Je(h,wr)?h.name||y||an:((h||{})[xr]||{}).name||y||an}function z(h,y,b,I){Je(h,wr)||ht("theClass is an invalid class definition.");var w=h[wr];D(w,y)||ht("["+F(h)+"] is not in class hierarchy of ["+F(y)+"]");var N=null;Je(w,Nr)?N=w[Nr]:(N=on+F(h,"_")+"$"+At,At++,w[Nr]=N);var U=z[Or],W=!!U[Pe];W&&I&&I[Pe]!==void 0&&(W=!!I[Pe]);var V=Xt(y),be=gr(w,y,V,W);b(y,be);var J=!!_t&&!!U[Xe];J&&I&&(J=!!I[Xe]),Jn(w,N,y,V,J!==!1)}var tt={setInstFuncs:!0,useBaseInst:!0};z[Or]=tt;var Lt="window",zt="document",Qt="documentMode",jt="navigator",Yt="history",Lr="location",Pr="console",On="performance",Ln="JSON",ei="crypto",Ri="msCrypto",gd="ReactNative",$o="msie",Ko="trident/",Gs="XMLHttpRequest",Xo=null,Qo=null,Vs=!1,jn=null,Yo=null;function zs(h,y){var b=!1;if(h){try{if(b=y in h,!b){var I=h[a];I&&(b=y in I)}}catch{}if(!b)try{var w=new h;b=!Oe(w[y])}catch{}}return b}function _d(h){Vs=h}function fr(h){var y=m();return y&&y[h]?y[h]:h===Lt&&Zo()?window:null}function Zo(){return!!(typeof window===r&&window)}function Jo(){return Zo()?window:fr(Lt)}function Ws(){return!!(typeof document===r&&document)}function fn(){return Ws()?document:fr(zt)}function ea(){return!!(typeof navigator===r&&navigator)}function Pn(){return ea()?navigator:fr(jt)}function $s(){return!!(typeof history===r&&history)}function yd(){return $s()?history:fr(Yt)}function Ks(h){if(h&&Vs){var y=fr("__mockLocation");if(y)return y}return typeof location===r&&location?location:fr(Lr)}function Xs(){return typeof console!==u?console:fr(Pr)}function ta(){return fr(On)}function Di(){return!!(typeof JSON===r&&JSON||fr(Ln)!==null)}function ra(){return Di()?JSON||fr(Ln):null}function Qs(){return fr(ei)}function Ys(){return fr(Ri)}function Ed(){var h=Pn();return h&&h.product?h.product===gd:!1}function ti(){var h=Pn();if(h&&(h.userAgent!==Qo||Xo===null)){Qo=h.userAgent;var y=(Qo||A).toLowerCase();Xo=je(y,$o)||je(y,Ko)}return Xo}function bd(h){if(h===void 0&&(h=null),!h){var y=Pn()||{};h=y?(y.userAgent||A).toLowerCase():A}var b=(h||A).toLowerCase();if(je(b,$o)){var I=fn()||{};return Math.max(parseInt(b.split($o)[1]),I[Qt]||0)}else if(je(b,Ko)){var w=parseInt(b.split(Ko)[1]);if(w)return w+4}return null}function pn(h){var y=Object[a].toString.call(h),b=A;return y==="[object Error]"?b="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'":Di()&&(b=ra().stringify(h)),y+b}function Sd(h){if(!h||!pe(h)){var y=Pn()||{};h=y?(y.userAgent||A).toLowerCase():A}var b=(h||A).toLowerCase();return b.indexOf("safari")>=0}function Td(){return Yo===null&&(Yo=ea()&&!!Pn().sendBeacon),Yo}function Id(h){var y=!1;try{y=!!fr("fetch");var b=fr("Request");y&&h&&b&&(y=zs(b,"keepalive"))}catch{}return y}function wd(){return jn===null&&(jn=typeof XDomainRequest!==u,jn&&Zs()&&(jn=jn&&!zs(fr(Gs),"withCredentials"))),jn}function Zs(){var h=!1;try{var y=fr(Gs);h=!!y}catch{}return h}function Js(h,y){if(h)for(var b=0;b<h.length;b++){var I=h[b];if(I.name&&I.name===y)return I}return{}}function eu(h){var y=fn();return y&&h?Js(y.querySelectorAll("meta"),h).content:null}function tu(h){var y,b=ta();if(b){var I=b.getEntriesByType("navigation")||[];y=Js((I.length>0?I[0]:{}).serverTiming,h).description}return y}var na=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],xi=null,Ni;function Ad(h,y){return function(){var b=arguments,I=ia(y);if(I){var w=I.listener;w&&w[h]&&w[h].apply(w,b)}}}function Od(){var h=fr("Microsoft");return h&&(xi=h.ApplicationInsights),xi}function ia(h){var y=xi;return!y&&h.disableDbgExt!==!0&&(y=xi||Od()),y?y.ChromeDbgExt:null}function ru(h){if(!Ni){Ni={};for(var y=0;y<na.length;y++)Ni[na[y]]=Ad(na[y],h)}return Ni}var Pd="AI (Internal): ",Cd="AI: ",Rd="AITR_",Dd="errorToConsole",xd="warnToConsole";function nu(h){return h?'"'+h.replace(/\"/g,A)+'"':A}function iu(h,y){var b=Xs();if(b){var I="log";b[h]&&(I=h),ct(b[I])&&b[I](y)}}var Mi=function(){function h(y,b,I,w){I===void 0&&(I=!1);var N=this;N.messageId=y,N.message=(I?Cd:Pd)+y;var U=A;Di()&&(U=ra().stringify(w));var W=(b?" message:"+nu(b):A)+(w?" props:"+nu(U):A);N.message+=W}return h.dataType="MessageData",h}();function ou(h,y){return(h||{}).logger||new Fn(y)}var Fn=function(){function h(y){this.identifier="DiagnosticLogger",this.queue=[];var b=0,I={};z(h,this,function(w){ae(y)&&(y={}),w.consoleLoggingLevel=function(){return N("loggingLevelConsole",0)},w.telemetryLoggingLevel=function(){return N("loggingLevelTelemetry",1)},w.maxInternalMessageLimit=function(){return N("maxMessageLimit",25)},w.enableDebugExceptions=function(){return N("enableDebugExceptions",!1)},w.throwInternal=function(V,be,J,Ie,De){De===void 0&&(De=!1);var fe=new Mi(be,J,De,Ie);if(w.enableDebugExceptions())throw pn(fe);var Ge=V===1?Dd:xd;if(Oe(fe.message))W("throw"+(V===1?"Critical":"Warning"),fe);else{var yt=w.consoleLoggingLevel();if(De){var Et=+fe.messageId;!I[Et]&&yt>=V&&(w[Ge](fe.message),I[Et]=!0)}else yt>=V&&w[Ge](fe.message);w.logInternalMessage(V,fe)}},w.warnToConsole=function(V){iu("warn",V),W("warning",V)},w.errorToConsole=function(V){iu("error",V),W("error",V)},w.resetInternalMessageCount=function(){b=0,I={}},w.logInternalMessage=function(V,be){if(!U()){var J=!0,Ie=Rd+be.messageId;if(I[Ie]?J=!1:I[Ie]=!0,J&&(V<=w.telemetryLoggingLevel()&&(w.queue.push(be),b++,W(V===1?"error":"warn",be)),b===w.maxInternalMessageLimit())){var De="Internal events throttle limit per PageView reached for this app.",fe=new Mi(23,De,!1);w.queue.push(fe),V===1?w.errorToConsole(De):w.warnToConsole(De)}}};function N(V,be){var J=y[V];return ae(J)?be:J}function U(){return b>=w.maxInternalMessageLimit()}function W(V,be){var J=ia(y);J&&J.diagLog&&J.diagLog(V,be)}})}return h}();function au(h){return h||new Fn}function Cn(h,y,b,I,w,N){N===void 0&&(N=!1),(h||new Fn).throwInternal(y,b,I,w,N)}function su(h,y){au(h).warnToConsole(y)}function Nd(h,y,b){au(h).logInternalMessage(y,b)}var Un="ctx",uu=null,ri=function(){function h(y,b,I){var w=this,N=!1;if(w.start=Fe(),w.name=y,w.isAsync=I,w.isChildEvt=function(){return!1},ct(b)){var U;N=R(w,"payload",function(){return!U&&ct(b)&&(U=b(),b=null),U})}w.getCtx=function(W){return W?W===h.ParentContextKey||W===h.ChildrenContextKey?w[W]:(w[Un]||{})[W]:null},w.setCtx=function(W,V){if(W)if(W===h.ParentContextKey)w[W]||(w.isChildEvt=function(){return!0}),w[W]=V;else if(W===h.ChildrenContextKey)w[W]=V;else{var be=w[Un]=w[Un]||{};be[W]=V}},w.complete=function(){var W=0,V=w.getCtx(h.ChildrenContextKey);if(Z(V))for(var be=0;be<V.length;be++){var J=V[be];J&&(W+=J.time)}w.time=Fe()-w.start,w.exTime=w.time-W,w.complete=function(){},!N&&ct(b)&&(w.payload=b())}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),cu=function(){function h(y){this.ctx={},z(h,this,function(b){b.create=function(I,w,N){return new ri(I,w,N)},b.fire=function(I){I&&(I.complete(),y&&ct(y.perfEvent)&&y.perfEvent(I))},b.setCtx=function(I,w){if(I){var N=b[Un]=b[Un]||{};N[I]=w}},b.getCtx=function(I){return(b[Un]||{})[I]}})}return h}(),oa="CoreUtils.doPerf";function aa(h,y,b,I,w){if(h){var N=h;if(ct(N.getPerfMgr)&&(N=N.getPerfMgr()),N){var U=void 0,W=N.getCtx(oa);try{if(U=N.create(y(),I,w),U){if(W&&U.setCtx&&(U.setCtx(ri.ParentContextKey,W),W.getCtx&&W.setCtx)){var V=W.getCtx(ri.ChildrenContextKey);V||(V=[],W.setCtx(ri.ChildrenContextKey,V)),V.push(U)}return N.setCtx(oa,U),b(U)}}catch(be){U&&U.setCtx&&U.setCtx("exception",be)}finally{U&&N.fire(U),N.setCtx(oa,W)}}}return b()}function Md(h){uu=h}function lu(){return uu}var du=4294967296,hn=4294967295,fu=!1,ni=123456789,ii=987654321;function pu(h){h<0&&(h>>>=0),ni=123456789+h&hn,ii=987654321-h&hn,fu=!0}function hu(){try{var h=Fe()&2147483647;pu((Math.random()*du^h)+h)}catch{}}function sa(h){return h>0?Math.floor(Rn()/hn*(h+1))>>>0:0}function Rn(h){var y=0,b=Qs()||Ys();return b&&b.getRandomValues&&(y=b.getRandomValues(new Uint32Array(1))[0]&hn),y===0&&ti()&&(fu||hu(),y=ua()&hn),y===0&&(y=Math.floor(du*Math.random()|0)),h||(y>>>=0),y}function vu(h){h?pu(h):hu()}function ua(h){ii=36969*(ii&65535)+(ii>>16)&hn,ni=18e3*(ni&65535)+(ni>>16)&hn;var y=(ii<<16)+(ni&65535)>>>0&hn|0;return h||(y>>>=0),y}function ca(h){h===void 0&&(h=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=Rn()>>>0,I=0,w=A;w.length<h;)I++,w+=y.charAt(b&63),b>>>=6,I===5&&(b=(Rn()<<2&4294967295|b&3)>>>0,I=0);return w}var mu=c,gu="2.8.4",kd="."+ca(6),Ld=0;function jd(h,y,b){if(mu)try{return mu(h,y,{value:b,enumerable:!1,configurable:!0}),!0}catch{}return!1}function _u(h){return h.nodeType===1||h.nodeType===9||!+h.nodeType}function Fd(h,y){var b=y[h.id];if(!b){b={};try{_u(y)&&(jd(y,h.id,b)||(y[h.id]=b))}catch{}}return b}function oi(h,y){return y===void 0&&(y=!1),qt(h+Ld+++(y?"."+gu:"")+kd)}function yu(h){var y={id:oi("_aiData-"+(h||"")+"."+gu),accept:function(b){return _u(b)},get:function(b,I,w,N){var U=b[y.id];return U?U[qt(I)]:(N&&(U=Fd(y,b),U[qt(I)]=w),w)},kill:function(b,I){if(b&&b[I])try{delete b[I]}catch{}}};return y}var Eu="toGMTString",bu="toUTCString",la="cookie",da="expires",fa="enabled",Su="isCookieUseDisabled",Tu="disableCookiesUsage",vn="_ckMgr",ki=null,pa=null,Iu=null,ai=fn(),wu={},Li={};function Au(h,y){var b=Hn[vn]||Li[vn];return b||(b=Hn[vn]=Hn(h,y),Li[vn]=b),b}function ji(h){return h?h.isEnabled():!0}function Ud(h){var y=h.cookieCfg=h.cookieCfg||{};if(qe(y,"domain",h.cookieDomain,we,ae),qe(y,"path",h.cookiePath||"/",null,ae),ae(y[fa])){var b=void 0;Oe(h[Su])||(b=!h[Su]),Oe(h[Tu])||(b=!h[Tu]),y[fa]=b}return y}function Hd(h,y){var b;if(h)b=h.getCookieMgr();else if(y){var I=y.cookieCfg;I[vn]?b=I[vn]:b=Hn(y)}return b||(b=Au(y,(h||{}).logger)),b}function Hn(h,y){var b=Ud(h||Li),I=b.path||"/",w=b.domain,N=b[fa]!==!1,U={isEnabled:function(){var W=N&&ha(y),V=Li[vn];return W&&V&&U!==V&&(W=ji(V)),W},setEnabled:function(W){N=W!==!1},set:function(W,V,be,J,Ie){var De=!1;if(ji(U)){var fe={},Ge=f(V||A),yt=Ge.indexOf(";");if(yt!==-1&&(Ge=f(V.substring(0,yt)),fe=Ou(V.substring(yt+1))),qe(fe,"domain",J||w,St,Oe),!ae(be)){var Et=ti();if(Oe(fe[da])){var Mt=Fe(),Nt=Mt+be*1e3;if(Nt>0){var sr=new Date;sr.setTime(Nt),qe(fe,da,Pu(sr,Et?Eu:bu)||Pu(sr,Et?Eu:bu)||A,St)}}Et||qe(fe,"max-age",A+be,null,Oe)}var ur=Ks();ur&&ur.protocol==="https:"&&(qe(fe,"secure",null,null,Oe),pa===null&&(pa=!Du((Pn()||{}).userAgent)),pa&&qe(fe,"SameSite","None",null,Oe)),qe(fe,"path",Ie||I,null,Oe);var Be=b.setCookie||Ru;Be(W,Cu(Ge,fe)),De=!0}return De},get:function(W){var V=A;return ji(U)&&(V=(b.getCookie||qd)(W)),V},del:function(W,V){var be=!1;return ji(U)&&(be=U.purge(W,V)),be},purge:function(W,V){var be,J=!1;if(ha(y)){var Ie=(be={},be.path=V||"/",be[da]="Thu, 01 Jan 1970 00:00:01 GMT",be);ti()||(Ie["max-age"]="0");var De=b.delCookie||Ru;De(W,Cu(A,Ie)),J=!0}return J}};return U[vn]=U,U}function ha(h){if(ki===null){ki=!1;try{var y=ai||{};ki=y[la]!==void 0}catch(b){Cn(h,2,68,"Cannot access document.cookie - "+dt(b),{exception:pn(b)})}}return ki}function Ou(h){var y={};if(h&&h.length){var b=f(h).split(";");nt(b,function(I){if(I=f(I||A),I){var w=I.indexOf("=");w===-1?y[I]=null:y[f(I.substring(0,w))]=f(I.substring(w+1))}})}return y}function Pu(h,y){return ct(h[y])?h[y]():null}function Cu(h,y){var b=h||A;return Ze(y,function(I,w){b+="; "+I+(ae(w)?A:"="+w)}),b}function qd(h){var y=A;if(ai){var b=ai[la]||A;Iu!==b&&(wu=Ou(b),Iu=b),y=f(wu[h]||A)}return y}function Ru(h,y){ai&&(ai[la]=h+"="+y)}function Du(h){return pe(h)?!!(je(h,"CPU iPhone OS 12")||je(h,"iPad; CPU OS 12")||je(h,"Macintosh; Intel Mac OS X 10_14")&&je(h,"Version/")&&je(h,"Safari")||je(h,"Macintosh; Intel Mac OS X 10_14")&&Kt(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||je(h,"Chrome/5")||je(h,"Chrome/6")||je(h,"UnrealEngine")&&!je(h,"Chrome")||je(h,"UCBrowser/12")||je(h,"UCBrowser/11")):!1}var xu="on",Nu="attachEvent",Mu="addEventListener",ku="detachEvent",Lu="removeEventListener",Fi="events",si="visibilitychange",Ui="pagehide",ju="pageshow",Fu="unload",Uu="beforeunload",Hu=oi("aiEvtPageHide"),qu=oi("aiEvtPageShow"),Bd=/\.[\.]+/g,Gd=/[\.]+$/,Vd=1,ui=yu("events"),zd=/^([^.]*)(?:\.(.+)|)/;function Bu(h){return h&&h.replace?h.replace(/^\s*\.*|\.*\s*$/g,""):h}function Hi(h,y){if(y){var b="";Z(y)?(b="",nt(y,function(w){w=Bu(w),w&&(w[0]!=="."&&(w="."+w),b+=w)})):b=Bu(y),b&&(b[0]!=="."&&(b="."+b),h=(h||"")+b)}var I=zd.exec(h||"")||[];return{type:I[1],ns:(I[2]||"").replace(Bd,".").replace(Gd,"").split(".").sort().join(".")}}function Wd(h,y,b){var I=[],w=ui.get(h,Fi,{},!1),N=Hi(y,b);return Ze(w,function(U,W){nt(W,function(V){(!N.type||N.type===V.evtName.type)&&(!N.ns||N.ns===N.ns)&&I.push({name:V.evtName.type+(V.evtName.ns?"."+V.evtName.ns:""),handler:V.handler})})}),I}function Gu(h,y,b){b===void 0&&(b=!0);var I=ui.get(h,Fi,{},b),w=I[y];return w||(w=I[y]=[]),w}function Vu(h,y,b,I){h&&y&&y.type&&(h[Lu]?h[Lu](y.type,b,I):h[ku]&&h[ku](xu+y.type,b))}function $d(h,y,b,I){var w=!1;return h&&y&&y.type&&b&&(h[Mu]?(h[Mu](y.type,b,I),w=!0):h[Nu]&&(h[Nu](xu+y.type,b),w=!0)),w}function zu(h,y,b,I){for(var w=y.length;w--;){var N=y[w];N&&(!b.ns||b.ns===N.evtName.ns)&&(!I||I(N))&&(Vu(h,N.evtName,N.handler,N.capture),y.splice(w,1))}}function Kd(h,y,b){if(y.type)zu(h,Gu(h,y.type),y,b);else{var I=ui.get(h,Fi,{});Ze(I,function(w,N){zu(h,N,y,b)}),C(I).length===0&&ui.kill(h,Fi)}}function ci(h,y){var b;return y?(Z(y)?b=[h].concat(y):b=[h,y],b=Hi("xx",b).ns.split(".")):b=h,b}function li(h,y,b,I,w){w===void 0&&(w=!1);var N=!1;if(h)try{var U=Hi(y,I);if(N=$d(h,U,b,w),N&&ui.accept(h)){var W={guid:Vd++,evtName:U,handler:b,capture:w};Gu(h,U.type).push(W)}}catch{}return N}function di(h,y,b,I,w){if(w===void 0&&(w=!1),h)try{var N=Hi(y,I),U=!1;Kd(h,N,function(W){return N.ns&&!b||W.handler===b?(U=!0,!0):!1}),U||Vu(h,N,b,w)}catch{}}function va(h,y,b,I){return I===void 0&&(I=!1),li(h,y,b,null,I)}function ma(h,y,b,I){I===void 0&&(I=!1),di(h,y,b,null,I)}function ga(h,y,b){var I=!1,w=Jo();w&&(I=li(w,h,y,b),I=li(w.body,h,y,b)||I);var N=fn();return N&&(I=li(N,h,y,b)||I),I}function Wu(h,y,b){var I=Jo();I&&(di(I,h,y,b),di(I.body,h,y,b));var w=fn();w&&di(w,h,y,b)}function qn(h,y,b,I){var w=!1;return y&&h&&h.length>0&&nt(h,function(N){N&&(!b||Rt(b,N)===-1)&&(w=ga(N,y,I)||w)}),w}function $u(h,y,b,I){var w=!1;return y&&h&&Z(h)&&(w=qn(h,y,b,I),!w&&b&&b.length>0&&(w=qn(h,y,null,I))),w}function Bn(h,y,b){h&&Z(h)&&nt(h,function(I){I&&Wu(I,y,b)})}function Xd(h,y,b){return $u([Uu,Fu,Ui],h,y,b)}function Qd(h,y){Bn([Uu,Fu,Ui],h,y)}function Ku(h,y,b){function I(U){var W=fn();h&&W&&W.visibilityState==="hidden"&&h(U)}var w=ci(Hu,b),N=qn([Ui],h,y,w);return(!y||Rt(y,si)===-1)&&(N=qn([si],I,y,w)||N),!N&&y&&(N=Ku(h,null,b)),N}function Yd(h,y){var b=ci(Hu,y);Bn([Ui],h,b),Bn([si],null,b)}function Xu(h,y,b){function I(U){var W=fn();h&&W&&W.visibilityState==="visible"&&h(U)}var w=ci(qu,b),N=qn([ju],h,y,w);return N=qn([si],I,y,w)||N,!N&&y&&(N=Xu(h,null,b)),N}function Zd(h,y){var b=ci(qu,y);Bn([ju],h,b),Bn([si],null,b)}var fi=null,pi,Jd=u;function Qu(){function h(){return sa(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ef,function(y){var b=h()|0,I=y==="x"?b:b&3|8;return I.toString(16)})}function Yu(){var h=ta();return h&&h.now?h.now():Fe()}function qi(){for(var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],y=A,b,I=0;I<4;I++)b=Rn(),y+=h[b&15]+h[b>>4&15]+h[b>>8&15]+h[b>>12&15]+h[b>>16&15]+h[b>>20&15]+h[b>>24&15]+h[b>>28&15];var w=h[8+(Rn()&3)|0];return y.substr(0,8)+y.substr(9,4)+"4"+y.substr(13,3)+w+y.substr(16,3)+y.substr(19,12)}var _a={_canUseCookies:void 0,isTypeof:It,isUndefined:Oe,isNullOrUndefined:ae,hasOwnProperty:Le,isFunction:ct,isObject:he,isDate:Se,isArray:Z,isError:ze,isString:pe,isNumber:mt,isBoolean:bt,toISOString:$t,arrForEach:nt,arrIndexOf:Rt,arrMap:lt,arrReduce:gt,strTrim:f,objCreate:E,objKeys:C,objDefineAccessors:R,addEventHandler:ga,dateNow:Fe,isIE:ti,disableCookies:Zu,newGuid:Qu,perfNow:Yu,newId:ca,randomValue:sa,random32:Rn,mwcRandomSeed:vu,mwcRandom32:ua,generateW3CId:qi},ef=/[xy]/g,tf={Attach:va,AttachEvent:va,Detach:ma,DetachEvent:ma};function Gn(h,y){var b=Au(h,y),I=_a._canUseCookies;return fi===null&&(fi=[],pi=I,R(_a,"_canUseCookies",function(){return pi},function(w){pi=w,nt(fi,function(N){N.setEnabled(w)})})),Rt(fi,b)===-1&&fi.push(b),bt(I)&&b.setEnabled(I),bt(pi)&&b.setEnabled(pi),b}function Zu(){Gn().setEnabled(!1)}function rf(h){return Gn(null,h).isEnabled()}function nf(h,y){return Gn(null,h).get(y)}function of(h,y,b,I){Gn(null,h).set(y,b,null,I)}function af(h,y){return Gn(null,h).del(y)}var sf=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,ya="00",Ea="ff",Bi="00000000000000000000000000000000",Gi="0000000000000000",Ju=1;function sn(h,y,b){return h&&h.length===y&&h!==b?!!h.match(/^[\da-f]*$/):!1}function ec(h,y,b){return sn(h,y)?h:b}function tc(h){(isNaN(h)||h<0||h>255)&&(h=1);for(var y=h.toString(16);y.length<2;)y="0"+y;return y}function uf(h,y,b,I){return{version:sn(I,2,Ea)?I:ya,traceId:Sa(h)?h:qi(),spanId:Ta(y)?y:qi().substr(0,16),traceFlags:b>=0&&b<=255?b:1}}function ba(h){if(!h||(Z(h)&&(h=h[0]||""),!h||!pe(h)||h.length>8192))return null;var y=sf.exec(f(h));return!y||y[1]===Ea||y[2]===Bi||y[3]===Gi?null:{version:y[1],traceId:y[2],spanId:y[3],traceFlags:parseInt(y[4],16)}}function Sa(h){return sn(h,32,Bi)}function Ta(h){return sn(h,16,Gi)}function rc(h){return!(!h||!sn(h.version,2,Ea)||!sn(h.traceId,32,Bi)||!sn(h.spanId,16,Gi)||!sn(tc(h.traceFlags),2))}function cf(h){return rc(h)?(h.traceFlags&Ju)===Ju:!1}function lf(h){if(h){var y=tc(h.traceFlags);sn(y,2)||(y="01");var b=h.version||ya;return b!=="00"&&b!=="ff"&&(b=ya),"".concat(b,"-").concat(ec(h.traceId,32,Bi),"-").concat(ec(h.spanId,16,Gi),"-").concat(y)}return""}function df(){var h="traceparent",y=ba(eu(h));return y||(y=ba(tu(h))),y}var ff="_doUnload",pf=yu("plugin");function Dn(h){return pf.get(h,"state",{},!0)}function Ia(h,y){for(var b=[],I=null,w=h.getNext(),N;w;){var U=w.getPlugin();if(U){I&&ct(I[G])&&ct(U[M])&&I[G](U);var W=!1;ct(U[B])?W=U[B]():(N=Dn(U),W=N[B]),W||b.push(U),I=U,w=w.getNext()}}nt(b,function(V){var be=h.core();V.initialize(h.getCfg(),be,y,h.getNext()),N=Dn(V),!V[ne]&&!N[ne]&&(N[ne]=be),N[B]=!0,delete N[Y]})}function Vi(h){return h.sort(function(y,b){var I=0;if(b){var w=ct(b[M]);ct(y[M])?I=w?y[j]-b[j]:1:w&&(I=-1)}else I=y?1:-1;return I})}function hf(h,y,b,I){var w=0;function N(){for(;w<h.length;){var U=h[w++];if(U){var W=U[ff]||U[ut];if(ct(W)&&W.call(U,y,b,N)===!0)return!0}}}return N()}function vf(h){var y={};return{getName:function(){return y.name},setName:function(b){h&&h.setName(b),y.name=b},getTraceId:function(){return y.traceId},setTraceId:function(b){h&&h.setTraceId(b),Sa(b)&&(y.traceId=b)},getSpanId:function(){return y.spanId},setSpanId:function(b){h&&h.setSpanId(b),Ta(b)&&(y.spanId=b)},getTraceFlags:function(){return y.traceFlags},setTraceFlags:function(b){h&&h.setTraceFlags(b),y.traceFlags=b}}}var mf="TelemetryPluginChain",nc="_hasRun",ic="_getTelCtx",oc=0;function gf(h,y,b){for(;h;){if(h.getPlugin()===b)return h;h=h.getNext()}return mn([b],y.config||{},y)}function wa(h,y,b,I){var w=null,N=[];I!==null&&(w=I?gf(h,b,I):h);var U={_next:V,ctx:{core:function(){return b},diagLog:function(){return ou(b,y)},getCfg:function(){return y},getExtCfg:be,getConfig:J,hasNext:function(){return!!w},getNext:function(){return w},setNext:function(De){w=De},iterate:Ie,onComplete:W}};function W(De,fe){for(var Ge=[],yt=2;yt<arguments.length;yt++)Ge[yt-2]=arguments[yt];De&&N.push({func:De,self:Oe(fe)?U.ctx:fe,args:Ge})}function V(){var De=w;if(w=De?De.getNext():null,!De){var fe=N;fe&&fe.length>0&&(nt(fe,function(Ge){try{Ge.func.call(Ge.self,Ge.args)}catch(yt){Cn(b.logger,2,73,"Unexpected Exception during onComplete - "+pn(yt))}}),N=[])}return De}function be(De,fe,Ge){fe===void 0&&(fe={}),Ge===void 0&&(Ge=0);var yt;if(y){var Et=y.extensionConfig;Et&&De&&(yt=Et[De])}if(!yt)yt=fe;else if(he(fe)&&Ge!==0){var Mt=or(!0,fe,yt);y&&Ge===2&&Ze(fe,function(Nt){if(ae(Mt[Nt])){var sr=y[Nt];ae(sr)||(Mt[Nt]=sr)}}),yt=Mt}return yt}function J(De,fe,Ge){Ge===void 0&&(Ge=!1);var yt,Et=be(De,null);return Et&&!ae(Et[fe])?yt=Et[fe]:y&&!ae(y[fe])&&(yt=y[fe]),ae(yt)?Ge:yt}function Ie(De){for(var fe;fe=U._next();){var Ge=fe.getPlugin();Ge&&De(Ge)}}return U}function un(h,y,b,I){var w=wa(h,y,b,I),N=w.ctx;function U(V){var be=w._next();return be&&be.processTelemetry(V,N),!be}function W(V,be){return V===void 0&&(V=null),Z(V)&&(V=mn(V,y,b,be)),un(V||N.getNext(),y,b,be)}return N.processNext=U,N.createNew=W,N}function zi(h,y,b){var I=y.config||{},w=wa(h,I,y,b),N=w.ctx;function U(V){var be=w._next();return be&&be.unload(N,V),!be}function W(V,be){return V===void 0&&(V=null),Z(V)&&(V=mn(V,I,y,be)),zi(V||N.getNext(),y,be)}return N.processNext=U,N.createNew=W,N}function Aa(h,y,b){var I=y.config||{},w=wa(h,I,y,b),N=w.ctx;function U(V){return N.iterate(function(be){ct(be.update)&&be.update(N,V)})}function W(V,be){return V===void 0&&(V=null),Z(V)&&(V=mn(V,I,y,be)),Aa(V||N.getNext(),y,be)}return N.processNext=U,N.createNew=W,N}function mn(h,y,b,I){var w=null,N=!I;if(Z(h)&&h.length>0){var U=null;nt(h,function(W){if(!N&&I===W&&(N=!0),N&&W&&ct(W.processTelemetry)){var V=_f(W,y,b);w||(w=V),U&&U._setNext(V),U=V}})}return I&&!w?mn([I],y,b):w}function _f(h,y,b){var I=null,w=ct(h.processTelemetry),N=ct(h.setNextPlugin),U;h?U=h.identifier+"-"+h.priority+"-"+oc++:U="Unknown-0-"+oc++;var W={getPlugin:function(){return h},getNext:function(){return I},processTelemetry:J,unload:Ie,update:De,_id:U,_setNext:function(fe){I=fe}};function V(){var fe;return h&&ct(h[ic])&&(fe=h[ic]()),fe||(fe=un(W,y,b)),fe}function be(fe,Ge,yt,Et,Mt){var Nt=!1,sr=h?h.identifier:mf,ur=fe[nc];return ur||(ur=fe[nc]={}),fe.setNext(I),h&&aa(fe[ne](),function(){return sr+":"+yt},function(){ur[U]=!0;try{var Be=I?I._id:A;Be&&(ur[Be]=!1),Nt=Ge(fe)}catch(Vn){var hi=I?ur[I._id]:!0;hi&&(Nt=!0),(!I||!hi)&&Cn(fe.diagLog(),1,73,"Plugin ["+sr+"] failed during "+yt+" - "+pn(Vn)+", run flags: "+pn(ur))}},Et,Mt),Nt}function J(fe,Ge){Ge=Ge||V();function yt(Et){if(!h||!w)return!1;var Mt=Dn(h);return Mt.teardown||Mt[Re]?!1:(N&&h.setNextPlugin(I),h.processTelemetry(fe,Et),!0)}be(Ge,yt,"processTelemetry",function(){return{item:fe}},!fe.sync)||Ge.processNext(fe)}function Ie(fe,Ge){function yt(){var Et=!1;if(h){var Mt=Dn(h),Nt=h[ne]||Mt.core;h&&(!Nt||Nt===fe[ne]())&&!Mt[Y]&&(Mt[ne]=null,Mt[Y]=!0,Mt[B]=!1,h[Y]&&h[Y](fe,Ge)===!0&&(Et=!0))}return Et}be(fe,yt,"unload",function(){},Ge.isAsync)||fe.processNext(Ge)}function De(fe,Ge){function yt(){var Et=!1;if(h){var Mt=Dn(h),Nt=h[ne]||Mt.core;h&&(!Nt||Nt===fe[ne]())&&!Mt[Y]&&h[ye]&&h[ye](fe,Ge)===!0&&(Et=!0)}return Et}be(fe,yt,"update",function(){},!1)||fe.processNext(Ge)}return Q(W)}var yf=function(){function h(y,b,I,w){var N=this,U=un(y,b,I,w);zr(N,U,C(U))}return h}(),Ef="iKey",ac="extensionConfig",Wi=500,bf="Channel has invalid priority - ";function sc(h,y,b,I){y&&Z(y)&&y.length>0&&(y=y.sort(function(w,N){return w.priority-N.priority}),nt(y,function(w){w.priority<Wi&&Ut(bf+w.identifier)}),h.push({queue:Q(y),chain:mn(y,b,I)}))}function Sf(h,y){var b;function I(){return un(null,y.config,y,null)}function w(J,Ie,De,fe){var Ge=J?J.length+1:1;function yt(){Ge--,Ge===0&&(fe&&fe(),fe=null)}Ge>0&&nt(J,function(Et){if(Et&&Et.queue.length>0){var Mt=Et.chain,Nt=Ie.createNew(Mt);Nt.onComplete(yt),De(Nt)}else Ge--}),yt()}function N(J,Ie){var De=Ie||{reason:0};return w(h,J,function(fe){fe[ot](De)},function(){J[ot](De)}),!0}function U(J,Ie){var De=Ie||{reason:0,isAsync:!1};return w(h,J,function(fe){fe[ot](De)},function(){J[ot](De),V=!1}),!0}function W(J){var Ie=null;return h&&h.length>0&&nt(h,function(De){if(De&&De.queue.length>0&&(nt(De.queue,function(fe){if(fe.identifier===J)return Ie=fe,-1}),Ie))return-1}),Ie}var V=!1,be=(b={identifier:"ChannelControllerPlugin",priority:Wi,initialize:function(J,Ie,De,fe){V=!0,nt(h,function(Ge){Ge&&Ge.queue.length>0&&Ia(un(Ge.chain,J,Ie),De)})},isInitialized:function(){return V},processTelemetry:function(J,Ie){w(h,Ie||I(),function(De){De[ot](J)},function(){Ie[ot](J)})},update:N},b[st]=function(){w(h,I(),function(J){J.iterate(function(Ie){Ie[st]&&Ie[st]()})},null)},b[xt]=function(){w(h,I(),function(J){J.iterate(function(Ie){Ie[xt]&&Ie[xt]()})},null)},b[Y]=U,b.getChannel=W,b.flush=function(J,Ie,De,fe){var Ge=1,yt=!1,Et=null;fe=fe||5e3;function Mt(){Ge--,yt&&Ge===0&&(Et&&(clearTimeout(Et),Et=null),Ie&&Ie(yt),Ie=null)}return w(h,I(),function(Nt){Nt.iterate(function(sr){if(sr.flush){Ge++;var ur=!1;sr.flush(J,function(){ur=!0,Mt()},De)||ur||(J&&Et==null?Et=setTimeout(function(){Et=null,Mt()},fe):Mt())}})},function(){yt=!0,Mt()}),!0},b._setQueue=function(J){h=J},b);return be}function Tf(h,y,b,I){var w=[];if(h&&nt(h,function(U){return sc(w,U,b,I)}),y){var N=[];nt(y,function(U){U.priority>Wi&&N.push(U)}),sc(w,N,b,I)}return w}function Oa(){var h=[];function y(I){I&&h.push(I)}function b(I,w){nt(h,function(N){try{N(I,w)}catch(U){Cn(I.diagLog(),2,73,"Unexpected error calling unload handler - "+pn(U))}}),h=[]}return{add:y,run:b}}var gn="getPlugin",uc=function(){function h(){var y=this,b,I,w,N,U;be(),z(h,y,function(J){J.initialize=function(Ie,De,fe,Ge){V(Ie,De,Ge),b=!0},J.teardown=function(Ie,De){var fe=J.core;if(!fe||Ie&&fe!==Ie.core())return;var Ge,yt=!1,Et=Ie||zi(null,fe,w&&w[gn]?w[gn]():w),Mt=De||{reason:0,isAsync:!1};function Nt(){yt||(yt=!0,N.run(Et,De),nt(U,function(sr){sr.rm()}),U=[],Ge===!0&&Et.processNext(Mt),be())}return!J[ut]||J[ut](Et,Mt,Nt)!==!0?Nt():Ge=!0,Ge},J.update=function(Ie,De){var fe=J.core;if(!fe||Ie&&fe!==Ie.core())return;var Ge,yt=!1,Et=Ie||Aa(null,fe,w&&w[gn]?w[gn]():w),Mt=De||{reason:0};function Nt(){yt||(yt=!0,V(Et.getCfg(),Et.core(),Et.getNext()))}return!J._doUpdate||J._doUpdate(Et,Mt,Nt)!==!0?Nt():Ge=!0,Ge},J._addHook=function(Ie){Ie&&(Z(Ie)?U=U.concat(Ie):U.push(Ie))},mr(J,"_addUnloadCb",function(){return N},"add")}),y.diagLog=function(J){return W(J).diagLog()},y[B]=function(){return b},y.setInitialized=function(J){b=J},y[G]=function(J){w=J},y.processNext=function(J,Ie){Ie?Ie.processNext(J):w&&ct(w.processTelemetry)&&w.processTelemetry(J,null)},y._getTelCtx=W;function W(J){J===void 0&&(J=null);var Ie=J;if(!Ie){var De=I||un(null,{},y.core);w&&w[gn]?Ie=De.createNew(null,w[gn]):Ie=De.createNew(null,w)}return Ie}function V(J,Ie,De){J&&qe(J,ac,[],null,ae),!De&&Ie&&(De=Ie.getProcessTelContext().getNext());var fe=w;w&&w[gn]&&(fe=w[gn]()),y.core=Ie,I=un(De,J,Ie,fe)}function be(){b=!1,y.core=null,I=null,w=null,U=[],N=Oa()}}return h}(),If=function(h){O(y,h);function y(){var b=h.call(this)||this;b.identifier="TelemetryInitializerPlugin",b.priority=199;var I,w;N(),z(y,b,function(U,W){U.addTelemetryInitializer=function(V){var be={id:I++,fn:V};w.push(be);var J={remove:function(){nt(w,function(Ie,De){if(Ie.id===be.id)return w.splice(De,1),-1})}};return J},U.processTelemetry=function(V,be){for(var J=!1,Ie=w.length,De=0;De<Ie;++De){var fe=w[De];if(fe)try{if(fe.fn.apply(null,[V])===!1){J=!0;break}}catch(Ge){Cn(be.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+dt(Ge),{exception:pn(Ge)},!0)}}J||U.processNext(V,be)},U[ut]=function(){N()}});function N(){I=0,w=[]}return b}return y}(uc),cc="Plugins must provide initialize method",lc="_notificationManager",dc="SDK is still unloading...",wf="SDK is not initialized",Af={loggingLevelConsole:1};function Of(h,y){return new cu(y)}function Pf(h,y,b){var I=[],w={};return nt(b,function(N){(ae(N)||ae(N.initialize))&&Ut(cc);var U=N.priority,W=N.identifier;N&&U&&(ae(w[U])?w[U]=W:su(h,"Two extensions have same priority #"+U+" - "+w[U]+", "+W)),(!U||U<y)&&I.push(N)}),{all:b,core:I}}function fc(h,y){var b=!1;return nt(y,function(I){if(I===h)return b=!0,-1}),b}function Cf(){var h;return E((h={},h[ge]=function(y){},h[le]=function(y){},h[Ue]=function(y){},h[X]=function(y,b){},h[Ee]=function(y,b){},h))}var pc=function(){function h(){var y,b,I,w,N,U,W,V,be,J,Ie,De,fe,Ge,yt,Et,Mt,Nt,sr,ur=0;z(h,this,function(Be){hi(),Be.isInitialized=function(){return y},Be.initialize=function(ke,kt,Zt,Dt){fe&&Ut(dc),Be.isInitialized()&&Ut("Core should not be initialized more than once"),(!ke||ae(ke.instrumentationKey))&&Ut("Please provide instrumentation key"),I=Dt,Be[lc]=Dt,Be.config=ke||{},jf(ke),Ff(ke),ke.extensions=ae(ke.extensions)?[]:ke.extensions,Uf(ke),Zt&&(Be.logger=Zt),V=[],V.push.apply(V,P(P([],kt,!1),ke.extensions)),Ie=(ke||{}).channels,Da(ke,null),(!De||De.length===0)&&Ut("No channels available"),y=!0,Be.releaseQueue()},Be.getTransmissionControls=function(){var ke=[];return De&&nt(De,function(kt){ke.push(kt.queue)}),Q(ke)},Be.track=function(ke){qe(ke,Ef,Be.config.instrumentationKey,null,pt),qe(ke,"time",$t(new Date),null,pt),qe(ke,"ver","4.0",null,ae),!fe&&Be.isInitialized()?Vn().processNext(ke):b.push(ke)},Be.getProcessTelContext=Vn,Be.getNotifyMgr=function(){return I||(I=Cf(),Be[lc]=I),I},Be[ge]=function(ke){I&&I[ge](ke)},Be[le]=function(ke){I&&I[le](ke)},Be.getCookieMgr=function(){return U||(U=Hn(Be.config,Be.logger)),U},Be.setCookieMgr=function(ke){U=ke},Be.getPerfMgr=function(){return!w&&!N&&Be.config&&Be.config.enablePerfMgr&&ct(Be.config.createPerfMgr)&&(N=Be.config.createPerfMgr(Be,Be.getNotifyMgr())),w||N||lu()},Be.setPerfMgr=function(ke){w=ke},Be.eventCnt=function(){return b.length},Be.releaseQueue=function(){if(y&&b.length>0){var ke=b;b=[],nt(ke,function(kt){Vn().processNext(kt)})}},Be.pollInternalLogs=function(ke){yt=ke||null;var kt=Be.config.diagnosticLogInterval;return(!kt||!(kt>0))&&(kt=1e4),ur&&clearInterval(ur),ur=setInterval(function(){bc()},kt),ur},Be.stopPollingInternalLogs=function(){ur&&(clearInterval(ur),ur=0,bc())},zr(Be,function(){return Ge},["addTelemetryInitializer"]),Be.unload=function(ke,kt,Zt){ke===void 0&&(ke=!0),y||Ut(wf),fe&&Ut(dc);var Dt={reason:50,isAsync:ke,flushComplete:!1},pr=zi(xa(),Be);pr.onComplete(function(){hi(),kt&&kt(Dt)},Be);function jr(cn){Dt.flushComplete=cn,fe=!0,Mt.run(pr,Dt),Be.stopPollingInternalLogs(),pr.processNext(Dt)}Sc(ke,jr,6,Zt)||jr(!1)},Be.getPlugin=yc,Be.addPlugin=function(ke,kt,Zt,Dt){if(!ke){Dt&&Dt(!1),Tc(cc);return}var pr=yc(ke.identifier);if(pr&&!kt){Dt&&Dt(!1),Tc("Plugin ["+ke.identifier+"] is already loaded!");return}var jr={reason:16};function cn(Xi){V.push(ke),jr.added=[ke],Da(Be.config,jr),Dt&&Dt(!0)}if(pr){var _n=[pr.plugin],zn={reason:2,isAsync:!!Zt};Ec(_n,zn,function(Xi){Xi?(jr.removed=_n,jr.reason|=32,cn()):Dt&&Dt(!1)})}else cn()},Be.evtNamespace=function(){return Et},Be.flush=Sc,Be.getTraceCtx=function(ke){return sr||(sr=vf()),sr},Be.setTraceCtx=function(ke){sr=ke||null},mr(Be,"addUnloadCb",function(){return Mt},"add");function hi(){y=!1,Be.config=or(!0,{},Af),Be.logger=new Fn(Be.config),Be._extensions=[],Ge=new If,b=[],I=null,w=null,N=null,U=null,W=null,be=null,V=[],J=null,Ie=null,De=null,fe=!1,yt=null,Et=oi("AIBaseCore",!0),Mt=Oa(),sr=null}function Vn(){return un(xa(),Be.config,Be)}function Da(ke,kt){var Zt=Pf(Be.logger,Wi,V);be=Zt.core,W=null;var Dt=Zt.all;if(De=Q(Tf(Ie,Dt,ke,Be)),J){var pr=Rt(Dt,J);pr!==-1&&Dt.splice(pr,1),pr=Rt(be,J),pr!==-1&&be.splice(pr,1),J._setQueue(De)}else J=Sf(De,Be);Dt.push(J),be.push(J),Be._extensions=Vi(Dt),J.initialize(ke,Be,Dt),Ia(Vn(),Dt),Be._extensions=Q(Vi(be||[])).slice(),kt&&Hf(kt)}function yc(ke){var kt=null,Zt=null;return nt(Be._extensions,function(Dt){if(Dt.identifier===ke&&Dt!==J&&Dt!==Ge)return Zt=Dt,-1}),!Zt&&J&&(Zt=J.getChannel(ke)),Zt&&(kt={plugin:Zt,setEnabled:function(Dt){Dn(Zt)[Re]=!Dt},isEnabled:function(){var Dt=Dn(Zt);return!Dt[Y]&&!Dt[Re]},remove:function(Dt,pr){Dt===void 0&&(Dt=!0);var jr=[Zt],cn={reason:1,isAsync:Dt};Ec(jr,cn,function(_n){_n&&Da(Be.config,{reason:32,removed:jr}),pr&&pr(_n)})}}),kt}function xa(){if(!W){var ke=(be||[]).slice();Rt(ke,Ge)===-1&&ke.push(Ge),W=mn(Vi(ke),Be.config,Be)}return W}function Ec(ke,kt,Zt){if(ke&&ke.length>0){var Dt=mn(ke,Be.config,Be),pr=zi(Dt,Be);pr.onComplete(function(){var jr=!1,cn=[];nt(V,function(zn,Xi){fc(zn,ke)?jr=!0:cn.push(zn)}),V=cn;var _n=[];Ie&&(nt(Ie,function(zn,Xi){var Ic=[];nt(zn,function(wc){fc(wc,ke)?jr=!0:Ic.push(wc)}),_n.push(Ic)}),Ie=_n),Zt&&Zt(jr)}),pr.processNext(kt)}else Zt(!1)}function bc(){var ke=Be.logger?Be.logger.queue:[];ke&&(nt(ke,function(kt){var Zt={name:yt||"InternalMessageId: "+kt.messageId,iKey:Be.config.instrumentationKey,time:$t(new Date),baseType:Mi.dataType,baseData:{message:kt.message}};Be.track(Zt)}),ke.length=0)}function Sc(ke,kt,Zt,Dt){return J?J.flush(ke,kt,Zt||6,Dt):(kt&&kt(!1),!0)}function jf(ke){ke.disableDbgExt===!0&&Nt&&(I[le](Nt),Nt=null),I&&!Nt&&ke.disableDbgExt!==!0&&(Nt=ru(ke),I[ge](Nt))}function Ff(ke){!ke.enablePerfMgr&&N&&(N=null),ke.enablePerfMgr&&qe(Be.config,"createPerfMgr",Of)}function Uf(ke){var kt=it(ke,ac);kt.NotificationManager=I}function Hf(ke){var kt=Aa(xa(),Be);(!Be._updateHook||Be._updateHook(kt,ke)!==!0)&&kt.processNext(ke)}function Tc(ke){var kt=Be.logger;kt?Cn(kt,2,73,ke):Ut(ke)}})}return h}();function $i(h,y,b,I){nt(h,function(w){if(w&&w[y])if(b)setTimeout(function(){return I(w)},0);else try{I(w)}catch{}})}var hc=function(){function h(y){this.listeners=[];var b=!!(y||{}).perfEvtsSendAll;z(h,this,function(I){I[ge]=function(w){I.listeners.push(w)},I[le]=function(w){for(var N=Rt(I.listeners,w);N>-1;)I.listeners.splice(N,1),N=Rt(I.listeners,w)},I[Ue]=function(w){$i(I.listeners,Ue,!0,function(N){N[Ue](w)})},I[X]=function(w,N){$i(I.listeners,X,!0,function(U){U[X](w,N)})},I[Ee]=function(w,N){$i(I.listeners,Ee,N,function(U){U[Ee](w,N)})},I[se]=function(w){w&&(b||!w.isChildEvt())&&$i(I.listeners,se,!1,function(N){w.isAsync?setTimeout(function(){return N[se](w)},0):N[se](w)})}})}return h}(),Rf=function(h){O(y,h);function y(){var b=h.call(this)||this;return z(y,b,function(I,w){I.initialize=function(W,V,be,J){w.initialize(W,V,be||new Fn(W),J||new hc(W))},I.track=function(W){aa(I.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){W===null&&(U(W),Ut("Invalid telemetry item")),N(W),w.track(W)},function(){return{item:W}},!W.sync)};function N(W){ae(W.name)&&(U(W),Ut("telemetry name required"))}function U(W){var V=I.getNotifyMgr();V&&V.eventsDiscarded([W],2)}}),b}return y}(pc),Df=Rr({CRITICAL:1,WARNING:2}),xf=Rr({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),vc="_aiHooks",mc=["req","rsp","hkErr","fnErr"];function Ki(h,y){if(h)for(var b=0;b<h.length&&!y(h[b],b);b++);}function Pa(h,y,b,I,w){w>=0&&w<=2&&Ki(h,function(N,U){var W=N.cbks,V=W[mc[w]];if(V){y.ctx=function(){var Ie=I[U]=I[U]||{};return Ie};try{V.apply(y.inst,b)}catch(Ie){var be=y.err;try{var J=W[mc[2]];J&&(y.err=Ie,J.apply(y.inst,b))}catch{}finally{y.err=be}}}})}function Nf(h){return function(){var y=this,b=arguments,I=h.h,w={name:h.n,inst:y,ctx:null,set:V},N=[],U=W([w],b);w.evt=fr("event");function W(J,Ie){return Ki(Ie,function(De){J.push(De)}),J}function V(J,Ie){b=W([],b),b[J]=Ie,U=W([w],b)}Pa(I,w,U,N,0);var be=h.f;if(be)try{w.rslt=be.apply(y,b)}catch(J){throw w.err=J,Pa(I,w,U,N,3),J}return Pa(I,w,U,N,1),w.rslt}}function Ca(h,y,b){var I=null;return h&&(Le(h,y)?I=h:b&&(I=Ca($e(h),y,!1))),I}function Mf(h,y,b){return h?Ra(h[a],y,b,!1):null}function kf(h,y,b){return h?_c(h[a],y,b,!1):null}function gc(h,y,b,I){var w=b&&b[vc];if(!w){w={i:0,n:y,f:b,h:[]};var N=Nf(w);N[vc]=w,h[y]=N}var U={id:w.i,cbks:I,rm:function(){var W=this.id;Ki(w.h,function(V,be){if(V.id===W)return w.h.splice(be,1),1})}};return w.i++,w.h.push(U),U}function Ra(h,y,b,I){if(I===void 0&&(I=!0),h&&y&&b){var w=Ca(h,y,I);if(w){var N=w[y];if(typeof N===t)return gc(w,y,N,b)}}return null}function _c(h,y,b,I){I===void 0&&(I=!0);var w=null;return Ki(y,function(N){var U=Ra(h,N,b,I);U&&(w||(w=[]),w.push(U))}),w}function Lf(h,y,b,I){if(h&&y&&b){var w=Ca(h,y,I)||h;if(w)return gc(w,y,w[y],b)}return null}e.AppInsightsCore=Rf,e.BaseCore=pc,e.BaseTelemetryPlugin=uc,e.CoreUtils=_a,e.DiagnosticLogger=Fn,e.EventHelper=tf,e.EventsDiscardedReason=Ir,e.InstrumentEvent=Lf,e.InstrumentFunc=Ra,e.InstrumentFuncs=_c,e.InstrumentProto=Mf,e.InstrumentProtos=kf,e.LoggingSeverity=Df,e.MinChannelPriorty=i,e.NotificationManager=hc,e.PerfEvent=ri,e.PerfManager=cu,e.ProcessTelemetryContext=yf,e.Undefined=Jd,e._InternalLogMessage=Mi,e._InternalMessageId=xf,e.__getRegisteredEvents=Wd,e._legacyCookieMgr=Gn,e._logInternalMessage=Nd,e._throwInternal=Cn,e._warnToConsole=su,e.addEventHandler=ga,e.addEventListeners=$u,e.addPageHideEventListener=Ku,e.addPageShowEventListener=Xu,e.addPageUnloadEventListener=Xd,e.areCookiesSupported=ha,e.arrForEach=nt,e.arrIndexOf=Rt,e.arrMap=lt,e.arrReduce=gt,e.attachEvent=va,e.canUseCookies=rf,e.createClassFromInterface=qr,e.createCookieMgr=Hn,e.createEnumMap=Wr,e.createEnumStyle=Rr,e.createProcessTelemetryContext=un,e.createTraceParent=uf,e.createUniqueNamespace=oi,e.createUnloadHandlerContainer=Oa,e.createValueMap=Dr,e.dateNow=Fe,e.deepFreeze=L,e.deleteCookie=af,e.detachEvent=ma,e.disableCookies=Zu,e.doPerf=aa,e.dumpObj=pn,e.eventOff=di,e.eventOn=li,e.findMetaTag=eu,e.findNamedServerTiming=tu,e.findW3cTraceParent=df,e.formatTraceParent=lf,e.generateW3CId=qi,e.getConsole=Xs,e.getCookie=nf,e.getCrypto=Qs,e.getDebugExt=ia,e.getDebugListener=ru,e.getDocument=fn,e.getExceptionName=dt,e.getGblPerfMgr=lu,e.getGlobal=m,e.getGlobalInst=fr,e.getHistory=yd,e.getIEVersion=bd,e.getJSON=ra,e.getLocation=Ks,e.getMsCrypto=Ys,e.getNavigator=Pn,e.getPerformance=ta,e.getSetValue=it,e.getWindow=Jo,e.hasDocument=Ws,e.hasHistory=$s,e.hasJSON=Di,e.hasNavigator=ea,e.hasOwnProperty=Le,e.hasWindow=Zo,e.initializePlugins=Ia,e.isArray=Z,e.isBeaconsSupported=Td,e.isBoolean=bt,e.isDate=Se,e.isError=ze,e.isFetchSupported=Id,e.isFunction=ct,e.isIE=ti,e.isNotNullOrUndefined=we,e.isNotTruthy=pt,e.isNotUndefined=Ye,e.isNullOrUndefined=ae,e.isNumber=mt,e.isObject=he,e.isReactNative=Ed,e.isSafari=Sd,e.isSampledFlag=cf,e.isString=pe,e.isSymbol=Ct,e.isTruthy=St,e.isTypeof=It,e.isUndefined=Oe,e.isValidSpanId=Ta,e.isValidTraceId=Sa,e.isValidTraceParent=rc,e.isXhrSupported=Zs,e.mergeEvtNamespace=ci,e.mwcRandom32=ua,e.mwcRandomSeed=vu,e.newGuid=Qu,e.newId=ca,e.normalizeJsName=qt,e.objCreate=E,e.objDefineAccessors=R,e.objExtend=or,e.objForEachKey=Ze,e.objFreeze=Q,e.objKeys=C,e.objSeal=te,e.objToString=Tt,e.optimizeObject=rn,e.parseTraceParent=ba,e.perfNow=Yu,e.proxyAssign=dr,e.proxyFunctionAs=mr,e.proxyFunctions=zr,e.random32=Rn,e.randomValue=sa,e.removeEventHandler=Wu,e.removeEventListeners=Bn,e.removePageHideEventListener=Yd,e.removePageShowEventListener=Zd,e.removePageUnloadEventListener=Qd,e.safeGetCookieMgr=Hd,e.safeGetLogger=ou,e.setCookie=of,e.setEnableEnvMocks=_d,e.setGblPerfMgr=Md,e.setValue=qe,e.sortPlugins=Vi,e.strContains=je,e.strEndsWith=Kt,e.strFunction=t,e.strObject=r,e.strPrototype=a,e.strStartsWith=Tr,e.strTrim=f,e.strUndefined=u,e.throwError=Ut,e.toISOString=$t,e.uaDisallowsSameSiteNone=Du,e.unloadComponents=hf,e.useXDomainRequest=wd,function(h,y,b){var I=Object.defineProperty;if(I)try{return I(h,y,b)}catch{}return b&&typeof b.value!==void 0&&(h[y]=b.value),h}(e,"__esModule",{value:!0})})});var La=Bt((Ma,ka)=>{"use strict";(function(e,i){typeof Ma=="object"&&typeof ka<"u"?ka.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e.Microsoft=e.Microsoft||{},e.Microsoft["DynamicProto-JS"]=i())})(Ma,function(){"use strict";var e="constructor",i="prototype",t="function",r="_dynInstFuncs",u="_isDynProxy",a="_dynClass",o="_dynCls$",n="_dynInstChk",s=n,l="_dfOpts",d="_unknown_",c="__proto__",p="_dyn"+c,v="_dynInstProto",m="useBaseInst",g="setInstFuncs",E=Object,T=E.getPrototypeOf,O=E.getOwnPropertyNames,P=0;function A(X,Ee){return X&&E[i].hasOwnProperty.call(X,Ee)}function M(X){return X&&(X===E[i]||X===Array[i])}function j(X){return M(X)||X===Function[i]}function G(X){var Ee;if(X){if(T)return T(X);var se=X[c]||X[i]||(X[e]?X[e][i]:null);Ee=X[p]||se,A(X,p)||(delete X[v],Ee=X[p]=X[v]||X[p],X[v]=se)}return Ee}function B(X,Ee){var se=[];if(O)se=O(X);else for(var We in X)typeof We=="string"&&A(X,We)&&se.push(We);if(se&&se.length>0)for(var rt=0;rt<se.length;rt++)Ee(se[rt])}function Y(X,Ee,se){return Ee!==e&&typeof X[Ee]===t&&(se||A(X,Ee))}function ne(X){throw new TypeError("DynamicProto: "+X)}function ye(X){var Ee={};return B(X,function(se){!Ee[se]&&Y(X,se,!1)&&(Ee[se]=X[se])}),Ee}function Re(X,Ee){for(var se=X.length-1;se>=0;se--)if(X[se]===Ee)return!0;return!1}function ut(X,Ee,se,We){function rt(ve,Ve,Ae){var Ne=Ve[Ae];if(Ne[u]&&We){var Qe=ve[r]||{};Qe[s]!==!1&&(Ne=(Qe[Ve[a]]||{})[Ae]||Ne)}return function(){return Ne.apply(ve,arguments)}}var $={};B(se,function(ve){$[ve]=rt(Ee,se,ve)});for(var ee=G(X),re=[];ee&&!j(ee)&&!Re(re,ee);)B(ee,function(ve){!$[ve]&&Y(ee,ve,!T)&&($[ve]=rt(Ee,ee,ve))}),re.push(ee),ee=G(ee);return $}function ot(X,Ee,se,We){var rt=null;if(X&&A(se,a)){var $=X[r]||{};if(rt=($[se[a]]||{})[Ee],rt||ne("Missing ["+Ee+"] "+t),!rt[n]&&$[s]!==!1){for(var ee=!A(X,Ee),re=G(X),ve=[];ee&&re&&!j(re)&&!Re(ve,re);){var Ve=re[Ee];if(Ve){ee=Ve===We;break}ve.push(re),re=G(re)}try{ee&&(X[Ee]=rt),rt[n]=1}catch{$[s]=!1}}}return rt}function xt(X,Ee,se){var We=Ee[X];return We===se&&(We=G(Ee)[X]),typeof We!==t&&ne("["+X+"] is not a "+t),We}function st(X,Ee,se,We,rt){function $(ve,Ve){var Ae=function(){var Ne=ot(this,Ve,ve,Ae)||xt(Ve,ve,Ae);return Ne.apply(this,arguments)};return Ae[u]=1,Ae}if(!M(X)){var ee=se[r]=se[r]||{},re=ee[Ee]=ee[Ee]||{};ee[s]!==!1&&(ee[s]=!!rt),B(se,function(ve){Y(se,ve,!1)&&se[ve]!==We[ve]&&(re[ve]=se[ve],delete se[ve],(!A(X,ve)||X[ve]&&!X[ve][u])&&(X[ve]=$(X,ve)))})}}function oe(X,Ee){if(T){for(var se=[],We=G(Ee);We&&!j(We)&&!Re(se,We);){if(We===X)return!0;se.push(We),We=G(We)}return!1}return!0}function ge(X,Ee){return A(X,i)?X.name||Ee||d:((X||{})[e]||{}).name||Ee||d}function le(X,Ee,se,We){A(X,i)||ne("theClass is an invalid class definition.");var rt=X[i];oe(rt,Ee)||ne("["+ge(X)+"] is not in class hierarchy of ["+ge(Ee)+"]");var $=null;A(rt,a)?$=rt[a]:($=o+ge(X,"_")+"$"+P,P++,rt[a]=$);var ee=le[l],re=!!ee[m];re&&We&&We[m]!==void 0&&(re=!!We[m]);var ve=ye(Ee),Ve=ut(rt,Ee,ve,re);se(Ee,Ve);var Ae=!!T&&!!ee[g];Ae&&We&&(Ae=!!We[g]),st(rt,$,Ee,ve,Ae!==!1)}var Ue={setInstFuncs:!0,useBaseInst:!0};return le[l]=Ue,le})});var ja=Bt((Ji,Rc)=>{"use strict";(function(e,i){typeof Ji=="object"&&typeof Rc<"u"?i(Ji,Na(),Cc(),La()):typeof define=="function"&&define.amd?define(["exports","@microsoft/applicationinsights-shims","@microsoft/applicationinsights-core-js","@microsoft/dynamicproto-js"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.oneDS=e.oneDS||{},e.applicationinsightsShims,e.applicationinsightsCoreJs,e.dynamicProto))})(Ji,function(e,i,t,r){"use strict";function u(ie){return ie&&typeof ie=="object"&&"default"in ie?ie.default:ie}var a=u(r),o=t.createEnumStyle({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),n=t.createEnumStyle({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),s=t.createEnumStyle({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),l=t.createEnumStyle({Normal:1,Critical:2}),d=t.createEnumStyle({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),c=t.objFreeze(i.__assignFn(i.__assignFn({},t._InternalMessageId),t.createEnumStyle({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),p,v="3.2.3",m="1DS-Web-JS-"+v,g="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",E="withCredentials",T="timeout",O=(p={},p[0]=0,p[2]=6,p[1]=1,p[3]=7,p[4098]=6,p[4097]=1,p[4099]=7,p),P=null,A=!!t.getDocument(),M=!!t.getWindow();function j(ie){return!(ie===""||t.isNullOrUndefined(ie))}function G(ie){if(ie){var K=ie.indexOf("-");if(K>-1)return ie.substring(0,K)}return""}function B(){return P===null&&(P=!t.isUndefined(Uint8Array)&&!Ee()&&!t.isReactNative()),P}function Y(ie){return!!(ie&&t.isNumber(ie)&&ie>=1&&ie<=4)}function ne(ie,K,xe){if(!K&&!j(K)||typeof ie!="string")return null;var Te=typeof K;if(Te==="string"||Te==="number"||Te==="boolean"||t.isArray(K))K={value:K};else if(Te==="object"&&!K.hasOwnProperty("value"))K={value:xe?JSON.stringify(K):K};else if(t.isNullOrUndefined(K.value)||K.value===""||!t.isString(K.value)&&!t.isNumber(K.value)&&!t.isBoolean(K.value)&&!t.isArray(K.value))return null;if(t.isArray(K.value)&&!se(K.value))return null;if(!t.isNullOrUndefined(K.kind)){if(t.isArray(K.value)||!Ue(K.kind))return null;K.value=K.value.toString()}return K}function ye(ie,K,xe){var Te=-1;if(!t.isUndefined(ie))if(K>0&&(K===32?Te=8192:K<=13&&(Te=K<<5)),X(xe))Te===-1&&(Te=0),Te|=xe;else{var vt=O[rt(ie)]||-1;Te!==-1&&vt!==-1?Te|=vt:vt===6&&(Te=vt)}return Te}function Re(){t.safeGetCookieMgr(null).setEnabled(!1)}function ut(ie,K,xe){t.areCookiesSupported(null)&&t.safeGetCookieMgr(null).set(ie,K,xe*86400,null,"/")}function ot(ie){t.areCookiesSupported(null)&&t.safeGetCookieMgr(null).del(ie)}function xt(ie){return t.areCookiesSupported(null)?st(t.safeGetCookieMgr(null),ie):""}function st(ie,K,xe){xe===void 0&&(xe=!0);var Te;return ie&&(Te=ie.get(K),xe&&Te&&decodeURIComponent&&(Te=decodeURIComponent(Te))),Te||""}function oe(ie){ie===void 0&&(ie="D");var K=t.newGuid();return ie==="B"?K="{"+K+"}":ie==="P"?K="("+K+")":ie==="N"&&(K=K.replace(/-/g,"")),K}function ge(ie,K,xe,Te,vt){var Ke={},He=!1,$e=0,Tt=arguments.length,It=Object[t.strPrototype],Oe=arguments;for(It.toString.call(Oe[0])==="[object Boolean]"&&(He=Oe[0],$e++);$e<Tt;$e++){var ie=Oe[$e];t.objForEachKey(ie,function(ae,we){He&&we&&t.isObject(we)?t.isArray(we)?(Ke[ae]=Ke[ae]||[],t.arrForEach(we,function(Le,he){Le&&t.isObject(Le)?Ke[ae][he]=ge(!0,Ke[ae][he],Le):Ke[ae][he]=Le})):Ke[ae]=ge(!0,Ke[ae],we):Ke[ae]=we})}return Ke}var le=t.perfNow;function Ue(ie){return ie===0||ie>0&&ie<=13||ie===32}function X(ie){return ie>=0&&ie<=9}function Ee(){var ie=t.getNavigator();if(!t.isUndefined(ie)&&ie.userAgent){var K=ie.userAgent.toLowerCase();if((K.indexOf("safari")>=0||K.indexOf("firefox")>=0)&&K.indexOf("chrome")<0)return!0}return!1}function se(ie){return ie.length>0}function We(ie,K){var xe=ie;xe.timings=xe.timings||{},xe.timings.processTelemetryStart=xe.timings.processTelemetryStart||{},xe.timings.processTelemetryStart[K]=le()}function rt(ie){var K=0;if(ie!=null){var xe=typeof ie;xe==="string"?K=1:xe==="number"?K=2:xe==="boolean"?K=3:xe===i.strShimObject&&(K=4,t.isArray(ie)?(K=4096,ie.length>0&&(K|=rt(ie[0]))):t.hasOwnProperty(ie,"value")&&(K=8192|rt(ie.value)))}return K}var $={Version:v,FullVersionString:m,strUndefined:t.strUndefined,strObject:t.strObject,Undefined:t.strUndefined,arrForEach:t.arrForEach,arrIndexOf:t.arrIndexOf,arrMap:t.arrMap,arrReduce:t.arrReduce,objKeys:t.objKeys,toISOString:t.toISOString,isReactNative:t.isReactNative,isString:t.isString,isNumber:t.isNumber,isBoolean:t.isBoolean,isFunction:t.isFunction,isArray:t.isArray,isObject:t.isObject,strTrim:t.strTrim,isDocumentObjectAvailable:A,isWindowObjectAvailable:M,isValueAssigned:j,getTenantId:G,isBeaconsSupported:t.isBeaconsSupported,isUint8ArrayAvailable:B,isLatency:Y,sanitizeProperty:ne,getISOString:t.toISOString,useXDomainRequest:t.useXDomainRequest,getCommonSchemaMetaData:ye,cookieAvailable:t.areCookiesSupported,disallowsSameSiteNone:t.uaDisallowsSameSiteNone,setCookie:ut,deleteCookie:ot,getCookie:xt,createGuid:oe,extend:ge,getTime:le,isValueKind:Ue,isArrayValid:se,objDefineAccessors:t.objDefineAccessors,addPageUnloadEventListener:t.addPageUnloadEventListener,setProcessTelemetryTimings:We,addEventHandler:t.addEventHandler,getFieldValueType:rt,strEndsWith:t.strEndsWith,objForEachKey:t.objForEachKey},ee={_canUseCookies:void 0,isTypeof:t.isTypeof,isUndefined:t.isUndefined,isNullOrUndefined:t.isNullOrUndefined,hasOwnProperty:t.hasOwnProperty,isFunction:t.isFunction,isObject:t.isObject,isDate:t.isDate,isArray:t.isArray,isError:t.isError,isString:t.isString,isNumber:t.isNumber,isBoolean:t.isBoolean,toISOString:t.toISOString,arrForEach:t.arrForEach,arrIndexOf:t.arrIndexOf,arrMap:t.arrMap,arrReduce:t.arrReduce,strTrim:t.strTrim,objCreate:i.objCreateFn,objKeys:t.objKeys,objDefineAccessors:t.objDefineAccessors,addEventHandler:t.addEventHandler,dateNow:t.dateNow,isIE:t.isIE,disableCookies:Re,newGuid:t.newGuid,perfNow:t.perfNow,newId:t.newId,randomValue:t.randomValue,random32:t.random32,mwcRandomSeed:t.mwcRandomSeed,mwcRandom32:t.mwcRandom32,generateW3CId:t.generateW3CId};function re(){return!!t.getGlobalInst("chrome")}function ve(ie,K,xe,Te,vt,Ke){Te===void 0&&(Te=!1),vt===void 0&&(vt=!1);function He(Tt,It,Oe){try{Tt[It]=Oe}catch{}}var $e=new XMLHttpRequest;return Te&&He($e,g,Te),xe&&He($e,E,xe),$e.open(ie,K,!vt),xe&&He($e,E,xe),!vt&&Ke&&He($e,T,Ke),$e}var Ve="version",Ae="properties",Ne=function(ie){i.__extendsFn(K,ie);function K(){var xe=ie.call(this)||this;return xe.pluginVersionStringArr=[],xe.pluginVersionString="",a(K,xe,function(Te,vt){(!Te.logger||!Te.logger.queue)&&(Te.logger=new t.DiagnosticLogger({loggingLevelConsole:1})),Te.initialize=function(Ke,He,$e,Tt){t.doPerf(Te,function(){return"AppInsightsCore.initialize"},function(){if(Ke){Ke.endpointUrl||(Ke.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var It=Ke.propertyStorageOverride;if(It&&(!It.getProperty||!It.setProperty))throw new Error("Invalid property storage override passed.");Ke.channels&&t.arrForEach(Ke.channels,function(ae){ae&&t.arrForEach(ae,function(we){if(we.identifier&&we.version){var Le=we.identifier+"="+we.version;Te.pluginVersionStringArr.push(Le)}})})}Te.getWParam=function(){return typeof document<"u"?0:-1},He&&t.arrForEach(He,function(ae){if(ae&&ae.identifier&&ae.version){var we=ae.identifier+"="+ae.version;Te.pluginVersionStringArr.push(we)}}),Te.pluginVersionString=Te.pluginVersionStringArr.join(";");try{vt.initialize(Ke,He,$e,Tt),Te.pollInternalLogs("InternalLog")}catch(ae){var Oe=Te.logger,Ye=t.dumpObj(ae);Ye.indexOf("channels")!==-1&&(Ye+=`
 - Channels must be provided through config.channels only!`),Oe.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ye)}},function(){return{config:Ke,extensions:He,logger:$e,notificationManager:Tt}})},Te.track=function(Ke){t.doPerf(Te,function(){return"AppInsightsCore.track"},function(){var He=Ke;if(He){He.timings=He.timings||{},He.timings.trackStart=le(),Y(He.latency)||(He.latency=1);var $e=He.ext=He.ext||{};$e.sdk=$e.sdk||{},$e.sdk.ver=m;var Tt=He.baseData=He.baseData||{};Tt[Ae]||(Tt[Ae]={});var It=Tt[Ae];It[Ve]||(It[Ve]=""),Te.pluginVersionString!==""&&(It[Ve]=Te.pluginVersionString)}vt.track(He)},function(){return{item:Ke}},!Ke.sync)}}),xe}return K}(t.AppInsightsCore),Qe=function(ie){i.__extendsFn(K,ie);function K(){var xe=ie.call(this)||this;return a(K,xe,function(Te,vt){Te.initialize=function(Ke,He,$e,Tt){Ke&&!Ke.endpointUrl&&(Ke.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),Te.getWParam=function(){return A?0:-1};try{vt.initialize(Ke,He,$e,Tt)}catch(It){t._throwInternal(Te.logger,1,514,"Initialization Failed: "+t.dumpObj(It)+`
 - Note: Channels must be provided through config.channels only`)}},Te.track=function(Ke){var He=Ke;if(He){var $e=He.ext=He.ext||{};$e.sdk=$e.sdk||{},$e.sdk.ver=m}vt.track(He)}}),xe}return K}(t.BaseCore),Ot=t.isFunction;function Er(ie,K,xe){return function(Te){ie[K]=Te,xe()}}var hr=function(){function ie(K){var xe=0,Te=null,vt=[];a(ie,this,function(It){It.then=function(Oe,Ye){return new ie(function(ae,we){Ke(Oe,Ye,ae,we)})},It.catch=function(Oe){return It.then(null,Oe)}});function Ke(It,Oe,Ye,ae){vt.push(function(){var we;try{xe===1?we=Ot(It)?It(Te):Te:we=Ot(Oe)?Oe(Te):Te,we instanceof ie?we.then(Ye,ae):xe===2&&!Ot(Oe)?ae(we):Ye(we)}catch(Le){ae(Le);return}}),xe!==0&&He()}function He(){if(vt.length>0){var It=vt.slice();vt=[],setTimeout(function(){for(var Oe=0,Ye=It.length;Oe<Ye;++Oe)try{It[Oe]()}catch{}},0)}}function $e(It){xe===0&&(Te=It,xe=1,He())}function Tt(It){xe===0&&(Te=It,xe=2,He())}(function(){if(!Ot(K))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{K($e,Tt)}catch(Oe){Tt(Oe)}})()}return ie.resolve=function(K){return K instanceof ie?K:K&&Ot(K.then)?new ie(function(xe,Te){try{K.then(xe,Te)}catch(vt){Te(vt)}}):new ie(function(xe){xe(K)})},ie.reject=function(K){return new ie(function(xe,Te){Te(K)})},ie.all=function(K){if(!(!K||!K.length))return new ie(function(xe,Te){try{for(var vt=[],Ke=0,He=0;He<K.length;He++){var $e=K[He];$e&&Ot($e.then)?(Ke++,$e.then(Er(vt,He,function(){--Ke===0&&xe(vt)}),Te)):vt[He]=$e}Ke===0&&setTimeout(function(){xe(vt)},0)}catch(Tt){Te(Tt)}})},ie.race=function(K){return new ie(function(xe,Te){if(!(!K||!K.length))try{for(var vt=function(He){var $e=K[He];$e&&Ot($e.then)?$e.then(xe,Te):setTimeout(function(){xe($e)},0)},Ke=0;Ke<K.length;Ke++)vt(Ke)}catch(He){Te(He)}})},ie}(),ue=6e5,br=0,nr=[],Wt=[],Ht=[];function ar(){return new Date().getTime()}var ir=function(){function ie(K,xe){var Te=0,vt=(K||"<unnamed>")+"."+br;br++,a(ie,this,function($e){var Tt=null,It=0;$e.scheduleEvent=function(Ye,ae,we){var Le=vt+"."+It;It++,ae&&(Le+="-("+ae+")");var he=Le+"{"+Te+"}";Te++;var ct={evt:null,tm:ar(),id:he,isRunning:!1,isAborted:!1};return Tt?ct.evt=je(ct,Tt):ct.evt=Me(ct),Tt=ct,Tt.evt._schId=he,ct.evt;function qt(Se){for(var Z=ar(),et=Z-ue,ze=Se.length,pe=0;pe<ze;){var mt=Se[pe];if(mt&&mt.tm<et){var bt=null;mt.abort?(bt="Aborting ["+mt.id+"] due to Excessive runtime ("+(Z-mt.tm)+" ms)",mt.abort(bt)):bt="Removing ["+mt.id+"] due to Excessive runtime ("+(Z-mt.tm)+" ms)",He(bt),Se.splice(pe,1),ze--}else pe++}}function Ze(Se,Z){var et=!1,ze=Oe(nr,Se);if(ze||(ze=Oe(Ht,Se),et=!0),ze){ze.to&&(clearTimeout(ze.to),ze.to=null);var pe=ar()-ze.tm;Z?et?He("Timed out event ["+Se+"] finally complete -- "+pe+" ms"):Ke("Promise ["+Se+"] Complete -- "+pe+" ms"):(Ht.push(ze),He("Event ["+Se+"] Timed out and removed -- "+pe+" ms"))}else Ke("Failed to remove ["+Se+"] from running queue");Tt&&Tt.id===Se&&(Tt=null),qt(nr),qt(Wt),qt(Ht)}function Kt(Se,Z){return function(et){return Ze(Se,!0),Z&&Z(et),et}}function vr(Se,Z,et,ze){Z.then(function(pe){return pe instanceof hr?(Ke("Event ["+Se+"] returned a promise -- waiting"),vr(Se,pe,et,ze),pe):Kt(Se,et)(pe)},Kt(Se,ze))}function Tr(Se,Z){var et=Se.id;return new hr(function(ze,pe){Ke("Event ["+et+"] Starting -- waited for "+(Se.wTm||"--")+" ms"),Se.isRunning=!0,Se.abort=function(bt){Se.abort=null,Se.isAborted=!0,Ze(et,!1),pe(new Error(bt))};var mt=Z(et);mt instanceof hr?(we&&(Se.to=setTimeout(function(){Ze(et,!1),pe(new Error("Timed out after ["+we+"] ms"))},we)),vr(et,mt,function(bt){Ke("Event ["+et+"] Resolving after "+(ar()-Se.tm)+" ms"),ze(bt)},pe)):(Ke("Promise ["+et+"] Auto completed as the start action did not return a promise"),ze())})}function Me(Se){var Z=ar();return Se.wTm=Z-Se.tm,Se.tm=Z,Se.isAborted?hr.reject(new Error("["+Le+"] was aborted")):(nr.push(Se),Tr(Se,Ye))}function je(Se,Z){var et=new hr(function(ze,pe){var mt=ar()-Z.tm,bt=Z.id;Ke("["+Le+"] is waiting for ["+bt+":"+mt+" ms] to complete before starting -- ["+Wt.length+"] waiting and ["+nr.length+"] running"),Se.abort=function(Ct){Se.abort=null,Oe(Wt,Le),Se.isAborted=!0,pe(new Error(Ct))},Z.evt.then(function(Ct){Oe(Wt,Le),Me(Se).then(ze,pe)},function(Ct){Oe(Wt,Le),Me(Se).then(ze,pe)})});return Wt.push(Se),et}};function Oe(Ye,ae){for(var we=0;we<Ye.length;we++)if(Ye[we].id===ae)return Ye.splice(we,1)[0];return null}});function Ke($e){var Tt=t.getGlobal();Tt&&Tt.QUnit&&console&&console.log("ESPromiseScheduler["+vt+"] "+$e)}function He($e){xe&&xe.warnToConsole("ESPromiseScheduler["+vt+"] "+$e)}}return ie.incomplete=function(){return nr},ie.waitingToStart=function(){return Wt},ie}(),Sr=function(){function ie(K){var xe=this,Te={},vt=[],Ke=[];K&&Ke.push(K);function He(Oe,Ye){var ae,we=Te[Oe];if(we&&(ae=we[Ye]),!ae&&ae!==null){if(t.isString(Oe)&&t.isString(Ye))if(Ke.length>0){for(var Le=0;Le<Ke.length;Le++)if(Ke[Le].handleField(Oe,Ye)){ae={canHandle:!0,fieldHandler:Ke[Le]};break}}else vt.length===0&&(ae={canHandle:!0});if(!ae&&ae!==null){ae=null;for(var Le=0;Le<vt.length;Le++)if(vt[Le].handleField(Oe,Ye)){ae={canHandle:!0,handler:vt[Le],fieldHandler:null};break}}we||(we=Te[Oe]={}),we[Ye]=ae}return ae}xe.addSanitizer=function(Oe){Oe&&(vt.push(Oe),Te={})},xe.addFieldSanitizer=function(Oe){Oe&&(Ke.push(Oe),Te={})},xe.handleField=function(Oe,Ye){var ae=He(Oe,Ye);return ae?ae.canHandle:!1},xe.value=function(Oe,Ye,ae,we){var Le=He(Oe,Ye);if(Le&&Le.canHandle){if(!Le||!Le.canHandle)return null;if(Le.handler)return Le.handler.value(Oe,Ye,ae,we);if(!t.isString(Ye)||t.isNullOrUndefined(ae)||ae==="")return null;var he=null,ct=rt(ae);if((ct&8192)===8192){var qt=ct&-8193;if(he=ae,!j(he.value)||qt!==1&&qt!==2&&qt!==3&&(qt&4096)!==4096)return null}else ct===1||ct===2||ct===3||(ct&4096)===4096?he=Tt(Oe,Ye,ae):ct===4&&(he=Tt(Oe,Ye,we?JSON.stringify(ae):ae));if(he)return $e(Le,Oe,Ye,ct,he,we)}return null},xe.property=function(Oe,Ye,ae,we){var Le=He(Oe,Ye);if(!Le||!Le.canHandle||!t.isString(Ye)||t.isNullOrUndefined(ae)||!j(ae.value))return null;var he=rt(ae.value);return he===0?null:$e(Le,Oe,Ye,he,ae,we)};function $e(Oe,Ye,ae,we,Le,he){if(Oe.handler)return Oe.handler.property(Ye,ae,Le,he);if(!t.isNullOrUndefined(Le.kind)){if((we&4096)===4096||!Ue(Le.kind))return null;Le.value=Le.value.toString()}return It(Oe.fieldHandler,Ye,ae,we,Le)}function Tt(Oe,Ye,ae){return j(ae)?{value:ae}:null}function It(Oe,Ye,ae,we,Le){if(Le&&Oe){var he=Oe.getSanitizer(Ye,ae,we,Le.kind,Le.propertyType);if(he)if(we===4){var ct={},qt=Le.value;t.objForEachKey(qt,function(Kt,vr){var Tr=Ye+"."+ae;if(j(vr)){var Me=Tt(Tr,Kt,vr);Me=It(Oe,Tr,Kt,rt(vr),Me),Me&&(ct[Kt]=Me.value)}}),Le.value=ct}else{var Ze={path:Ye,name:ae,type:we,prop:Le,sanitizer:xe};Le=he.call(xe,Ze)}}return Le}}return ie.getFieldType=rt,ie}();e.BaseTelemetryPlugin=t.BaseTelemetryPlugin,e.DiagnosticLogger=t.DiagnosticLogger,e.EventHelper=t.EventHelper,e.EventsDiscardedReason=t.EventsDiscardedReason,e.InternalAppInsightsCore=t.AppInsightsCore,e.InternalBaseCore=t.BaseCore,e.LoggingSeverity=t.LoggingSeverity,e.MinChannelPriorty=t.MinChannelPriorty,e.NotificationManager=t.NotificationManager,e.PerfEvent=t.PerfEvent,e.PerfManager=t.PerfManager,e.ProcessTelemetryContext=t.ProcessTelemetryContext,e.Undefined=t.strUndefined,e._InternalLogMessage=t._InternalLogMessage,e._InternalMessageId=t._InternalMessageId,e.__getRegisteredEvents=t.__getRegisteredEvents,e._throwInternal=t._throwInternal,e.addEventHandler=t.addEventHandler,e.addEventListeners=t.addEventListeners,e.addPageHideEventListener=t.addPageHideEventListener,e.addPageShowEventListener=t.addPageShowEventListener,e.addPageUnloadEventListener=t.addPageUnloadEventListener,e.areCookiesSupported=t.areCookiesSupported,e.arrForEach=t.arrForEach,e.arrIndexOf=t.arrIndexOf,e.arrMap=t.arrMap,e.arrReduce=t.arrReduce,e.attachEvent=t.attachEvent,e.cookieAvailable=t.areCookiesSupported,e.createCookieMgr=t.createCookieMgr,e.createEnumStyle=t.createEnumStyle,e.createProcessTelemetryContext=t.createProcessTelemetryContext,e.createTraceParent=t.createTraceParent,e.createUniqueNamespace=t.createUniqueNamespace,e.createUnloadHandlerContainer=t.createUnloadHandlerContainer,e.dateNow=t.dateNow,e.detachEvent=t.detachEvent,e.disallowsSameSiteNone=t.uaDisallowsSameSiteNone,e.doPerf=t.doPerf,e.dumpObj=t.dumpObj,e.eventOff=t.eventOff,e.eventOn=t.eventOn,e.findW3cTraceParent=t.findW3cTraceParent,e.formatTraceParent=t.formatTraceParent,e.generateW3CId=t.generateW3CId,e.getConsole=t.getConsole,e.getCrypto=t.getCrypto,e.getDocument=t.getDocument,e.getExceptionName=t.getExceptionName,e.getGlobal=t.getGlobal,e.getGlobalInst=t.getGlobalInst,e.getHistory=t.getHistory,e.getIEVersion=t.getIEVersion,e.getISOString=t.toISOString,e.getJSON=t.getJSON,e.getLocation=t.getLocation,e.getMsCrypto=t.getMsCrypto,e.getNavigator=t.getNavigator,e.getPerformance=t.getPerformance,e.getSetValue=t.getSetValue,e.getWindow=t.getWindow,e.hasDocument=t.hasDocument,e.hasHistory=t.hasHistory,e.hasJSON=t.hasJSON,e.hasNavigator=t.hasNavigator,e.hasOwnProperty=t.hasOwnProperty,e.hasWindow=t.hasWindow,e.isArray=t.isArray,e.isBeaconsSupported=t.isBeaconsSupported,e.isBoolean=t.isBoolean,e.isDate=t.isDate,e.isError=t.isError,e.isFetchSupported=t.isFetchSupported,e.isFunction=t.isFunction,e.isIE=t.isIE,e.isNotTruthy=t.isNotTruthy,e.isNullOrUndefined=t.isNullOrUndefined,e.isNumber=t.isNumber,e.isObject=t.isObject,e.isReactNative=t.isReactNative,e.isSampledFlag=t.isSampledFlag,e.isString=t.isString,e.isTruthy=t.isTruthy,e.isTypeof=t.isTypeof,e.isUndefined=t.isUndefined,e.isValidSpanId=t.isValidSpanId,e.isValidTraceId=t.isValidTraceId,e.isValidTraceParent=t.isValidTraceParent,e.isXhrSupported=t.isXhrSupported,e.mergeEvtNamespace=t.mergeEvtNamespace,e.newGuid=t.newGuid,e.newId=t.newId,e.normalizeJsName=t.normalizeJsName,e.objCreate=t.objCreate,e.objDefineAccessors=t.objDefineAccessors,e.objForEachKey=t.objForEachKey,e.objFreeze=t.objFreeze,e.objKeys=t.objKeys,e.objSeal=t.objSeal,e.optimizeObject=t.optimizeObject,e.parseTraceParent=t.parseTraceParent,e.perfNow=t.perfNow,e.proxyAssign=t.proxyAssign,e.proxyFunctionAs=t.proxyFunctionAs,e.proxyFunctions=t.proxyFunctions,e.random32=t.random32,e.randomValue=t.randomValue,e.removeEventHandler=t.removeEventHandler,e.removeEventListeners=t.removeEventListeners,e.removePageHideEventListener=t.removePageHideEventListener,e.removePageShowEventListener=t.removePageShowEventListener,e.removePageUnloadEventListener=t.removePageUnloadEventListener,e.safeGetCookieMgr=t.safeGetCookieMgr,e.safeGetLogger=t.safeGetLogger,e.setEnableEnvMocks=t.setEnableEnvMocks,e.setValue=t.setValue,e.strContains=t.strContains,e.strEndsWith=t.strEndsWith,e.strFunction=t.strFunction,e.strObject=t.strObject,e.strPrototype=t.strPrototype,e.strStartsWith=t.strStartsWith,e.strTrim=t.strTrim,e.strUndefined=t.strUndefined,e.throwError=t.throwError,e.toISOString=t.toISOString,e.useXDomainRequest=t.useXDomainRequest,e.AppInsightsCore=Ne,e.BaseCore=Qe,e.CoreUtils=ee,e.ESPromise=hr,e.ESPromiseScheduler=ir,e.EventLatency=n,e.EventPersistence=l,e.EventPropertyType=s,e.FullVersionString=m,e.TraceLevel=d,e.Utils=$,e.ValueKind=o,e.ValueSanitizer=Sr,e.Version=v,e._ExtendedInternalMessageId=c,e.createGuid=oe,e.deleteCookie=ot,e.disableCookies=Re,e.extend=ge,e.getCommonSchemaMetaData=ye,e.getCookie=xt,e.getCookieValue=st,e.getFieldValueType=rt,e.getTenantId=G,e.getTime=le,e.isArrayValid=se,e.isChromium=re,e.isDocumentObjectAvailable=A,e.isLatency=Y,e.isUint8ArrayAvailable=B,e.isValueAssigned=j,e.isValueKind=Ue,e.isWindowObjectAvailable=M,e.openXhr=ve,e.sanitizeProperty=ne,e.setCookie=ut,e.setProcessTelemetryTimings=We,function(ie,K,xe){var Te=Object.defineProperty;if(Te)try{return Te(ie,K,xe)}catch{}return xe&&typeof xe.value!==void 0&&(ie[K]=xe.value),ie}(e,"__esModule",{value:!0})})});var xc=Bt((eo,Dc)=>{"use strict";(function(e,i){typeof eo=="object"&&typeof Dc<"u"?i(eo,Na(),La(),ja()):typeof define=="function"&&define.amd?define(["exports","@microsoft/applicationinsights-shims","@microsoft/dynamicproto-js","@microsoft/1ds-core-js"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.oneDS=e.oneDS||{},e.applicationinsightsShims,e.dynamicProto,e._1dsCoreJs))})(eo,function(e,i,t,r){"use strict";function u(Me){return Me&&typeof Me=="object"&&"default"in Me?Me.default:Me}var a=u(t),o="REAL_TIME",n="NEAR_REAL_TIME",s="BEST_EFFORT",l="POST",d="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",c="drop",p="send",v="requeue",m="rspFail",g="oth",E="no-cache, no-store",T="application/x-json-stream",O="cache-control",P="content-type",A="kill-tokens",M="kill-duration",j="kill-duration-seconds",G="time-delta-millis",B="client-version",Y="client-id",ne="time-delta-to-apply-millis",ye="upload-time",Re="apikey",ut="AuthMsaDeviceTicket",ot="AuthXToken",xt="NoResponseBody",st="msfpc";function oe(Me){var je=(Me.ext||{}).intweb;return je&&r.isValueAssigned(je[st])?je[st]:null}function ge(Me){for(var je=null,Se=0;je===null&&Se<Me.length;Se++)je=oe(Me[Se]);return je}var le=function(){function Me(je,Se){var Z=Se?[].concat(Se):[],et=this,ze=ge(Z);et.iKey=function(){return je},et.Msfpc=function(){return ze||""},et.count=function(){return Z.length},et.events=function(){return Z},et.addEvent=function(pe){return pe?(Z.push(pe),ze||(ze=oe(pe)),!0):!1},et.split=function(pe,mt){var bt;if(pe<Z.length){var Ct=Z.length-pe;r.isNullOrUndefined(mt)||(Ct=mt<Ct?mt:Ct),bt=Z.splice(pe,Ct),ze=ge(Z)}return new Me(je,bt)}}return Me.create=function(je,Se){return new Me(je,Se)},Me}(),Ue=20,X=3984588,Ee=65e3,se=2e6,We=Math.min(se,Ee),rt="metadata",$="f",ee=/\./,re=function(){function Me(je,Se,Z,et){var ze="data",pe="baseData",mt="ext",bt=!!et,Ct=!0,Vt=Se,$t={};a(Me,this,function(Ft){Ft.createPayload=function(lt,gt,f,_,S,C){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:lt,isTeardown:gt,isSync:f,isBeacon:_,sendType:C,sendReason:S}},Ft.appendPayload=function(lt,gt,f){var _=lt&&gt&&!lt.overflow;return _&&r.doPerf(je,function(){return"Serializer:appendPayload"},function(){for(var S=gt.events(),C=lt.payloadBlob,R=lt.numEvents,k=!1,L=[],Q=[],te=lt.isBeacon,Fe=te?Ee:X,dt=te?We:se,qe=0,it=0;qe<S.length;){var pt=S[qe];if(pt){if(R>=f){lt.overflow=gt.split(qe);break}var St=Ft.getEventBlob(pt);if(St&&St.length<=dt){var Ut=St.length,Hr=C.length;if(Hr+Ut>Fe){lt.overflow=gt.split(qe);break}C&&(C+=`
`),C+=St,it++,it>Ue&&(C.substr(0,1),it=0),k=!0,R++}else St?L.push(pt):Q.push(pt),S.splice(qe,1),qe--}qe++}if(L&&L.length>0&&lt.sizeExceed.push(le.create(gt.iKey(),L)),Q&&Q.length>0&&lt.failedEvts.push(le.create(gt.iKey(),Q)),k){lt.batches.push(gt),lt.payloadBlob=C,lt.numEvents=R;var dr=gt.iKey();r.arrIndexOf(lt.apiKeys,dr)===-1&&lt.apiKeys.push(dr)}},function(){return{payload:lt,theBatch:{iKey:gt.iKey(),evts:gt.events()},max:f}}),_},Ft.getEventBlob=function(lt){try{return r.doPerf(je,function(){return"Serializer.getEventBlob"},function(){var gt={};gt.name=lt.name,gt.time=lt.time,gt.ver=lt.ver,gt.iKey="o:"+r.getTenantId(lt.iKey);var f={},_=lt[mt];_&&(gt[mt]=f,r.objForEachKey(_,function(R,k){var L=f[R]={};Rt(k,L,"ext."+R,!0,null,null,!0)}));var S=gt[ze]={};S.baseType=lt.baseType;var C=S[pe]={};return Rt(lt.baseData,C,pe,!1,[pe],function(R,k,L){ve(f,R,k,L)},Ct),Rt(lt.data,S,ze,!1,[],function(R,k,L){ve(f,R,k,L)},Ct),JSON.stringify(gt)},function(){return{item:lt}})}catch{return null}};function nt(lt,gt){var f=$t[lt];return f===void 0&&(lt.length>=7&&(f=r.strStartsWith(lt,"ext.metadata")||r.strStartsWith(lt,"ext.web")),$t[lt]=f),f}function Rt(lt,gt,f,_,S,C,R){r.objForEachKey(lt,function(k,L){var Q=null;if(L||r.isValueAssigned(L)){var te=f,Fe=k,dt=S,qe=gt;if(bt&&!_&&ee.test(k)){var it=k.split("."),pt=it.length;if(pt>1){dt&&(dt=dt.slice());for(var St=0;St<pt-1;St++){var Ut=it[St];qe=qe[Ut]=qe[Ut]||{},te+="."+Ut,dt&&dt.push(Ut)}Fe=it[pt-1]}}var Hr=_&&nt(te);if(!Hr&&Vt&&Vt.handleField(te,Fe)?Q=Vt.value(te,Fe,L,Z):Q=r.sanitizeProperty(Fe,L,Z),Q){var dr=Q.value;if(qe[Fe]=dr,C&&C(dt,Fe,Q),R&&typeof dr=="object"&&!r.isArray(dr)){var mr=dt;mr&&(mr=mr.slice(),mr.push(Fe)),Rt(L,dr,te+"."+Fe,_,mr,C,R)}}}})}})}return Me}();function ve(Me,je,Se,Z){if(Z&&Me){var et=r.getCommonSchemaMetaData(Z.value,Z.kind,Z.propertyType);if(et>-1){var ze=Me[rt];ze||(ze=Me[rt]={f:{}});var pe=ze[$];if(pe||(pe=ze[$]={}),je)for(var mt=0;mt<je.length;mt++){var bt=je[mt];pe[bt]||(pe[bt]={f:{}});var Ct=pe[bt][$];Ct||(Ct=pe[bt][$]={}),pe=Ct}pe=pe[Se]={},r.isArray(Z.value)?pe.a={t:et}:pe.t=et}}}var Ve=.8,Ae=1.2,Ne=3e3,Qe=6e5;function Ot(Me){return!(Me>=300&&Me<500&&Me!=408&&Me!=429||Me==501||Me==505)}function Er(Me){var je=0,Se=Ne*Ve,Z=Ne*Ae,et=Math.floor(Math.random()*(Z-Se))+Se;return je=Math.pow(2,Me)*et,Math.min(je,Qe)}var hr=1e3,ue=function(){function Me(){var je={};function Se(Z){var et=[];return Z&&r.arrForEach(Z,function(ze){et.push(r.strTrim(ze))}),et}a(Me,this,function(Z){Z.setKillSwitchTenants=function(et,ze){if(et&&ze)try{var pe=Se(et.split(","));if(ze==="this-request-only")return pe;for(var mt=parseInt(ze,10)*hr,bt=0;bt<pe.length;++bt)je[pe[bt]]=r.dateNow()+mt}catch{return[]}return[]},Z.isTenantKilled=function(et){var ze=je,pe=r.strTrim(et);return ze[pe]!==void 0&&ze[pe]>r.dateNow()?!0:(delete ze[pe],!1)}})}return Me}(),br=function(){function Me(){var je=!0,Se=!0,Z=!0,et="use-collector-delta",ze=!1;a(Me,this,function(pe){pe.allowRequestSending=function(){return je},pe.firstRequestSent=function(){Z&&(Z=!1,ze||(je=!1))},pe.shouldAddClockSkewHeaders=function(){return Se},pe.getClockSkewHeaderValue=function(){return et},pe.setClockSkew=function(mt){ze||(mt?(et=mt,Se=!0,ze=!0):Se=!1,je=!0)}})}return Me}(),nr,Wt="sendAttempt",Ht="&"+xt+"=true",ar=(nr={},nr[1]=v,nr[100]=v,nr[200]="sent",nr[8004]=c,nr[8003]=c,nr),ir={},Sr={};function ie(Me,je,Se){ir[Me]=je,Se!==!1&&(Sr[je]=Me)}ie(ut,ut,!1),ie(B,B),ie(Y,"Client-Id"),ie(Re,Re),ie(ne,ne),ie(ye,ye),ie(ot,ot);function K(Me){try{return Me.responseText}catch{}return""}function xe(Me,je){var Se=!1;if(Me&&je){var Z=r.objKeys(Me);if(Z&&Z.length>0)for(var et=je.toLowerCase(),ze=0;ze<Z.length;ze++){var pe=Z[ze];if(pe&&r.hasOwnProperty(je,pe)&&pe.toLowerCase()===et){Se=!0;break}}}return Se}function Te(Me,je,Se,Z){je&&Se&&Se.length>0&&(Z&&ir[je]?(Me.hdrs[ir[je]]=Se,Me.useHdrs=!0):Me.url+="&"+je+"="+Se)}var vt=function(){function Me(je,Se,Z,et,ze){this._responseHandlers=[];var pe="?cors=true&"+P.toLowerCase()+"="+T,mt=new ue,bt=!1,Ct=new br,Vt=!1,$t=0,Ft,nt,Rt,lt=!0,gt=[],f={},_=[],S=null,C=!1,R,k=!1,L=!1,Q,te;a(Me,this,function(Fe){var dt=!0;Fe.initialize=function(H,me,_e,Pe,Xe){var wt;Xe||(Xe={}),pe=H+pe,L=r.isUndefined(Xe.avoidOptions)?!0:!Xe.avoidOptions,Rt=me,R=me.getCookieMgr(),C=!Rt.config.disableEventTimings;var _t=!!Rt.config.enableCompoundKey;Ft=_e;var Pt=Xe.valueSanitizer,At=Xe.stringifyObjects;r.isUndefined(Xe.enableCompoundKey)||(_t=!!Xe.enableCompoundKey),Q=Xe.xhrTimeout,te=Xe.disableXhrSync,Vt=!r.isReactNative(),S=new re(Rt,Pt,At,_t);var Je=Pe,q=Xe.alwaysUseXhrOverride?Pe:null,ce=Xe.alwaysUseXhrOverride?Pe:null;if(!Pe){lt=!1;var de=r.getLocation();de&&de.protocol&&de.protocol.toLowerCase()==="file:"&&(dt=!1);var Ce=[];r.isReactNative()?Ce=[2,1]:Ce=[1,2,3];var ft=Xe.transports;ft&&(r.isNumber(ft)?Ce=[ft].concat(Ce):r.isArray(ft)&&(Ce=ft.concat(Ce))),Pe=qe(Ce,!1),Je=qe(Ce,!0),Pe||Ft.diagLog().warnToConsole("No available transport to send events")}nt=(wt={},wt[0]=Pe,wt[1]=Je||qe([1,2,3],!0),wt[2]=q||qe([3,2],!0)||Je||qe([1],!0),wt[3]=ce||qe([2,3],!0)||Je||qe([1],!0),wt)};function qe(H,me){for(var _e=0,Pe=null,Xe=0;Pe==null&&Xe<H.length;)_e=H[Xe],_e===1?r.useXDomainRequest()?Pe=it:r.isXhrSupported()&&(Pe=St):_e===2&&r.isFetchSupported(me)?Pe=pt:Vt&&_e===3&&r.isBeaconsSupported()&&(Pe=Hr),Xe++;return Pe?{_transport:_e,_isSync:me,sendPOST:Pe}:null}Fe._getDbgPlgTargets=function(){return[nt[0],mt,S,nt]};function it(H,me,_e){var Pe=new XDomainRequest;Pe.open(l,H.urlString),H.timeout&&(Pe.timeout=H.timeout),Pe.onload=function(){var Xe=K(Pe);Ut(me,200,{},Xe),Mr(Xe)},Pe.onerror=function(){Ut(me,400,{})},Pe.ontimeout=function(){Ut(me,500,{})},Pe.onprogress=function(){},_e?Pe.send(H.data):ze.set(function(){Pe.send(H.data)},0)}function pt(H,me,_e){var Pe,Xe=H.urlString,wt=!1,_t=!1,Pt=(Pe={body:H.data,method:l},Pe[d]=!0,Pe);_e&&(Pt.keepalive=!0,H._sendReason===2&&(wt=!0,Xe+=Ht)),dt&&(Pt.credentials="include"),H.headers&&r.objKeys(H.headers).length>0&&(Pt.headers=H.headers),fetch(Xe,Pt).then(function(At){var Je={},q="";At.headers&&At.headers.forEach(function(ce,de){Je[de]=ce}),At.body&&At.text().then(function(ce){q=ce}),_t||(_t=!0,Ut(me,At.status,Je,q),Mr(q))}).catch(function(At){_t||(_t=!0,Ut(me,0,{}))}),wt&&!_t&&(_t=!0,Ut(me,200,{})),!_t&&H.timeout>0&&ze.set(function(){_t||(_t=!0,Ut(me,500,{}))},H.timeout)}function St(H,me,_e){var Pe=H.urlString;function Xe(At,Je,q){if(!At[q]&&Je&&Je.getResponseHeader){var ce=Je.getResponseHeader(q);ce&&(At[q]=r.strTrim(ce))}return At}function wt(At){var Je={};return At.getAllResponseHeaders?Je=on(At.getAllResponseHeaders()):(Je=Xe(Je,At,G),Je=Xe(Je,At,M),Je=Xe(Je,At,j)),Je}function _t(At,Je){Ut(me,At.status,wt(At),Je)}_e&&H.disableXhrSync&&(_e=!1);var Pt=r.openXhr(l,Pe,dt,!0,_e,H.timeout);r.objForEachKey(H.headers,function(At,Je){Pt.setRequestHeader(At,Je)}),Pt.onload=function(){var At=K(Pt);_t(Pt,At),Mr(At)},Pt.onerror=function(){_t(Pt)},Pt.ontimeout=function(){_t(Pt)},Pt.send(H.data)}function Ut(H,me,_e,Pe){try{H(me,_e,Pe)}catch(Xe){r._throwInternal(Ft.diagLog(),2,518,r.dumpObj(Xe))}}function Hr(H,me,_e){var Pe=H,Xe=200,wt=Pe._thePayload,_t=H.urlString+Ht;try{var Pt=r.getNavigator();if(!Pt.sendBeacon(_t,H.data))if(wt){var At=[];r.arrForEach(wt.batches,function(Je){if(At&&Je&&Je.count()>0){for(var q=Je.events(),ce=0;ce<q.length;ce++)if(!Pt.sendBeacon(_t,S.getEventBlob(q[ce]))){At.push(Je.split(ce));break}}else At.push(Je.split(0))}),Or(At,8003,wt.sendType,!0)}else Xe=0}catch(Je){Ft.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+r.dumpObj(Je)),Xe=0}finally{Ut(me,Xe,{},"")}}function dr(H){return H===2||H===3}function mr(H){return k&&dr(H)&&(H=2),H}Fe.addQueryStringParameter=function(H,me){for(var _e=0;_e<gt.length;_e++)if(gt[_e].name===H){gt[_e].value=me;return}gt.push({name:H,value:me})},Fe.addHeader=function(H,me){f[H]=me},Fe.canSendRequest=function(){return zr()&&Ct.allowRequestSending()},Fe.sendQueuedRequests=function(H,me){r.isUndefined(H)&&(H=0),k&&(H=mr(H),me=2),rn(_,H,0)&&Rr(qr(),0,!1,H,me||0)},Fe.isCompletelyIdle=function(){return!bt&&$t===0&&_.length===0},Fe.setUnloading=function(H){k=H},Fe.addBatch=function(H){if(H&&H.count()>0){if(mt.isTenantKilled(H.iKey()))return!1;_.push(H)}return!0},Fe.teardown=function(){_.length>0&&Rr(qr(),0,!0,2,2)},Fe.pause=function(){bt=!0},Fe.resume=function(){bt=!1,Fe.sendQueuedRequests(0,4)},Fe.sendSynchronousBatch=function(H,me,_e){H&&H.count()>0&&(r.isNullOrUndefined(me)&&(me=1),k&&(me=mr(me),_e=2),Rr([H],0,!1,me,_e||0))};function zr(){return!bt&&$t<Se}function qr(){var H=_;return _=[],H}function rn(H,me,_e){var Pe=!1;return H&&H.length>0&&!bt&&nt[me]&&S&&(Pe=me!==0||zr()&&(_e>0||Ct.allowRequestSending())),Pe}function or(H){var me={};return H&&r.arrForEach(H,function(_e,Pe){me[Pe]={iKey:_e.iKey(),evts:_e.events()}}),me}function Rr(H,me,_e,Pe,Xe){if(!(!H||H.length===0)){if(bt){Or(H,1,Pe);return}Pe=mr(Pe);try{var wt=H,_t=Pe!==0;r.doPerf(Rt,function(){return"HttpManager:_sendBatches"},function(Pt){Pt&&(H=H.slice(0));for(var At=[],Je=null,q=r.getTime(),ce=nt[Pe]||(_t?nt[1]:nt[0]),de=(k||dr(Pe)||ce&&ce._transport===3)&&Dr();rn(H,Pe,me);){var Ce=H.shift();Ce&&Ce.count()>0&&(mt.isTenantKilled(Ce.iKey())?At.push(Ce):(Je=Je||S.createPayload(me,_e,_t,de,Xe,Pe),S.appendPayload(Je,Ce,je)?Je.overflow!==null&&(H=[Je.overflow].concat(H),Je.overflow=null,xr(Je,q,r.getTime(),Xe),q=r.getTime(),Je=null):(xr(Je,q,r.getTime(),Xe),q=r.getTime(),H=[Ce].concat(H),Je=null)))}Je&&xr(Je,q,r.getTime(),Xe),H.length>0&&(_=H.concat(_)),Or(At,8004,Pe)},function(){return{batches:or(wt),retryCount:me,isTeardown:_e,isSynchronous:_t,sendReason:Xe,useSendBeacon:dr(Pe),sendType:Pe}},!_t)}catch(Pt){r._throwInternal(Ft.diagLog(),2,48,"Unexpected Exception sending batch: "+r.dumpObj(Pt))}}}function Wr(H,me){var _e={url:pe,hdrs:{},useHdrs:!1};me?(_e.hdrs=r.extend(_e.hdrs,f),_e.useHdrs=r.objKeys(_e.hdrs).length>0):r.objForEachKey(f,function(Pt,At){Sr[Pt]?Te(_e,Sr[Pt],At,!1):(_e.hdrs[Pt]=At,_e.useHdrs=!0)}),Te(_e,Y,"NO_AUTH",me),Te(_e,B,r.FullVersionString,me);var Pe="";r.arrForEach(H.apiKeys,function(Pt){Pe.length>0&&(Pe+=","),Pe+=Pt}),Te(_e,Re,Pe,me),Te(_e,ye,r.dateNow().toString(),me);var Xe=Kr(H);if(r.isValueAssigned(Xe)&&(_e.url+="&ext.intweb.msfpc="+Xe),Ct.shouldAddClockSkewHeaders()&&Te(_e,ne,Ct.getClockSkewHeaderValue(),me),Rt.getWParam){var wt=Rt.getWParam();wt>=0&&(_e.url+="&w="+wt)}for(var _t=0;_t<gt.length;_t++)_e.url+="&"+gt[_t].name+"="+gt[_t].value;return _e}function Dr(){return!lt&&Vt&&r.isBeaconsSupported()}function Ir(H,me,_e){H[me]=H[me]||{},H[me][Ft.identifier]=_e}function xr(H,me,_e,Pe){if(H&&H.payloadBlob&&H.payloadBlob.length>0){var Xe=!!Fe.sendHook,wt=nt[H.sendType];!dr(H.sendType)&&H.isBeacon&&H.sendReason===2&&(wt=nt[2]||nt[3]||wt);var _t=L;(H.isBeacon||wt._transport===3)&&(_t=!1);var Pt=Wr(H,_t);_t=_t||Pt.useHdrs;var At=r.getTime();r.doPerf(Rt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Je=0;Je<H.batches.length;Je++)for(var q=H.batches[Je],ce=q.events(),de=0;de<ce.length;de++){var Ce=ce[de];if(C){var ft=Ce.timings=Ce.timings||{};Ir(ft,"sendEventStart",At),Ir(ft,"serializationStart",me),Ir(ft,"serializationCompleted",_e)}Ce[Wt]>0?Ce[Wt]++:Ce[Wt]=1}Or(H.batches,1e3+(Pe||0),H.sendType,!0);var ht={data:H.payloadBlob,urlString:Pt.url,headers:Pt.hdrs,_thePayload:H,_sendReason:Pe,timeout:Q};r.isUndefined(te)||(ht.disableXhrSync=!!te),_t&&(xe(ht.headers,O)||(ht.headers[O]=E),xe(ht.headers,P)||(ht.headers[P]=T));var Xt=null;wt&&(Xt=function(er){Ct.firstRequestSent();var gr=function(dn,Jn){$r(dn,Jn,H,Pe)},kr=H.isTeardown||H.isSync;try{wt.sendPOST(er,gr,kr),Fe.sendListener&&Fe.sendListener(ht,er,kr,H.isBeacon)}catch(dn){Ft.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+r.dumpObj(dn)),Ut(gr,0,{})}}),r.doPerf(Rt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Xt)if(H.sendType===0&&$t++,Xe&&!H.isBeacon&&wt._transport!==3){var er={data:ht.data,urlString:ht.urlString,headers:r.extend({},ht.headers),timeout:ht.timeout,disableXhrSync:ht.disableXhrSync},gr=!1;r.doPerf(Rt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Fe.sendHook(er,function(kr){gr=!0,!lt&&!kr._thePayload&&(kr._thePayload=kr._thePayload||ht._thePayload,kr._sendReason=kr._sendReason||ht._sendReason),Xt(kr)},H.isSync||H.isTeardown)}catch{gr||Xt(ht)}})}else Xt(ht)})},function(){return{thePayload:H,serializationStart:me,serializationCompleted:_e,sendReason:Pe}},H.isSync)}H.sizeExceed&&H.sizeExceed.length>0&&Or(H.sizeExceed,8003,H.sendType),H.failedEvts&&H.failedEvts.length>0&&Or(H.failedEvts,8002,H.sendType)}function wr(H,me){C&&r.arrForEach(H,function(_e){var Pe=_e.timings=_e.timings||{};Ir(Pe,"sendEventCompleted",me)})}function $r(H,me,_e,Pe){var Xe=9e3,wt=null,_t=!1,Pt=!1;try{var At=!0;if(typeof H!==r.strUndefined){if(me){Ct.setClockSkew(me[G]);var Je=me[M]||me["kill-duration-seconds"];r.arrForEach(mt.setKillSwitchTenants(me[A],Je),function(ce){r.arrForEach(_e.batches,function(de){if(de.iKey()===ce){wt=wt||[];var Ce=de.split(0);_e.numEvents-=Ce.count(),wt.push(Ce)}})})}if(H==200||H==204){Xe=200;return}(!Ot(H)||_e.numEvents<=0)&&(At=!1),Xe=9e3+H%1e3}if(At){Xe=100;var q=_e.retryCnt;_e.sendType===0&&(q<Z?(_t=!0,Nr(function(){_e.sendType===0&&$t--,Rr(_e.batches,q+1,_e.isTeardown,k?2:_e.sendType,5)},k,Er(q))):(Pt=!0,k&&(Xe=8001)))}}finally{_t||(Ct.setClockSkew(),Br(_e,Xe,Pe,Pt)),Or(wt,8004,_e.sendType)}}function Br(H,me,_e,Pe){try{Pe&&Ft._backOffTransmission(),me===200&&(!Pe&&!H.isSync&&Ft._clearBackOff(),nn(H.batches)),Or(H.batches,me,H.sendType,!0)}finally{H.sendType===0&&($t--,_e!==5&&Fe.sendQueuedRequests(H.sendType,_e))}}function nn(H){if(C){var me=r.getTime();r.arrForEach(H,function(_e){_e&&_e.count()>0&&wr(_e.events(),me)})}}function Nr(H,me,_e){me?H():ze.set(H,_e)}function on(H){var me={};if(r.isString(H)){var _e=r.strTrim(H).split(/[\r\n]+/);r.arrForEach(_e,function(Pe){if(Pe){var Xe=Pe.indexOf(": ");if(Xe!==-1){var wt=r.strTrim(Pe.substring(0,Xe)).toLowerCase(),_t=r.strTrim(Pe.substring(Xe+1));me[wt]=_t}else me[r.strTrim(Pe)]=1}})}return me}function Kr(H){for(var me=0;me<H.batches.length;me++){var _e=H.batches[me].Msfpc();if(_e)return encodeURIComponent(_e)}return""}function Mr(H){var me=Fe._responseHandlers;try{for(var _e=0;_e<me.length;_e++)try{me[_e](H)}catch(Xe){r._throwInternal(Ft.diagLog(),1,519,"Response handler failed: "+Xe)}if(H){var Pe=JSON.parse(H);r.isValueAssigned(Pe.webResult)&&r.isValueAssigned(Pe.webResult[st])&&R.set("MSFPC",Pe.webResult[st],365*86400)}}catch{}}function Or(H,me,_e,Pe){if(H&&H.length>0&&et){var Xe=et[an(me)];if(Xe){var wt=_e!==0;r.doPerf(Rt,function(){return"HttpManager:_sendBatchesNotification"},function(){Nr(function(){try{Xe.call(et,H,me,wt,_e)}catch(_t){r._throwInternal(Ft.diagLog(),1,74,"send request notification failed: "+_t)}},Pe||wt,0)},function(){return{batches:or(H),reason:me,isSync:wt,sendSync:Pe,sendType:_e}},!wt)}}}function an(H){var me=ar[H];return r.isValueAssigned(me)||(me=g,H>=9e3&&H<=9999?me=m:H>=8e3&&H<=8999?me=c:H>=1e3&&H<=1999&&(me=p)),me}})}return Me}();function Ke(Me,je){for(var Se=[],Z=2;Z<arguments.length;Z++)Se[Z-2]=arguments[Z];return setTimeout(Me,je,Se)}function He(Me){clearTimeout(Me)}function $e(Me,je){return{set:Me||Ke,clear:je||He}}var Tt=.25,It=500,Oe=20,Ye=6,ae=2,we=4,Le=2,he=1,ct="eventsDiscarded",qt="overrideInstrumentationKey",Ze="maxEventRetryAttempts",Kt="maxUnloadEventRetryAttempts",vr="addUnloadCb",Tr=function(Me){i.__extendsFn(je,Me);function je(){var Se=Me.call(this)||this;Se.identifier="PostChannel",Se.priority=1011,Se.version="3.2.3";var Z,et=!1,ze=[],pe=null,mt=!1,bt=0,Ct=500,Vt=0,$t=1e4,Ft={},nt=o,Rt=null,lt=null,gt=0,f=0,_,S,C={},R,k,L=-1,Q,te=!0,Fe=!1,dt=Ye,qe=ae,it,pt;return a(je,Se,function(St,Ut){Rr(),St._getDbgPlgTargets=function(){return[S]},St.initialize=function(q,ce,de){r.doPerf(ce,function(){return"PostChannel:initialize"},function(){var Ce=ce;Ut.initialize(q,ce,de);try{var ft=!!ce[vr];it=r.mergeEvtNamespace(r.createUniqueNamespace(St.identifier),ce.evtNamespace&&ce.evtNamespace());var ht=St._getTelCtx();q.extensionConfig[St.identifier]=q.extensionConfig[St.identifier]||{},Z=ht.getExtCfg(St.identifier),pt=$e(Z.setTimeoutOverride,Z.clearTimeoutOverride),te=!Z.disableOptimizeObj&&r.isChromium(),Hr(Ce),Z.eventsLimitInMem>0&&($t=Z.eventsLimitInMem),Z.immediateEventLimit>0&&(Ct=Z.immediateEventLimit),Z.autoFlushEventsLimit>0&&(R=Z.autoFlushEventsLimit),r.isNumber(Z[Ze])&&(dt=Z[Ze]),r.isNumber(Z[Kt])&&(qe=Z[Kt]),Je(),Z.httpXHROverride&&Z.httpXHROverride.sendPOST&&(_=Z.httpXHROverride),r.isValueAssigned(q.anonCookieName)&&S.addQueryStringParameter("anoncknm",q.anonCookieName),S.sendHook=Z.payloadPreprocessor,S.sendListener=Z.payloadListener;var Xt=Z.overrideEndpointUrl?Z.overrideEndpointUrl:q.endpointUrl;St._notificationManager=q.extensionConfig.NotificationManager,S.initialize(Xt,St.core,St,_,Z);var er=q.disablePageUnloadEvents||[];r.addPageUnloadEventListener(dr,er,it),r.addPageHideEventListener(dr,er,it),r.addPageShowEventListener(mr,q.disablePageShowEvents,it)}catch(gr){throw St.setInitialized(!1),gr}},function(){return{coreConfig:q,core:ce,extensions:de}})},St.processTelemetry=function(q,ce){r.setProcessTelemetryTimings(q,St.identifier),ce=St._getTelCtx(ce);var de=ce.getExtCfg(St.identifier),Ce=!!Z.disableTelemetry;de&&(Ce=Ce||!!de.disableTelemetry);var ft=q;!Ce&&!et&&(Z[qt]&&(ft.iKey=Z[qt]),de&&de[qt]&&(ft.iKey=de[qt]),zr(ft,!0),Fe?Ir(2,2):or()),St.processNext(ft,ce)},St._doTeardown=function(q,ce){Ir(2,2),et=!0,S.teardown(),r.removePageUnloadEventListener(null,it),r.removePageHideEventListener(null,it),r.removePageShowEventListener(null,it),Rr()};function Hr(q){var ce=q.getWParam;q.getWParam=function(){var de=0;return Z.ignoreMc1Ms0CookieProcessing&&(de=de|2),de|ce()}}function dr(q){var ce=q||r.getWindow().event;ce.type!=="beforeunload"&&(Fe=!0,S.setUnloading(Fe)),Ir(2,2)}function mr(q){Fe=!1,S.setUnloading(Fe)}function zr(q,ce){if(q.sendAttempt||(q.sendAttempt=0),q.latency||(q.latency=1),q.ext&&q.ext.trace&&delete q.ext.trace,q.ext&&q.ext.user&&q.ext.user.id&&delete q.ext.user.id,te&&(q.ext=r.optimizeObject(q.ext),q.baseData&&(q.baseData=r.optimizeObject(q.baseData)),q.data&&(q.data=r.optimizeObject(q.data))),q.sync){if(gt||mt)q.latency=3,q.sync=!1;else if(S){te&&(q=r.optimizeObject(q)),S.sendSynchronousBatch(le.create(q.iKey,[q]),q.sync===!0?1:q.sync,3);return}}var de=q.latency,Ce=Vt,ft=$t;de===4&&(Ce=bt,ft=Ct);var ht=!1;if(Ce<ft)ht=!Br(q,ce);else{var Xt=1,er=Oe;de===4&&(Xt=4,er=1),ht=!0,nn(q.iKey,q.latency,Xt,er)&&(ht=!Br(q,ce))}ht&&_e(ct,[q],r.EventsDiscardedReason.QueueFull)}St.setEventQueueLimits=function(q,ce){$t=q>0?q:1e4,R=ce>0?ce:0,Je();var de=Vt>q;if(!de&&k>0)for(var Ce=1;!de&&Ce<=3;Ce++){var ft=C[Ce];ft&&ft.batches&&r.arrForEach(ft.batches,function(ht){ht&&ht.count()>=k&&(de=!0)})}$r(!0,de)},St.pause=function(){Dr(),mt=!0,S.pause()},St.resume=function(){mt=!1,S.resume(),or()},St.addResponseHandler=function(q){S._responseHandlers.push(q)},St._loadTransmitProfiles=function(q){Or(),r.objForEachKey(q,function(ce,de){var Ce=de.length;if(Ce>=2){var ft=Ce>2?de[2]:0;if(de.splice(0,Ce-2),de[1]<0&&(de[0]=-1),de[1]>0&&de[0]>0){var ht=de[0]/de[1];de[0]=Math.ceil(ht)*de[1]}ft>=0&&de[1]>=0&&ft>de[1]&&(ft=de[1]),de.push(ft),Ft[ce]=de}})},St.flush=function(q,ce,de){if(q===void 0&&(q=!0),!mt)if(de=de||1,q)pe==null?(Dr(),on(1,0,de),pe=Wr(function(){pe=null,Kr(ce,de)},0)):ze.push(ce);else{var Ce=Dr();qr(1,1,de),ce?.(),Ce&&or()}},St.setMsaAuthTicket=function(q){S.addHeader(ut,q)},St.hasEvents=rn,St._setTransmitProfile=function(q){nt!==q&&Ft[q]!==void 0&&(Dr(),nt=q,or())};function qr(q,ce,de){var Ce=on(q,ce,de);return S.sendQueuedRequests(ce,de),Ce}function rn(){return Vt>0}function or(){if(L>=0&&on(L,0,Q)&&S.sendQueuedRequests(0,Q),bt>0&&!lt&&!mt){var q=Ft[nt][2];q>=0&&(lt=Wr(function(){lt=null,qr(4,0,1),or()},q))}var ce=Ft[nt][1];!Rt&&!pe&&ce>=0&&!mt&&(rn()?Rt=Wr(function(){Rt=null,qr(f===0?3:1,0,1),f++,f%=2,or()},ce):f=0)}St._backOffTransmission=function(){gt<we&&(gt++,Dr(),or())},St._clearBackOff=function(){gt&&(gt=0,Dr(),or())};function Rr(){Z=null,et=!1,ze=[],pe=null,mt=!1,bt=0,Ct=500,Vt=0,$t=1e4,Ft={},nt=o,Rt=null,lt=null,gt=0,f=0,_=null,C={},R=void 0,k=0,L=-1,Q=null,te=!0,Fe=!1,dt=Ye,qe=ae,it=null,pt=$e(),S=new vt(It,Le,he,{requeue:H,send:Xe,sent:wt,drop:_t,rspFail:Pt,oth:At},pt),an(),xr(),Je()}function Wr(q,ce){ce===0&&gt&&(ce=1);var de=1e3;return gt&&(de=Er(gt-1)),pt.set(q,ce*de)}function Dr(){return Rt!==null?(pt.clear(Rt),Rt=null,f=0,!0):!1}function Ir(q,ce){Dr(),pe&&(pt.clear(pe),pe=null),mt||qr(1,q,ce)}function xr(){C[4]={batches:[],iKeyMap:{}},C[3]={batches:[],iKeyMap:{}},C[2]={batches:[],iKeyMap:{}},C[1]={batches:[],iKeyMap:{}}}function wr(q,ce,de){var Ce=C[ce];Ce||(ce=1,Ce=C[ce]);var ft=Ce.iKeyMap[q];return!ft&&de&&(ft=le.create(q),Ce.batches.push(ft),Ce.iKeyMap[q]=ft),ft}function $r(q,ce){S.canSendRequest()&&!gt&&(R>0&&Vt>R&&(ce=!0),ce&&pe==null&&St.flush(q,null,20))}function Br(q,ce){te&&(q=r.optimizeObject(q));var de=q.latency,Ce=wr(q.iKey,de,!0);return Ce.addEvent(q)?(de!==4?(Vt++,ce&&q.sendAttempt===0&&$r(!q.sync,k>0&&Ce.count()>=k)):bt++,!0):!1}function nn(q,ce,de,Ce){for(;de<=ce;){var ft=wr(q,ce,!0);if(ft&&ft.count()>0){var ht=ft.split(0,Ce),Xt=ht.count();if(Xt>0)return de===4?bt-=Xt:Vt-=Xt,Pe(ct,[ht],r.EventsDiscardedReason.QueueFull),!0}de++}return Nr(),!1}function Nr(){for(var q=0,ce=0,de=function(ft){var ht=C[ft];ht&&ht.batches&&r.arrForEach(ht.batches,function(Xt){ft===4?q+=Xt.count():ce+=Xt.count()})},Ce=1;Ce<=4;Ce++)de(Ce);Vt=ce,bt=q}function on(q,ce,de){var Ce=!1,ft=ce===0;return!ft||S.canSendRequest()?r.doPerf(St.core,function(){return"PostChannel._queueBatches"},function(){for(var ht=[],Xt=4;Xt>=q;){var er=C[Xt];er&&er.batches&&er.batches.length>0&&(r.arrForEach(er.batches,function(gr){S.addBatch(gr)?Ce=Ce||gr&&gr.count()>0:ht=ht.concat(gr.events()),Xt===4?bt-=gr.count():Vt-=gr.count()}),er.batches=[],er.iKeyMap={}),Xt--}ht.length>0&&_e(ct,ht,r.EventsDiscardedReason.KillSwitch),Ce&&L>=q&&(L=-1,Q=0)},function(){return{latency:q,sendType:ce,sendReason:de}},!ft):(L=L>=0?Math.min(L,q):q,Q=Math.max(Q,de)),Ce}function Kr(q,ce){qr(1,0,ce),Nr(),Mr(function(){q&&q(),ze.length>0?pe=Wr(function(){pe=null,Kr(ze.shift(),ce)},0):(pe=null,or())})}function Mr(q){S.isCompletelyIdle()?q():pe=Wr(function(){pe=null,Mr(q)},Tt)}function Or(){Dr(),an(),nt=o,or()}function an(){Ft={},Ft[o]=[2,1,0],Ft[n]=[6,3,0],Ft[s]=[18,9,0]}function H(q,ce){var de=[],Ce=dt;Fe&&(Ce=qe),r.arrForEach(q,function(ft){ft&&ft.count()>0&&r.arrForEach(ft.events(),function(ht){ht&&(ht.sync&&(ht.latency=4,ht.sync=!1),ht.sendAttempt<Ce?(r.setProcessTelemetryTimings(ht,St.identifier),zr(ht,!1)):de.push(ht))})}),de.length>0&&_e(ct,de,r.EventsDiscardedReason.NonRetryableStatus),Fe&&Ir(2,2)}function me(q,ce){var de=St._notificationManager||{},Ce=de[q];if(Ce)try{Ce.apply(de,ce)}catch(ft){r._throwInternal(St.diagLog(),1,74,q+" notification failed: "+ft)}}function _e(q,ce){for(var de=[],Ce=2;Ce<arguments.length;Ce++)de[Ce-2]=arguments[Ce];ce&&ce.length>0&&me(q,[ce].concat(de))}function Pe(q,ce){for(var de=[],Ce=2;Ce<arguments.length;Ce++)de[Ce-2]=arguments[Ce];ce&&ce.length>0&&r.arrForEach(ce,function(ft){ft&&ft.count()>0&&me(q,[ft.events()].concat(de))})}function Xe(q,ce,de){q&&q.length>0&&me("eventsSendRequest",[ce>=1e3&&ce<=1999?ce-1e3:0,de!==!0])}function wt(q,ce){Pe("eventsSent",q,ce),or()}function _t(q,ce){Pe(ct,q,ce>=8e3&&ce<=8999?ce-8e3:r.EventsDiscardedReason.Unknown)}function Pt(q){Pe(ct,q,r.EventsDiscardedReason.NonRetryableStatus),or()}function At(q,ce){Pe(ct,q,r.EventsDiscardedReason.Unknown),or()}function Je(){!Z||!Z.disableAutoBatchFlushLimit?k=Math.max(It*(Le+1),$t/6):k=0}r.objDefineAccessors(St,"_setTimeoutOverride",function(){return pt.set},function(q){pt=$e(q,pt.clear)}),r.objDefineAccessors(St,"_clearTimeoutOverride",function(){return pt.clear},function(q){pt=$e(pt.set,q)})}),Se}return je}(r.BaseTelemetryPlugin);e.BE_PROFILE=s,e.NRT_PROFILE=n,e.PostChannel=Tr,e.RT_PROFILE=o,function(Me,je,Se){var Z=Object.defineProperty;if(Z)try{return Z(Me,je,Se)}catch{}return Se&&typeof Se.value!==void 0&&(Me[je]=Se.value),Me}(e,"__esModule",{value:!0})})});var Al=Bt((v_,wl)=>{"use strict";var Kf=Object.create,vi=Object.defineProperty,Xf=Object.defineProperties,Qf=Object.getOwnPropertyDescriptor,Yf=Object.getOwnPropertyDescriptors,Zf=Object.getOwnPropertyNames,Nc=Object.getOwnPropertySymbols,Jf=Object.getPrototypeOf,Lc=Object.prototype.hasOwnProperty,ep=Object.prototype.propertyIsEnumerable,Mc=(e,i,t)=>i in e?vi(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,xn=(e,i)=>{for(var t in i||(i={}))Lc.call(i,t)&&Mc(e,t,i[t]);if(Nc)for(var t of Nc(i))ep.call(i,t)&&Mc(e,t,i[t]);return e},tp=(e,i)=>Xf(e,Yf(i)),x=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),rp=(e,i)=>{for(var t in i)vi(e,t,{get:i[t],enumerable:!0})},jc=(e,i,t,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let u of Zf(i))!Lc.call(e,u)&&u!==t&&vi(e,u,{get:()=>i[u],enumerable:!(r=Qf(i,u))||r.enumerable});return e},to=(e,i,t)=>(t=e!=null?Kf(Jf(e)):{},jc(i||!e||!e.__esModule?vi(t,"default",{value:e,enumerable:!0}):t,e)),np=e=>jc(vi({},"__esModule",{value:!0}),e),yr=x((e,i)=>{"use strict";var t=function(){function r(){}return r.info=function(u){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];r.enableDebug&&console.info(r.TAG+u,a)},r.warn=function(u){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];r.disableWarnings||console.warn(r.TAG+u,a)},r.enableDebug=!1,r.disableWarnings=!1,r.disableErrors=!1,r.TAG="ApplicationInsights:",r}();i.exports=t}),Fc=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(a){for(var o,n=1,s=arguments.length;n<s;n++){o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var t=$n(),r=require("events"),u=function(){function a(){}return a.prototype.active=function(){var o=this,n=t.CorrelationContextManager.getCurrentContext();return i(i({},n),{getValue:function(s){return o._activeSymbol?s===o._activeSymbol?n:!1:(o._activeSymbol=s,n)},setValue:function(){}})},a.prototype.with=function(o,n){var s=o.parentSpanId,l=o.name,d=a._spanToContext(o,s,l);return t.CorrelationContextManager.runWithContext(d,n)()},a.prototype.bind=function(o){return typeof o=="function"?t.CorrelationContextManager.wrapCallback(o):(o instanceof r.EventEmitter&&t.CorrelationContextManager.wrapEmitter(o),o)},a.prototype.enable=function(){return t.CorrelationContextManager.enable(),this},a.prototype.disable=function(){return t.CorrelationContextManager.disable(),this},a._spanToContext=function(o,n,s){var l=n?"|"+o.spanContext().traceId+"."+n+".":o.spanContext().traceId,d=i(i({},o.spanContext()),{traceFlags:o.spanContext().traceFlags}),c=t.CorrelationContextManager.spanToContextObject(d,l,s);return c},a}();e.OpenTelemetryScopeManagerWrapper=u,e.AsyncScopeManager=new u}),ip=x((e,i)=>{e=i.exports=ue;var t;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?t=function(){var f=Array.prototype.slice.call(arguments,0);f.unshift("SEMVER"),console.log.apply(console,f)}:t=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,u=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,o=e.re=[],n=e.src=[],s=0,l=s++;n[l]="0|[1-9]\\d*";var d=s++;n[d]="[0-9]+";var c=s++;n[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=s++;n[p]="("+n[l]+")\\.("+n[l]+")\\.("+n[l]+")";var v=s++;n[v]="("+n[d]+")\\.("+n[d]+")\\.("+n[d]+")";var m=s++;n[m]="(?:"+n[l]+"|"+n[c]+")";var g=s++;n[g]="(?:"+n[d]+"|"+n[c]+")";var E=s++;n[E]="(?:-("+n[m]+"(?:\\."+n[m]+")*))";var T=s++;n[T]="(?:-?("+n[g]+"(?:\\."+n[g]+")*))";var O=s++;n[O]="[0-9A-Za-z-]+";var P=s++;n[P]="(?:\\+("+n[O]+"(?:\\."+n[O]+")*))";var A=s++,M="v?"+n[p]+n[E]+"?"+n[P]+"?";n[A]="^"+M+"$";var j="[v=\\s]*"+n[v]+n[T]+"?"+n[P]+"?",G=s++;n[G]="^"+j+"$";var B=s++;n[B]="((?:<|>)?=?)";var Y=s++;n[Y]=n[d]+"|x|X|\\*";var ne=s++;n[ne]=n[l]+"|x|X|\\*";var ye=s++;n[ye]="[v=\\s]*("+n[ne]+")(?:\\.("+n[ne]+")(?:\\.("+n[ne]+")(?:"+n[E]+")?"+n[P]+"?)?)?";var Re=s++;n[Re]="[v=\\s]*("+n[Y]+")(?:\\.("+n[Y]+")(?:\\.("+n[Y]+")(?:"+n[T]+")?"+n[P]+"?)?)?";var ut=s++;n[ut]="^"+n[B]+"\\s*"+n[ye]+"$";var ot=s++;n[ot]="^"+n[B]+"\\s*"+n[Re]+"$";var xt=s++;n[xt]="(?:^|[^\\d])(\\d{1,"+a+"})(?:\\.(\\d{1,"+a+"}))?(?:\\.(\\d{1,"+a+"}))?(?:$|[^\\d])";var st=s++;n[st]="(?:~>?)";var oe=s++;n[oe]="(\\s*)"+n[st]+"\\s+",o[oe]=new RegExp(n[oe],"g");var ge="$1~",le=s++;n[le]="^"+n[st]+n[ye]+"$";var Ue=s++;n[Ue]="^"+n[st]+n[Re]+"$";var X=s++;n[X]="(?:\\^)";var Ee=s++;n[Ee]="(\\s*)"+n[X]+"\\s+",o[Ee]=new RegExp(n[Ee],"g");var se="$1^",We=s++;n[We]="^"+n[X]+n[ye]+"$";var rt=s++;n[rt]="^"+n[X]+n[Re]+"$";var $=s++;n[$]="^"+n[B]+"\\s*("+j+")$|^$";var ee=s++;n[ee]="^"+n[B]+"\\s*("+M+")$|^$";var re=s++;n[re]="(\\s*)"+n[B]+"\\s*("+j+"|"+n[ye]+")",o[re]=new RegExp(n[re],"g");var ve="$1$2$3",Ve=s++;n[Ve]="^\\s*("+n[ye]+")\\s+-\\s+("+n[ye]+")\\s*$";var Ae=s++;n[Ae]="^\\s*("+n[Re]+")\\s+-\\s+("+n[Re]+")\\s*$";var Ne=s++;for(n[Ne]="(<|>)?=?\\s*\\*",Qe=0;Qe<s;Qe++)t(Qe,n[Qe]),o[Qe]||(o[Qe]=new RegExp(n[Qe]));var Qe;e.parse=Ot;function Ot(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue)return f;if(typeof f!="string"||f.length>r)return null;var S=_.loose?o[G]:o[A];if(!S.test(f))return null;try{return new ue(f,_)}catch{return null}}e.valid=Er;function Er(f,_){var S=Ot(f,_);return S?S.version:null}e.clean=hr;function hr(f,_){var S=Ot(f.trim().replace(/^[=v]+/,""),_);return S?S.version:null}e.SemVer=ue;function ue(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue){if(f.loose===_.loose)return f;f=f.version}else if(typeof f!="string")throw new TypeError("Invalid Version: "+f);if(f.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof ue))return new ue(f,_);t("SemVer",f,_),this.options=_,this.loose=!!_.loose;var S=f.trim().match(_.loose?o[G]:o[A]);if(!S)throw new TypeError("Invalid Version: "+f);if(this.raw=f,this.major=+S[1],this.minor=+S[2],this.patch=+S[3],this.major>u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u||this.patch<0)throw new TypeError("Invalid patch version");S[4]?this.prerelease=S[4].split(".").map(function(C){if(/^[0-9]+$/.test(C)){var R=+C;if(R>=0&&R<u)return R}return C}):this.prerelease=[],this.build=S[5]?S[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(f){return t("SemVer.compare",this.version,this.options,f),f instanceof ue||(f=new ue(f,this.options)),this.compareMain(f)||this.comparePre(f)},ue.prototype.compareMain=function(f){return f instanceof ue||(f=new ue(f,this.options)),Ht(this.major,f.major)||Ht(this.minor,f.minor)||Ht(this.patch,f.patch)},ue.prototype.comparePre=function(f){if(f instanceof ue||(f=new ue(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;var _=0;do{var S=this.prerelease[_],C=f.prerelease[_];if(t("prerelease compare",_,S,C),S===void 0&&C===void 0)return 0;if(C===void 0)return 1;if(S===void 0)return-1;if(S!==C)return Ht(S,C)}while(++_)},ue.prototype.inc=function(f,_){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",_),this.inc("pre",_);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",_),this.inc("pre",_);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var S=this.prerelease.length;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);S===-1&&this.prerelease.push(0)}_&&(this.prerelease[0]===_?isNaN(this.prerelease[1])&&(this.prerelease=[_,0]):this.prerelease=[_,0]);break;default:throw new Error("invalid increment argument: "+f)}return this.format(),this.raw=this.version,this},e.inc=br;function br(f,_,S,C){typeof S=="string"&&(C=S,S=void 0);try{return new ue(f,S).inc(_,C).version}catch{return null}}e.diff=nr;function nr(f,_){if(Tt(f,_))return null;var S=Ot(f),C=Ot(_),R="";if(S.prerelease.length||C.prerelease.length){R="pre";var k="prerelease"}for(var L in S)if((L==="major"||L==="minor"||L==="patch")&&S[L]!==C[L])return R+L;return k}e.compareIdentifiers=Ht;var Wt=/^[0-9]+$/;function Ht(f,_){var S=Wt.test(f),C=Wt.test(_);return S&&C&&(f=+f,_=+_),f===_?0:S&&!C?-1:C&&!S?1:f<_?-1:1}e.rcompareIdentifiers=ar;function ar(f,_){return Ht(_,f)}e.major=ir;function ir(f,_){return new ue(f,_).major}e.minor=Sr;function Sr(f,_){return new ue(f,_).minor}e.patch=ie;function ie(f,_){return new ue(f,_).patch}e.compare=K;function K(f,_,S){return new ue(f,S).compare(new ue(_,S))}e.compareLoose=xe;function xe(f,_){return K(f,_,!0)}e.rcompare=Te;function Te(f,_,S){return K(_,f,S)}e.sort=vt;function vt(f,_){return f.sort(function(S,C){return e.compare(S,C,_)})}e.rsort=Ke;function Ke(f,_){return f.sort(function(S,C){return e.rcompare(S,C,_)})}e.gt=He;function He(f,_,S){return K(f,_,S)>0}e.lt=$e;function $e(f,_,S){return K(f,_,S)<0}e.eq=Tt;function Tt(f,_,S){return K(f,_,S)===0}e.neq=It;function It(f,_,S){return K(f,_,S)!==0}e.gte=Oe;function Oe(f,_,S){return K(f,_,S)>=0}e.lte=Ye;function Ye(f,_,S){return K(f,_,S)<=0}e.cmp=ae;function ae(f,_,S,C){switch(_){case"===":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f===S;case"!==":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f!==S;case"":case"=":case"==":return Tt(f,S,C);case"!=":return It(f,S,C);case">":return He(f,S,C);case">=":return Oe(f,S,C);case"<":return $e(f,S,C);case"<=":return Ye(f,S,C);default:throw new TypeError("Invalid operator: "+_)}}e.Comparator=we;function we(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof we){if(f.loose===!!_.loose)return f;f=f.value}if(!(this instanceof we))return new we(f,_);t("comparator",f,_),this.options=_,this.loose=!!_.loose,this.parse(f),this.semver===Le?this.value="":this.value=this.operator+this.semver.version,t("comp",this)}var Le={};we.prototype.parse=function(f){var _=this.options.loose?o[$]:o[ee],S=f.match(_);if(!S)throw new TypeError("Invalid comparator: "+f);this.operator=S[1],this.operator==="="&&(this.operator=""),S[2]?this.semver=new ue(S[2],this.options.loose):this.semver=Le},we.prototype.toString=function(){return this.value},we.prototype.test=function(f){return t("Comparator.test",f,this.options.loose),this.semver===Le?!0:(typeof f=="string"&&(f=new ue(f,this.options)),ae(f,this.operator,this.semver,this.options))},we.prototype.intersects=function(f,_){if(!(f instanceof we))throw new TypeError("a Comparator is required");(!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1});var S;if(this.operator==="")return S=new he(f.value,_),pe(this.value,S,_);if(f.operator==="")return S=new he(this.value,_),pe(f.semver,S,_);var C=(this.operator===">="||this.operator===">")&&(f.operator===">="||f.operator===">"),R=(this.operator==="<="||this.operator==="<")&&(f.operator==="<="||f.operator==="<"),k=this.semver.version===f.semver.version,L=(this.operator===">="||this.operator==="<=")&&(f.operator===">="||f.operator==="<="),Q=ae(this.semver,"<",f.semver,_)&&(this.operator===">="||this.operator===">")&&(f.operator==="<="||f.operator==="<"),te=ae(this.semver,">",f.semver,_)&&(this.operator==="<="||this.operator==="<")&&(f.operator===">="||f.operator===">");return C||R||k&&L||Q||te},e.Range=he;function he(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof he)return f.loose===!!_.loose&&f.includePrerelease===!!_.includePrerelease?f:new he(f.raw,_);if(f instanceof we)return new he(f.value,_);if(!(this instanceof he))return new he(f,_);if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=f,this.set=f.split(/\s*\|\|\s*/).map(function(S){return this.parseRange(S.trim())},this).filter(function(S){return S.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+f);this.format()}he.prototype.format=function(){return this.range=this.set.map(function(f){return f.join(" ").trim()}).join("||").trim(),this.range},he.prototype.toString=function(){return this.range},he.prototype.parseRange=function(f){var _=this.options.loose;f=f.trim();var S=_?o[Ae]:o[Ve];f=f.replace(S,et),t("hyphen replace",f),f=f.replace(o[re],ve),t("comparator trim",f,o[re]),f=f.replace(o[oe],ge),f=f.replace(o[Ee],se),f=f.split(/\s+/).join(" ");var C=_?o[$]:o[ee],R=f.split(" ").map(function(k){return qt(k,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(R=R.filter(function(k){return!!k.match(C)})),R=R.map(function(k){return new we(k,this.options)},this),R},he.prototype.intersects=function(f,_){if(!(f instanceof he))throw new TypeError("a Range is required");return this.set.some(function(S){return S.every(function(C){return f.set.some(function(R){return R.every(function(k){return C.intersects(k,_)})})})})},e.toComparators=ct;function ct(f,_){return new he(f,_).set.map(function(S){return S.map(function(C){return C.value}).join(" ").trim().split(" ")})}function qt(f,_){return t("comp",f,_),f=Tr(f,_),t("caret",f),f=Kt(f,_),t("tildes",f),f=je(f,_),t("xrange",f),f=Z(f,_),t("stars",f),f}function Ze(f){return!f||f.toLowerCase()==="x"||f==="*"}function Kt(f,_){return f.trim().split(/\s+/).map(function(S){return vr(S,_)}).join(" ")}function vr(f,_){var S=_.loose?o[Ue]:o[le];return f.replace(S,function(C,R,k,L,Q){t("tilde",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":Q?(t("replaceTilde pr",Q),te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0"):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0",t("tilde return",te),te})}function Tr(f,_){return f.trim().split(/\s+/).map(function(S){return Me(S,_)}).join(" ")}function Me(f,_){t("caret",f,_);var S=_.loose?o[rt]:o[We];return f.replace(S,function(C,R,k,L,Q){t("caret",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?R==="0"?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+".0 <"+(+R+1)+".0.0":Q?(t("replaceCaret pr",Q),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+"-"+Q+" <"+(+R+1)+".0.0"):(t("no pr"),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+" <"+(+R+1)+".0.0"),t("caret return",te),te})}function je(f,_){return t("replaceXRanges",f,_),f.split(/\s+/).map(function(S){return Se(S,_)}).join(" ")}function Se(f,_){f=f.trim();var S=_.loose?o[ot]:o[ut];return f.replace(S,function(C,R,k,L,Q,te){t("xRange",f,C,R,k,L,Q,te);var Fe=Ze(k),dt=Fe||Ze(L),qe=dt||Ze(Q),it=qe;return R==="="&&it&&(R=""),Fe?R===">"||R==="<"?C="<0.0.0":C="*":R&&it?(dt&&(L=0),Q=0,R===">"?(R=">=",dt?(k=+k+1,L=0,Q=0):(L=+L+1,Q=0)):R==="<="&&(R="<",dt?k=+k+1:L=+L+1),C=R+k+"."+L+"."+Q):dt?C=">="+k+".0.0 <"+(+k+1)+".0.0":qe&&(C=">="+k+"."+L+".0 <"+k+"."+(+L+1)+".0"),t("xRange return",C),C})}function Z(f,_){return t("replaceStars",f,_),f.trim().replace(o[Ne],"")}function et(f,_,S,C,R,k,L,Q,te,Fe,dt,qe,it){return Ze(S)?_="":Ze(C)?_=">="+S+".0.0":Ze(R)?_=">="+S+"."+C+".0":_=">="+_,Ze(te)?Q="":Ze(Fe)?Q="<"+(+te+1)+".0.0":Ze(dt)?Q="<"+te+"."+(+Fe+1)+".0":qe?Q="<="+te+"."+Fe+"."+dt+"-"+qe:Q="<="+Q,(_+" "+Q).trim()}he.prototype.test=function(f){if(!f)return!1;typeof f=="string"&&(f=new ue(f,this.options));for(var _=0;_<this.set.length;_++)if(ze(this.set[_],f,this.options))return!0;return!1};function ze(f,_,S){for(var C=0;C<f.length;C++)if(!f[C].test(_))return!1;if(_.prerelease.length&&!S.includePrerelease){for(C=0;C<f.length;C++)if(t(f[C].semver),f[C].semver!==Le&&f[C].semver.prerelease.length>0){var R=f[C].semver;if(R.major===_.major&&R.minor===_.minor&&R.patch===_.patch)return!0}return!1}return!0}e.satisfies=pe;function pe(f,_,S){try{_=new he(_,S)}catch{return!1}return _.test(f)}e.maxSatisfying=mt;function mt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===-1)&&(C=L,R=new ue(C,S))}),C}e.minSatisfying=bt;function bt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===1)&&(C=L,R=new ue(C,S))}),C}e.minVersion=Ct;function Ct(f,_){f=new he(f,_);var S=new ue("0.0.0");if(f.test(S)||(S=new ue("0.0.0-0"),f.test(S)))return S;S=null;for(var C=0;C<f.set.length;++C){var R=f.set[C];R.forEach(function(k){var L=new ue(k.semver.version);switch(k.operator){case">":L.prerelease.length===0?L.patch++:L.prerelease.push(0),L.raw=L.format();case"":case">=":(!S||He(S,L))&&(S=L);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+k.operator)}})}return S&&f.test(S)?S:null}e.validRange=Vt;function Vt(f,_){try{return new he(f,_).range||"*"}catch{return null}}e.ltr=$t;function $t(f,_,S){return nt(f,_,"<",S)}e.gtr=Ft;function Ft(f,_,S){return nt(f,_,">",S)}e.outside=nt;function nt(f,_,S,C){f=new ue(f,C),_=new he(_,C);var R,k,L,Q,te;switch(S){case">":R=He,k=Ye,L=$e,Q=">",te=">=";break;case"<":R=$e,k=Oe,L=He,Q="<",te="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pe(f,_,C))return!1;for(var Fe=0;Fe<_.set.length;++Fe){var dt=_.set[Fe],qe=null,it=null;if(dt.forEach(function(pt){pt.semver===Le&&(pt=new we(">=0.0.0")),qe=qe||pt,it=it||pt,R(pt.semver,qe.semver,C)?qe=pt:L(pt.semver,it.semver,C)&&(it=pt)}),qe.operator===Q||qe.operator===te||(!it.operator||it.operator===Q)&&k(f,it.semver)||it.operator===te&&L(f,it.semver))return!1}return!0}e.prerelease=Rt;function Rt(f,_){var S=Ot(f,_);return S&&S.prerelease.length?S.prerelease:null}e.intersects=lt;function lt(f,_,S){return f=new he(f,S),_=new he(_,S),f.intersects(_)}e.coerce=gt;function gt(f){if(f instanceof ue)return f;if(typeof f!="string")return null;var _=f.match(o[xt]);return _==null?null:Ot(_[1]+"."+(_[2]||"0")+"."+(_[3]||"0"))}}),kc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var i=require("path"),t=ip(),r=require("module"),u=Object.keys(process.binding("natives")),a=r.prototype.require;function o(n){var s={};return function(l){var d=a.apply(this,arguments);if(n[l]){var c=r._resolveFilename(l,this);if(s.hasOwnProperty(c))return s[c];var p=void 0;if(u.indexOf(l)<0)try{p=a.call(this,i.join(l,"package.json")).version}catch{return d}else p=process.version.substring(1);var v=p.indexOf("-");v>=0&&(p=p.substring(0,v));for(var m=d,g=0,E=n[l];g<E.length;g++){var T=E[g];t.satisfies(p,T.versionSpecifier)&&(m=T.patch(m,c))}return s[c]=m}return d}}e.makePatchingRequire=o}),op=x((e,i)=>{i.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),cr=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var i=kc(),t=kc();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return t.makePatchingRequire}});var r=function(o){return!0},u=function(){function o(){this.version=op().version,this.subscribers={},this.contextPreservationFunction=function(n){return n},this.knownPatches={},this.currentlyPublishing=!1}return o.prototype.shouldPublish=function(n){var s=this.subscribers[n];return s?s.some(function(l){var d=l.filter;return!d||d(!1)}):!1},o.prototype.publish=function(n,s){if(!this.currentlyPublishing){var l=this.subscribers[n];if(l){var d={timestamp:Date.now(),data:s};this.currentlyPublishing=!0,l.forEach(function(c){var p=c.listener,v=c.filter;try{v&&v(!0)&&p(d)}catch{}}),this.currentlyPublishing=!1}}},o.prototype.subscribe=function(n,s,l){l===void 0&&(l=r),this.subscribers[n]||(this.subscribers[n]=[]),this.subscribers[n].push({listener:s,filter:l})},o.prototype.unsubscribe=function(n,s,l){l===void 0&&(l=r);var d=this.subscribers[n];if(d){for(var c=0;c<d.length;++c)if(d[c].listener===s&&d[c].filter===l)return d.splice(c,1),!0}return!1},o.prototype.reset=function(){var n=this;this.subscribers={},this.contextPreservationFunction=function(s){return s},Object.getOwnPropertyNames(this.knownPatches).forEach(function(s){return delete n.knownPatches[s]})},o.prototype.bindToContext=function(n){return this.contextPreservationFunction(n)},o.prototype.addContextPreservation=function(n){var s=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return n(s(l))}},o.prototype.registerMonkeyPatch=function(n,s){this.knownPatches[n]||(this.knownPatches[n]=[]),this.knownPatches[n].push(s)},o.prototype.getPatchesObject=function(){return this.knownPatches},o}();global.diagnosticsSource||(global.diagnosticsSource=new u,a=require("module"),a.prototype.require=i.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var a;e.channel=global.diagnosticsSource}),ap=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),sp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis=typeof globalThis=="object"?globalThis:global}),up=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(sp(),e)}),cp=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(up(),e)}),Uc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"}),lp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var i=Uc(),t=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function r(u){var a=new Set([u]),o=new Set,n=u.match(t);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(c){return c===u};function l(c){return o.add(c),!1}function d(c){return a.add(c),!0}return function(c){if(a.has(c))return!0;if(o.has(c))return!1;var p=c.match(t);if(!p)return l(c);var v={major:+p[1],minor:+p[2],patch:+p[3],prerelease:p[4]};return v.prerelease!=null||s.major!==v.major?l(c):s.major===0?s.minor===v.minor&&s.patch<=v.patch?d(c):l(c):s.minor<=v.minor?d(c):l(c)}}e._makeCompatibilityCheck=r,e.isCompatible=r(i.VERSION)}),mi=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var i=cp(),t=Uc(),r=lp(),u=t.VERSION.split(".")[0],a=Symbol.for("opentelemetry.js.api."+u),o=i._globalThis;function n(d,c,p,v){var m;v===void 0&&(v=!1);var g=o[a]=(m=o[a])!==null&&m!==void 0?m:{version:t.VERSION};if(!v&&g[d]){var E=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+d);return p.error(E.stack||E.message),!1}if(g.version!==t.VERSION){var E=new Error("@opentelemetry/api: All API registration versions must match");return p.error(E.stack||E.message),!1}return g[d]=c,p.debug("@opentelemetry/api: Registered a global for "+d+" v"+t.VERSION+"."),!0}e.registerGlobal=n;function s(d){var c,p,v=(c=o[a])===null||c===void 0?void 0:c.version;if(!(!v||!r.isCompatible(v)))return(p=o[a])===null||p===void 0?void 0:p[d]}e.getGlobal=s;function l(d,c){c.debug("@opentelemetry/api: Unregistering a global for "+d+" v"+t.VERSION+".");var p=o[a];p&&delete p[d]}e.unregisterGlobal=l}),dp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var i=mi(),t=function(){function u(a){this._namespace=a.namespace||"DiagComponentLogger"}return u.prototype.debug=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return r("debug",this._namespace,a)},u.prototype.error=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return r("error",this._namespace,a)},u.prototype.info=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return r("info",this._namespace,a)},u.prototype.warn=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return r("warn",this._namespace,a)},u.prototype.verbose=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return r("verbose",this._namespace,a)},u}();e.DiagComponentLogger=t;function r(u,a,o){var n=i.getGlobal("diag");if(n)return o.unshift(a),n[u].apply(n,o)}}),Ha=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0;var i;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(i=e.DiagLogLevel||(e.DiagLogLevel={}))}),fp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var i=Ha();function t(r,u){r<i.DiagLogLevel.NONE?r=i.DiagLogLevel.NONE:r>i.DiagLogLevel.ALL&&(r=i.DiagLogLevel.ALL),u=u||{};function a(o,n){var s=u[o];return typeof s=="function"&&r>=n?s.bind(u):function(){}}return{error:a("error",i.DiagLogLevel.ERROR),warn:a("warn",i.DiagLogLevel.WARN),info:a("info",i.DiagLogLevel.INFO),debug:a("debug",i.DiagLogLevel.DEBUG),verbose:a("verbose",i.DiagLogLevel.VERBOSE)}}e.createLogLevelDiagLogger=t}),gi=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var i=dp(),t=fp(),r=Ha(),u=mi(),a="diag",o=function(){function n(){function s(d){return function(){var c=u.getGlobal("diag");if(c)return c[d].apply(c,arguments)}}var l=this;l.setLogger=function(d,c){var p,v;if(c===void 0&&(c=r.DiagLogLevel.INFO),d===l){var m=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((p=m.stack)!==null&&p!==void 0?p:m.message),!1}var g=u.getGlobal("diag"),E=t.createLogLevelDiagLogger(c,d);if(g){var T=(v=new Error().stack)!==null&&v!==void 0?v:"<failed to generate stacktrace>";g.warn("Current logger will be overwritten from "+T),E.warn("Current logger will overwrite one already registered from "+T)}return u.registerGlobal("diag",E,l,!0)},l.disable=function(){u.unregisterGlobal(a,l)},l.createComponentLogger=function(d){return new i.DiagComponentLogger(d)},l.verbose=s("verbose"),l.debug=s("debug"),l.info=s("info"),l.warn=s("warn"),l.error=s("error")}return n.instance=function(){return this._instance||(this._instance=new n),this._instance},n}();e.DiagAPI=o}),pp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var i=function(){function t(r){this._entries=r?new Map(r):new Map}return t.prototype.getEntry=function(r){var u=this._entries.get(r);if(u)return Object.assign({},u)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(r){var u=r[0],a=r[1];return[u,a]})},t.prototype.setEntry=function(r,u){var a=new t(this._entries);return a._entries.set(r,u),a},t.prototype.removeEntry=function(r){var u=new t(this._entries);return u._entries.delete(r),u},t.prototype.removeEntries=function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];for(var a=new t(this._entries),o=0,n=r;o<n.length;o++){var s=n[o];a._entries.delete(s)}return a},t.prototype.clear=function(){return new t},t}();e.BaggageImpl=i}),hp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),Hc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var i=gi(),t=pp(),r=hp(),u=i.DiagAPI.instance();function a(n){return n===void 0&&(n={}),new t.BaggageImpl(new Map(Object.entries(n)))}e.createBaggage=a;function o(n){return typeof n!="string"&&(u.error("Cannot create baggage metadata from unknown type: "+typeof n),n=""),{__TYPE__:r.baggageEntryMetadataSymbol,toString:function(){return n}}}e.baggageEntryMetadataFromString=o}),vp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),mp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],t=function(){function r(){function u(o){return function(){var n=arguments;if(console){var s=console[o];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,n)}}}for(var a=0;a<i.length;a++)this[i[a].n]=u(i[a].c)}return r}();e.DiagConsoleLogger=t}),_p=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(gp(),e),t(Ha(),e)}),qc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(i,t){if(i!=null)return i[t]},keys:function(i){return i==null?[]:Object.keys(i)}},e.defaultTextMapSetter={set:function(i,t,r){i!=null&&(i[t]=r)}}}),yp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ep=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),ro=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0;function i(r){return Symbol.for(r)}e.createContextKey=i;var t=function(){function r(u){var a=this;a._currentContext=u?new Map(u):new Map,a.getValue=function(o){return a._currentContext.get(o)},a.setValue=function(o,n){var s=new r(a._currentContext);return s._currentContext.set(o,n),s},a.deleteValue=function(o){var n=new r(a._currentContext);return n._currentContext.delete(o),n}}return r}();e.ROOT_CONTEXT=new t}),bp=x(e=>{"use strict";var i=e&&e.__spreadArray||function(u,a){for(var o=0,n=a.length,s=u.length;o<n;o++,s++)u[s]=a[o];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var t=ro(),r=function(){function u(){}return u.prototype.active=function(){return t.ROOT_CONTEXT},u.prototype.with=function(a,o,n){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l];return o.call.apply(o,i([n],s))},u.prototype.bind=function(a,o){return o},u.prototype.enable=function(){return this},u.prototype.disable=function(){return this},u}();e.NoopContextManager=r}),Bc=x(e=>{"use strict";var i=e&&e.__spreadArray||function(s,l){for(var d=0,c=l.length,p=s.length;d<c;d++,p++)s[p]=l[d];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var t=bp(),r=mi(),u=gi(),a="context",o=new t.NoopContextManager,n=function(){function s(){}return s.getInstance=function(){return this._instance||(this._instance=new s),this._instance},s.prototype.setGlobalContextManager=function(l){return r.registerGlobal(a,l,u.DiagAPI.instance())},s.prototype.active=function(){return this._getContextManager().active()},s.prototype.with=function(l,d,c){for(var p,v=[],m=3;m<arguments.length;m++)v[m-3]=arguments[m];return(p=this._getContextManager()).with.apply(p,i([l,d,c],v))},s.prototype.bind=function(l,d){return this._getContextManager().bind(l,d)},s.prototype._getContextManager=function(){return r.getGlobal(a)||o},s.prototype.disable=function(){this._getContextManager().disable(),r.unregisterGlobal(a,u.DiagAPI.instance())},s}();e.ContextAPI=n}),Gc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0;var i;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(i=e.TraceFlags||(e.TraceFlags={}))}),qa=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var i=Gc();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:i.TraceFlags.NONE}}),Ba=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var i=qa(),t=function(){function r(u){u===void 0&&(u=i.INVALID_SPAN_CONTEXT),this._spanContext=u}return r.prototype.spanContext=function(){return this._spanContext},r.prototype.setAttribute=function(u,a){return this},r.prototype.setAttributes=function(u){return this},r.prototype.addEvent=function(u,a){return this},r.prototype.setStatus=function(u){return this},r.prototype.updateName=function(u){return this},r.prototype.end=function(u){},r.prototype.isRecording=function(){return!1},r.prototype.recordException=function(u,a){},r}();e.NonRecordingSpan=t}),Vc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var i=ro(),t=Ba(),r=i.createContextKey("OpenTelemetry Context Key SPAN");function u(l){return l.getValue(r)||void 0}e.getSpan=u;function a(l,d){return l.setValue(r,d)}e.setSpan=a;function o(l){return l.deleteValue(r)}e.deleteSpan=o;function n(l,d){return a(l,new t.NonRecordingSpan(d))}e.setSpanContext=n;function s(l){var d;return(d=u(l))===null||d===void 0?void 0:d.spanContext()}e.getSpanContext=s}),Ga=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var i=qa(),t=Ba(),r=/^([0-9a-f]{32})$/i,u=/^[0-9a-f]{16}$/i;function a(l){return r.test(l)&&l!==i.INVALID_TRACEID}e.isValidTraceId=a;function o(l){return u.test(l)&&l!==i.INVALID_SPANID}e.isValidSpanId=o;function n(l){return a(l.traceId)&&o(l.spanId)}e.isSpanContextValid=n;function s(l){return new t.NonRecordingSpan(l)}e.wrapSpanContext=s}),zc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var i=Bc(),t=Vc(),r=Ba(),u=Ga(),a=i.ContextAPI.getInstance(),o=function(){function s(){}return s.prototype.startSpan=function(l,d,c){var p=!!d?.root;if(p)return new r.NonRecordingSpan;var v=c&&t.getSpanContext(c);return n(v)&&u.isSpanContextValid(v)?new r.NonRecordingSpan(v):new r.NonRecordingSpan},s.prototype.startActiveSpan=function(l,d,c,p){var v,m,g;if(!(arguments.length<2)){arguments.length===2?g=d:arguments.length===3?(v=d,g=c):(v=d,m=c,g=p);var E=m??a.active(),T=this.startSpan(l,v,E),O=t.setSpan(E,T);return a.with(O,g,void 0,T)}},s}();e.NoopTracer=o;function n(s){return typeof s=="object"&&typeof s.spanId=="string"&&typeof s.traceId=="string"&&typeof s.traceFlags=="number"}}),Wc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var i=zc(),t=new i.NoopTracer,r=function(){function u(a,o,n){this._provider=a,this.name=o,this.version=n}return u.prototype.startSpan=function(a,o,n){return this._getTracer().startSpan(a,o,n)},u.prototype.startActiveSpan=function(a,o,n,s){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},u.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version);return a?(this._delegate=a,this._delegate):t},u}();e.ProxyTracer=r}),Sp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var i=zc(),t=function(){function r(){}return r.prototype.getTracer=function(u,a){return new i.NoopTracer},r}();e.NoopTracerProvider=t}),$c=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var i=Wc(),t=Sp(),r=new t.NoopTracerProvider,u=function(){function a(){}return a.prototype.getTracer=function(o,n){var s;return(s=this.getDelegateTracer(o,n))!==null&&s!==void 0?s:new i.ProxyTracer(this,o,n)},a.prototype.getDelegate=function(){var o;return(o=this._delegate)!==null&&o!==void 0?o:r},a.prototype.setDelegate=function(o){this._delegate=o},a.prototype.getDelegateTracer=function(o,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(o,n)},a}();e.ProxyTracerProvider=u}),Tp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ip=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0;var i;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(i=e.SamplingDecision||(e.SamplingDecision={}))}),wp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ap=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0;var i;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(i=e.SpanKind||(e.SpanKind={}))}),Op=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Pp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Cp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0;var i;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(i=e.SpanStatusCode||(e.SpanStatusCode={}))}),Rp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Dp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Np=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Mp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var i=mi(),t=$c(),r=Ga(),u=Vc(),a=gi(),o="trace",n=function(){function s(){this._proxyTracerProvider=new t.ProxyTracerProvider,this.wrapSpanContext=r.wrapSpanContext,this.isSpanContextValid=r.isSpanContextValid,this.deleteSpan=u.deleteSpan,this.getSpan=u.getSpan,this.getSpanContext=u.getSpanContext,this.setSpan=u.setSpan,this.setSpanContext=u.setSpanContext}return s.getInstance=function(){return this._instance||(this._instance=new s),this._instance},s.prototype.setGlobalTracerProvider=function(l){var d=i.registerGlobal(o,this._proxyTracerProvider,a.DiagAPI.instance());return d&&this._proxyTracerProvider.setDelegate(l),d},s.prototype.getTracerProvider=function(){return i.getGlobal(o)||this._proxyTracerProvider},s.prototype.getTracer=function(l,d){return this.getTracerProvider().getTracer(l,d)},s.prototype.disable=function(){i.unregisterGlobal(o,a.DiagAPI.instance()),this._proxyTracerProvider=new t.ProxyTracerProvider},s}();e.TraceAPI=n}),kp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var i=function(){function t(){}return t.prototype.inject=function(r,u){},t.prototype.extract=function(r,u){return r},t.prototype.fields=function(){return[]},t}();e.NoopTextMapPropagator=i}),Lp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var i=ro(),t=i.createContextKey("OpenTelemetry Baggage Key");function r(o){return o.getValue(t)||void 0}e.getBaggage=r;function u(o,n){return o.setValue(t,n)}e.setBaggage=u;function a(o){return o.deleteValue(t)}e.deleteBaggage=a}),jp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var i=mi(),t=kp(),r=qc(),u=Lp(),a=Hc(),o=gi(),n="propagation",s=new t.NoopTextMapPropagator,l=function(){function d(){this.createBaggage=a.createBaggage,this.getBaggage=u.getBaggage,this.setBaggage=u.setBaggage,this.deleteBaggage=u.deleteBaggage}return d.getInstance=function(){return this._instance||(this._instance=new d),this._instance},d.prototype.setGlobalPropagator=function(c){return i.registerGlobal(n,c,o.DiagAPI.instance())},d.prototype.inject=function(c,p,v){return v===void 0&&(v=r.defaultTextMapSetter),this._getGlobalPropagator().inject(c,p,v)},d.prototype.extract=function(c,p,v){return v===void 0&&(v=r.defaultTextMapGetter),this._getGlobalPropagator().extract(c,p,v)},d.prototype.fields=function(){return this._getGlobalPropagator().fields()},d.prototype.disable=function(){i.unregisterGlobal(n,o.DiagAPI.instance())},d.prototype._getGlobalPropagator=function(){return i.getGlobal(n)||s},d}();e.PropagationAPI=l}),tr=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(d,c,p,v){v===void 0&&(v=p),Object.defineProperty(d,v,{enumerable:!0,get:function(){return c[p]}})}:function(d,c,p,v){v===void 0&&(v=p),d[v]=c[p]}),t=e&&e.__exportStar||function(d,c){for(var p in d)p!=="default"&&!Object.prototype.hasOwnProperty.call(c,p)&&i(c,d,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,t(ap(),e);var r=Hc();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return r.baggageEntryMetadataFromString}}),t(vp(),e),t(mp(),e),t(_p(),e),t(qc(),e),t(yp(),e),t(Ep(),e),t(Wc(),e),t($c(),e),t(Tp(),e),t(Ip(),e),t(wp(),e),t(Ap(),e),t(Op(),e),t(Pp(),e),t(Cp(),e),t(Gc(),e),t(Rp(),e),t(Dp(),e),t(xp(),e);var u=Ga();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return u.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return u.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return u.isValidSpanId}});var a=qa();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return a.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return a.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return a.INVALID_SPAN_CONTEXT}}),t(ro(),e),t(Np(),e);var o=Bc();e.context=o.ContextAPI.getInstance();var n=Mp();e.trace=n.TraceAPI.getInstance();var s=jp();e.propagation=s.PropagationAPI.getInstance();var l=gi();e.diag=l.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}}),Va=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var i=tr(),t=i.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function r(o){return o.setValue(t,!0)}e.suppressTracing=r;function u(o){return o.deleteValue(t)}e.unsuppressTracing=u;function a(o){return o.getValue(t)===!0}e.isTracingSuppressed=a}),Kc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192}),Xc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var i=tr(),t=Kc(),r=n=>n.reduce((s,l)=>{let d=`${s}${s!==""?t.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return d.length>t.BAGGAGE_MAX_TOTAL_LENGTH?s:d},"");e.serializeKeyPairs=r;var u=n=>n.getAllEntries().map(([s,l])=>`${encodeURIComponent(s)}=${encodeURIComponent(l.value)}`);e.getKeyPairs=u;var a=n=>{let s=n.split(t.BAGGAGE_PROPERTIES_SEPARATOR);if(s.length<=0)return;let l=s.shift();if(!l)return;let d=l.split(t.BAGGAGE_KEY_PAIR_SEPARATOR);if(d.length!==2)return;let c=decodeURIComponent(d[0].trim()),p=decodeURIComponent(d[1].trim()),v;return s.length>0&&(v=i.baggageEntryMetadataFromString(s.join(t.BAGGAGE_PROPERTIES_SEPARATOR))),{key:c,value:p,metadata:v}};e.parsePairKeyValue=a;var o=n=>typeof n!="string"||n.length===0?{}:n.split(t.BAGGAGE_ITEMS_SEPARATOR).map(s=>e.parsePairKeyValue(s)).filter(s=>s!==void 0&&s.value.length>0).reduce((s,l)=>(s[l.key]=l.value,s),{});e.parseKeyPairsIntoRecord=o}),Fp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var i=tr(),t=Va(),r=Kc(),u=Xc(),a=class{inject(o,n,s){let l=i.propagation.getBaggage(o);if(!l||t.isTracingSuppressed(o))return;let d=u.getKeyPairs(l).filter(p=>p.length<=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,r.BAGGAGE_MAX_NAME_VALUE_PAIRS),c=u.serializeKeyPairs(d);c.length>0&&s.set(n,r.BAGGAGE_HEADER,c)}extract(o,n,s){let l=s.get(n,r.BAGGAGE_HEADER);if(!l)return o;let d={};return l.length===0||(l.split(r.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let p=u.parsePairKeyValue(c);if(p){let v={value:p.value};p.metadata&&(v.metadata=p.metadata),d[p.key]=v}}),Object.entries(d).length===0)?o:i.propagation.setBaggage(o,i.propagation.createBaggage(d))}fields(){return[r.BAGGAGE_HEADER]}};e.HttpBaggagePropagator=a}),Up=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0;function i(a){let o={};if(a==null||typeof a!="object")return o;for(let[n,s]of Object.entries(a))t(s)&&(Array.isArray(s)?o[n]=s.slice():o[n]=s);return o}e.sanitizeAttributes=i;function t(a){return a==null?!0:Array.isArray(a)?r(a):u(a)}e.isAttributeValue=t;function r(a){let o;for(let n of a)if(n!=null){if(!o){if(u(n)){o=typeof n;continue}return!1}if(typeof n!==o)return!1}return!0}function u(a){switch(typeof a){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),Qc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var i=tr();function t(){return a=>{i.diag.error(r(a))}}e.loggingErrorHandler=t;function r(a){return typeof a=="string"?a:JSON.stringify(u(a))}function u(a){let o={},n=a;for(;n!==null;)Object.getOwnPropertyNames(n).forEach(s=>{if(o[s])return;let l=n[s];l&&(o[s]=String(l))}),n=Object.getPrototypeOf(n);return o}}),Yc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var i=Qc(),t=i.loggingErrorHandler();function r(a){t=a}e.setGlobalErrorHandler=r;var u=a=>{try{t(a)}catch{}};e.globalErrorHandler=u}),Zc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0;var i;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(i=e.TracesSamplerValues||(e.TracesSamplerValues={}))}),Jc=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var i=tr(),t=Zc(),r=",",u=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function a(v){return u.indexOf(v)>-1}var o=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function n(v){return o.indexOf(v)>-1}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:i.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:t.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function s(v,m,g,E=-1/0,T=1/0){if(typeof g[v]<"u"){let O=Number(g[v]);isNaN(O)||(O<E?m[v]=E:O>T?m[v]=T:m[v]=O)}}function l(v,m,g,E=r){let T=g[v];typeof T=="string"&&(m[v]=T.split(E).map(O=>O.trim()))}var d={ALL:i.DiagLogLevel.ALL,VERBOSE:i.DiagLogLevel.VERBOSE,DEBUG:i.DiagLogLevel.DEBUG,INFO:i.DiagLogLevel.INFO,WARN:i.DiagLogLevel.WARN,ERROR:i.DiagLogLevel.ERROR,NONE:i.DiagLogLevel.NONE};function c(v,m,g){let E=g[v];if(typeof E=="string"){let T=d[E.toUpperCase()];T!=null&&(m[v]=T)}}function p(v){let m={};for(let g in e.DEFAULT_ENVIRONMENT){let E=g;switch(E){case"OTEL_LOG_LEVEL":c(E,m,v);break;default:if(a(E))s(E,m,v);else if(n(E))l(E,m,v);else{let T=v[E];typeof T<"u"&&T!==null&&(m[E]=String(T))}}}return m}e.parseEnvironment=p}),Hp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var i=require("os"),t=Jc();function r(){let u=t.parseEnvironment(process.env);return Object.assign({HOSTNAME:i.hostname()},t.DEFAULT_ENVIRONMENT,u)}e.getEnv=r}),qp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0;function i(t){let r=t.length,u="";for(let a=0;a<r;a+=2){let o=t.substring(a,a+2),n=parseInt(o,16);u+=String.fromCharCode(n)}return Buffer.from(u,"ascii").toString("base64")}e.hexToBase64=i}),Bp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0;var i=8,t=16,r=class{constructor(){this.generateTraceId=a(t),this.generateSpanId=a(i)}};e.RandomIdGenerator=r;var u=Buffer.allocUnsafe(t);function a(o){return function(){for(let n=0;n<o/4;n++)u.writeUInt32BE(Math.random()*2**32>>>0,n*4);for(let n=0;n<o&&!(u[n]>0);n++)n===o-1&&(u[o-1]=1);return u.toString("hex",0,o)}}}),Gp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var i=require("perf_hooks");e.otperformance=i.performance}),Ua=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"}),Vp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var i;(function(c){c.OTHER_SQL="other_sql",c.MSSQL="mssql",c.MYSQL="mysql",c.ORACLE="oracle",c.DB2="db2",c.POSTGRESQL="postgresql",c.REDSHIFT="redshift",c.HIVE="hive",c.CLOUDSCAPE="cloudscape",c.HSQLDB="hsqldb",c.PROGRESS="progress",c.MAXDB="maxdb",c.HANADB="hanadb",c.INGRES="ingres",c.FIRSTSQL="firstsql",c.EDB="edb",c.CACHE="cache",c.ADABAS="adabas",c.FIREBIRD="firebird",c.DERBY="derby",c.FILEMAKER="filemaker",c.INFORMIX="informix",c.INSTANTDB="instantdb",c.INTERBASE="interbase",c.MARIADB="mariadb",c.NETEZZA="netezza",c.PERVASIVE="pervasive",c.POINTBASE="pointbase",c.SQLITE="sqlite",c.SYBASE="sybase",c.TERADATA="teradata",c.VERTICA="vertica",c.H2="h2",c.COLDFUSION="coldfusion",c.CASSANDRA="cassandra",c.HBASE="hbase",c.MONGODB="mongodb",c.REDIS="redis",c.COUCHBASE="couchbase",c.COUCHDB="couchdb",c.COSMOSDB="cosmosdb",c.DYNAMODB="dynamodb",c.NEO4J="neo4j",c.GEODE="geode",c.ELASTICSEARCH="elasticsearch",c.MEMCACHED="memcached",c.COCKROACHDB="cockroachdb"})(i=e.DbSystemValues||(e.DbSystemValues={}));var t;(function(c){c.ALL="all",c.EACH_QUORUM="each_quorum",c.QUORUM="quorum",c.LOCAL_QUORUM="local_quorum",c.ONE="one",c.TWO="two",c.THREE="three",c.LOCAL_ONE="local_one",c.ANY="any",c.SERIAL="serial",c.LOCAL_SERIAL="local_serial"})(t=e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={}));var r;(function(c){c.DATASOURCE="datasource",c.HTTP="http",c.PUBSUB="pubsub",c.TIMER="timer",c.OTHER="other"})(r=e.FaasTriggerValues||(e.FaasTriggerValues={}));var u;(function(c){c.INSERT="insert",c.EDIT="edit",c.DELETE="delete"})(u=e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={}));var a;(function(c){c.AWS="aws",c.AZURE="azure",c.GCP="gcp"})(a=e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={}));var o;(function(c){c.IP_TCP="ip_tcp",c.IP_UDP="ip_udp",c.IP="ip",c.UNIX="unix",c.PIPE="pipe",c.INPROC="inproc",c.OTHER="other"})(o=e.NetTransportValues||(e.NetTransportValues={}));var n;(function(c){c.HTTP_1_0="1.0",c.HTTP_1_1="1.1",c.HTTP_2_0="2.0",c.SPDY="SPDY",c.QUIC="QUIC"})(n=e.HttpFlavorValues||(e.HttpFlavorValues={}));var s;(function(c){c.QUEUE="queue",c.TOPIC="topic"})(s=e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={}));var l;(function(c){c.RECEIVE="receive",c.PROCESS="process"})(l=e.MessagingOperationValues||(e.MessagingOperationValues={}));var d;(function(c){c[c.OK=0]="OK",c[c.CANCELLED=1]="CANCELLED",c[c.UNKNOWN=2]="UNKNOWN",c[c.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",c[c.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",c[c.NOT_FOUND=5]="NOT_FOUND",c[c.ALREADY_EXISTS=6]="ALREADY_EXISTS",c[c.PERMISSION_DENIED=7]="PERMISSION_DENIED",c[c.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",c[c.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",c[c.ABORTED=10]="ABORTED",c[c.OUT_OF_RANGE=11]="OUT_OF_RANGE",c[c.UNIMPLEMENTED=12]="UNIMPLEMENTED",c[c.INTERNAL=13]="INTERNAL",c[c.UNAVAILABLE=14]="UNAVAILABLE",c[c.DATA_LOSS=15]="DATA_LOSS",c[c.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(d=e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))}),zp=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Vp(),e)}),Wp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var i;(function(n){n.AWS="aws",n.AZURE="azure",n.GCP="gcp"})(i=e.CloudProviderValues||(e.CloudProviderValues={}));var t;(function(n){n.AWS_EC2="aws_ec2",n.AWS_ECS="aws_ecs",n.AWS_EKS="aws_eks",n.AWS_LAMBDA="aws_lambda",n.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",n.AZURE_VM="azure_vm",n.AZURE_CONTAINER_INSTANCES="azure_container_instances",n.AZURE_AKS="azure_aks",n.AZURE_FUNCTIONS="azure_functions",n.AZURE_APP_SERVICE="azure_app_service",n.GCP_COMPUTE_ENGINE="gcp_compute_engine",n.GCP_CLOUD_RUN="gcp_cloud_run",n.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",n.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",n.GCP_APP_ENGINE="gcp_app_engine"})(t=e.CloudPlatformValues||(e.CloudPlatformValues={}));var r;(function(n){n.EC2="ec2",n.FARGATE="fargate"})(r=e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={}));var u;(function(n){n.AMD64="amd64",n.ARM32="arm32",n.ARM64="arm64",n.IA64="ia64",n.PPC32="ppc32",n.PPC64="ppc64",n.X86="x86"})(u=e.HostArchValues||(e.HostArchValues={}));var a;(function(n){n.WINDOWS="windows",n.LINUX="linux",n.DARWIN="darwin",n.FREEBSD="freebsd",n.NETBSD="netbsd",n.OPENBSD="openbsd",n.DRAGONFLYBSD="dragonflybsd",n.HPUX="hpux",n.AIX="aix",n.SOLARIS="solaris",n.Z_OS="z_os"})(a=e.OsTypeValues||(e.OsTypeValues={}));var o;(function(n){n.CPP="cpp",n.DOTNET="dotnet",n.ERLANG="erlang",n.GO="go",n.JAVA="java",n.NODEJS="nodejs",n.PHP="php",n.PYTHON="python",n.RUBY="ruby",n.WEBJS="webjs"})(o=e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))}),$p=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Wp(),e)}),_i=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(zp(),e),t($p(),e)}),Kp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var i=Ua(),t=_i();e.SDK_INFO={[t.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[t.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:t.TelemetrySdkLanguageValues.NODEJS,[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:i.VERSION}}),Xp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0;function i(t){t.unref()}e.unrefTimer=i}),Qp=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Hp(),e),t(qp(),e),t(Bp(),e),t(Gp(),e),t(Kp(),e),t(Xp(),e)}),el=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Qp(),e)}),Yp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var i=el(),t=9,r=Math.pow(10,t);function u(g){let E=g/1e3,T=Math.trunc(E),O=Number((E-T).toFixed(t))*r;return[T,O]}function a(){let g=i.otperformance.timeOrigin;if(typeof g!="number"){let E=i.otperformance;g=E.timing&&E.timing.fetchStart}return g}function o(g){let E=u(a()),T=u(typeof g=="number"?g:i.otperformance.now()),O=E[0]+T[0],P=E[1]+T[1];return P>r&&(P-=r,O+=1),[O,P]}e.hrTime=o;function n(g){if(v(g))return g;if(typeof g=="number")return g<a()?o(g):u(g);if(g instanceof Date)return u(g.getTime());throw TypeError("Invalid input type")}e.timeInputToHrTime=n;function s(g,E){let T=E[0]-g[0],O=E[1]-g[1];return O<0&&(T-=1,O+=r),[T,O]}e.hrTimeDuration=s;function l(g){let E=t,T=`${"0".repeat(E)}${g[1]}Z`,O=T.substr(T.length-E-1);return new Date(g[0]*1e3).toISOString().replace("000Z",O)}e.hrTimeToTimeStamp=l;function d(g){return g[0]*r+g[1]}e.hrTimeToNanoseconds=d;function c(g){return Math.round(g[0]*1e3+g[1]/1e6)}e.hrTimeToMilliseconds=c;function p(g){return Math.round(g[0]*1e6+g[1]/1e3)}e.hrTimeToMicroseconds=p;function v(g){return Array.isArray(g)&&g.length===2&&typeof g[0]=="number"&&typeof g[1]=="number"}e.isTimeInputHrTime=v;function m(g){return v(g)||typeof g=="number"||g instanceof Date}e.isTimeInput=m}),Zp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Jp=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0;var i;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(i=e.ExportResultCode||(e.ExportResultCode={}))}),eh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var i=tr(),t=class{constructor(r={}){var u;this._propagators=(u=r.propagators)!==null&&u!==void 0?u:[],this._fields=Array.from(new Set(this._propagators.map(a=>typeof a.fields=="function"?a.fields():[]).reduce((a,o)=>a.concat(o),[])))}inject(r,u,a){for(let o of this._propagators)try{o.inject(r,u,a)}catch(n){i.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${n.message}`)}}extract(r,u,a){return this._propagators.reduce((o,n)=>{try{return n.extract(o,u,a)}catch(s){i.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${s.message}`)}return o},r)}fields(){return this._fields.slice()}};e.CompositePropagator=t}),th=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var i="[_0-9a-z-*/]",t=`[a-z]${i}{0,255}`,r=`[a-z0-9]${i}{0,240}@[a-z]${i}{0,13}`,u=new RegExp(`^(?:${t}|${r})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;function n(l){return u.test(l)}e.validateKey=n;function s(l){return a.test(l)&&!o.test(l)}e.validateValue=s}),tl=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var i=th(),t=32,r=512,u=",",a="=",o=class{constructor(n){this._internalState=new Map,n&&this._parse(n)}set(n,s){let l=this._clone();return l._internalState.has(n)&&l._internalState.delete(n),l._internalState.set(n,s),l}unset(n){let s=this._clone();return s._internalState.delete(n),s}get(n){return this._internalState.get(n)}serialize(){return this._keys().reduce((n,s)=>(n.push(s+a+this.get(s)),n),[]).join(u)}_parse(n){n.length>r||(this._internalState=n.split(u).reverse().reduce((s,l)=>{let d=l.trim(),c=d.indexOf(a);if(c!==-1){let p=d.slice(0,c),v=d.slice(c+1,l.length);i.validateKey(p)&&i.validateValue(v)&&s.set(p,v)}return s},new Map),this._internalState.size>t&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,t))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let n=new o;return n._internalState=new Map(this._internalState),n}};e.TraceState=o}),rh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var i=tr(),t=Va(),r=tl();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var u="00",a="(?!ff)[\\da-f]{2}",o="(?![0]{32})[\\da-f]{32}",n="(?![0]{16})[\\da-f]{16}",s="[\\da-f]{2}",l=new RegExp(`^\\s?(${a})-(${o})-(${n})-(${s})(-.*)?\\s?$`);function d(p){let v=l.exec(p);return!v||v[1]==="00"&&v[5]?null:{traceId:v[2],spanId:v[3],traceFlags:parseInt(v[4],16)}}e.parseTraceParent=d;var c=class{inject(p,v,m){let g=i.trace.getSpanContext(p);if(!g||t.isTracingSuppressed(p)||!i.isSpanContextValid(g))return;let E=`${u}-${g.traceId}-${g.spanId}-0${Number(g.traceFlags||i.TraceFlags.NONE).toString(16)}`;m.set(v,e.TRACE_PARENT_HEADER,E),g.traceState&&m.set(v,e.TRACE_STATE_HEADER,g.traceState.serialize())}extract(p,v,m){let g=m.get(v,e.TRACE_PARENT_HEADER);if(!g)return p;let E=Array.isArray(g)?g[0]:g;if(typeof E!="string")return p;let T=d(E);if(!T)return p;T.isRemote=!0;let O=m.get(v,e.TRACE_STATE_HEADER);if(O){let P=Array.isArray(O)?O.join(","):O;T.traceState=new r.TraceState(typeof P=="string"?P:void 0)}return i.trace.setSpanContext(p,T)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}};e.HttpTraceContextPropagator=c}),nh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),ih=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var i=tr(),t=i.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),r;(function(n){n.HTTP="http"})(r=e.RPCType||(e.RPCType={}));function u(n,s){return n.setValue(t,s)}e.setRPCMetadata=u;function a(n){return n.deleteValue(t)}e.deleteRPCMetadata=a;function o(n){return n.getValue(t)}e.getRPCMetadata=o}),rl=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var i=tr(),t=class{shouldSample(){return{decision:i.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};e.AlwaysOffSampler=t}),nl=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var i=tr(),t=class{shouldSample(){return{decision:i.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e.AlwaysOnSampler=t}),oh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var i=tr(),t=Yc(),r=rl(),u=nl(),a=class{constructor(o){var n,s,l,d;this._root=o.root,this._root||(t.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new u.AlwaysOnSampler),this._remoteParentSampled=(n=o.remoteParentSampled)!==null&&n!==void 0?n:new u.AlwaysOnSampler,this._remoteParentNotSampled=(s=o.remoteParentNotSampled)!==null&&s!==void 0?s:new r.AlwaysOffSampler,this._localParentSampled=(l=o.localParentSampled)!==null&&l!==void 0?l:new u.AlwaysOnSampler,this._localParentNotSampled=(d=o.localParentNotSampled)!==null&&d!==void 0?d:new r.AlwaysOffSampler}shouldSample(o,n,s,l,d,c){let p=i.trace.getSpanContext(o);return!p||!i.isSpanContextValid(p)?this._root.shouldSample(o,n,s,l,d,c):p.isRemote?p.traceFlags&i.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(o,n,s,l,d,c):this._remoteParentNotSampled.shouldSample(o,n,s,l,d,c):p.traceFlags&i.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(o,n,s,l,d,c):this._localParentNotSampled.shouldSample(o,n,s,l,d,c)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};e.ParentBasedSampler=a}),ah=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var i=tr(),t=class{constructor(r=0){this._ratio=r,this._ratio=this._normalize(r),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(r,u){return{decision:i.isValidTraceId(u)&&this._accumulate(u)<this._upperBound?i.SamplingDecision.RECORD_AND_SAMPLED:i.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(r){return typeof r!="number"||isNaN(r)?0:r>=1?1:r<=0?0:r}_accumulate(r){let u=0;for(let a=0;a<r.length/8;a++){let o=a*8,n=parseInt(r.slice(o,o+8),16);u=(u^n)>>>0}return u}};e.TraceIdRatioBasedSampler=t}),sh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0;function i(r,u){return typeof u=="string"?r===u:u.test(r)}e.urlMatches=i;function t(r,u){if(!u)return!1;for(let a of u)if(i(r,a))return!0;return!1}e.isUrlIgnored=t}),uh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0;function i(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}e.isWrapped=i}),Qr=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,t(Fp(),e),t(Up(),e),t(Yc(),e),t(Qc(),e),t(Yp(),e),t(Zp(),e),t(Jp(),e),t(Ua(),e),e.baggageUtils=Xc(),t(el(),e),t(eh(),e),t(rh(),e),t(nh(),e),t(ih(),e),t(rl(),e),t(nl(),e),t(oh(),e),t(ah(),e),t(Va(),e),t(tl(),e),t(Jc(),e),t(Zc(),e),t(sh(),e),t(uh(),e),t(Ua(),e)}),ch=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"}),il=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var i=tr(),t=Qr(),r=_i(),u=ch(),a=class{constructor(o,n,s,l,d,c,p=[],v=t.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:i.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=s,this._spanContext=l,this.parentSpanId=c,this.kind=d,this.links=p,this.startTime=t.timeInputToHrTime(v),this.resource=o.resource,this.instrumentationLibrary=o.instrumentationLibrary,this._spanLimits=o.getSpanLimits(),this._spanProcessor=o.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n)}spanContext(){return this._spanContext}setAttribute(o,n){return n==null||this._isSpanEnded()?this:o.length===0?(i.diag.warn(`Invalid attribute key: ${o}`),this):t.isAttributeValue(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,o)?this:(this.attributes[o]=n,this):(i.diag.warn(`Invalid attribute value set for key: ${o}`),this)}setAttributes(o){for(let[n,s]of Object.entries(o))this.setAttribute(n,s);return this}addEvent(o,n,s){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(i.diag.warn("Dropping extra events."),this.events.shift()),t.isTimeInput(n)&&(typeof s>"u"&&(s=n),n=void 0),typeof s>"u"&&(s=t.hrTime()),this.events.push({name:o,attributes:n,time:t.timeInputToHrTime(s)}),this)}setStatus(o){return this._isSpanEnded()?this:(this.status=o,this)}updateName(o){return this._isSpanEnded()?this:(this.name=o,this)}end(o=t.hrTime()){if(this._isSpanEnded()){i.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=t.timeInputToHrTime(o),this._duration=t.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&i.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(o,n=t.hrTime()){let s={};typeof o=="string"?s[r.SemanticAttributes.EXCEPTION_MESSAGE]=o:o&&(o.code?s[r.SemanticAttributes.EXCEPTION_TYPE]=o.code.toString():o.name&&(s[r.SemanticAttributes.EXCEPTION_TYPE]=o.name),o.message&&(s[r.SemanticAttributes.EXCEPTION_MESSAGE]=o.message),o.stack&&(s[r.SemanticAttributes.EXCEPTION_STACKTRACE]=o.stack)),s[r.SemanticAttributes.EXCEPTION_TYPE]||s[r.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(u.ExceptionEventName,s,n):i.diag.warn(`Failed to record an exception ${o}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&i.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};e.Span=a}),ol=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var i=tr(),t=Qr(),r=t.getEnv(),u=t.TracesSamplerValues.AlwaysOn;e.DEFAULT_CONFIG={sampler:a(r),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:t.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:t.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:t.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function a(s=t.getEnv()){switch(s.OTEL_TRACES_SAMPLER){case t.TracesSamplerValues.AlwaysOn:return new t.AlwaysOnSampler;case t.TracesSamplerValues.AlwaysOff:return new t.AlwaysOffSampler;case t.TracesSamplerValues.ParentBasedAlwaysOn:return new t.ParentBasedSampler({root:new t.AlwaysOnSampler});case t.TracesSamplerValues.ParentBasedAlwaysOff:return new t.ParentBasedSampler({root:new t.AlwaysOffSampler});case t.TracesSamplerValues.TraceIdRatio:return new t.TraceIdRatioBasedSampler(n(s));case t.TracesSamplerValues.ParentBasedTraceIdRatio:return new t.ParentBasedSampler({root:new t.TraceIdRatioBasedSampler(n(s))});default:return i.diag.error(`OTEL_TRACES_SAMPLER value "${s.OTEL_TRACES_SAMPLER} invalid, defaulting to ${u}".`),new t.AlwaysOnSampler}}e.buildSamplerFromEnv=a;var o=1;function n(s){if(s.OTEL_TRACES_SAMPLER_ARG===void 0||s.OTEL_TRACES_SAMPLER_ARG==="")return i.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${o}.`),o;let l=Number(s.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(i.diag.error(`OTEL_TRACES_SAMPLER_ARG=${s.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${o}.`),o):l<0||l>1?(i.diag.error(`OTEL_TRACES_SAMPLER_ARG=${s.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${o}.`),o):l}}),lh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var i=ol();function t(r){let u={sampler:i.buildSamplerFromEnv()},a=Object.assign({},i.DEFAULT_CONFIG,u,r);return a.spanLimits=Object.assign({},i.DEFAULT_CONFIG.spanLimits,r.spanLimits||{}),a}e.mergeConfig=t}),dh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var i=tr(),t=Qr(),r=il(),u=lh(),a=class{constructor(n,s,l){this._tracerProvider=l;let d=u.mergeConfig(s);this._sampler=d.sampler,this._spanLimits=d.spanLimits,this._idGenerator=s.idGenerator||new t.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=n}startSpan(n,s={},l=i.context.active()){var d,c;if(t.isTracingSuppressed(l))return i.diag.debug("Instrumentation suppressed, returning Noop Span"),i.trace.wrapSpanContext(i.INVALID_SPAN_CONTEXT);let p=o(s,l),v=this._idGenerator.generateSpanId(),m,g,E;!p||!i.trace.isSpanContextValid(p)?m=this._idGenerator.generateTraceId():(m=p.traceId,g=p.traceState,E=p.spanId);let T=(d=s.kind)!==null&&d!==void 0?d:i.SpanKind.INTERNAL,O=(c=s.links)!==null&&c!==void 0?c:[],P=t.sanitizeAttributes(s.attributes),A=this._sampler.shouldSample(s.root?i.trace.setSpanContext(l,i.INVALID_SPAN_CONTEXT):l,m,n,T,P,O),M=A.decision===i.SamplingDecision.RECORD_AND_SAMPLED?i.TraceFlags.SAMPLED:i.TraceFlags.NONE,j={traceId:m,spanId:v,traceFlags:M,traceState:g};if(A.decision===i.SamplingDecision.NOT_RECORD)return i.diag.debug("Recording is off, propagating context in a non-recording span"),i.trace.wrapSpanContext(j);let G=new r.Span(this,l,n,j,T,E,O,s.startTime);return G.setAttributes(Object.assign(P,A.attributes)),G}startActiveSpan(n,s,l,d){let c,p,v;if(arguments.length<2)return;arguments.length===2?v=s:arguments.length===3?(c=s,v=l):(c=s,p=l,v=d);let m=p??i.context.active(),g=this.startSpan(n,c,m),E=i.trace.setSpan(m,g);return i.context.with(E,v,void 0,g)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};e.Tracer=a;function o(n,s){if(!n.root)return i.trace.getSpanContext(s)}}),fh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0;function i(){return`unknown_service:${process.argv0}`}e.defaultServiceName=i}),ph=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var i=sl(),t=tr(),r=require("util"),u=async(o={})=>{let n=Object.assign(o),s=await Promise.all((n.detectors||[]).map(async l=>{try{let d=await l.detect(n);return t.diag.debug(`${l.constructor.name} found resource.`,d),d}catch(d){return t.diag.debug(`${l.constructor.name} failed: ${d.message}`),i.Resource.empty()}}));return a(s),s.reduce((l,d)=>l.merge(d),i.Resource.empty())};e.detectResources=u;var a=o=>{o.forEach(n=>{if(Object.keys(n.attributes).length>0){let s=r.inspect(n.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});t.diag.verbose(s)}})}}),hh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var i=tr(),t=Qr(),r=_i(),u=za(),a=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(o){let n={},s=t.getEnv(),l=s.OTEL_RESOURCE_ATTRIBUTES,d=s.OTEL_SERVICE_NAME;if(l)try{let c=this._parseResourceAttributes(l);Object.assign(n,c)}catch(c){i.diag.debug(`EnvDetector failed: ${c.message}`)}return d&&(n[r.ResourceAttributes.SERVICE_NAME]=d),new u.Resource(n)}_parseResourceAttributes(o){if(!o)return{};let n={},s=o.split(this._COMMA_SEPARATOR,-1);for(let l of s){let d=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(d.length!==2)continue;let[c,p]=d;if(c=c.trim(),p=p.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(c))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(p))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);n[c]=p}return n}_isValid(o){return o.length<=this._MAX_LENGTH&&this._isPrintableString(o)}_isPrintableString(o){for(let n=0;n<o.length;n++){let s=o.charAt(n);if(s<=" "||s>="~")return!1}return!0}_isValidAndNotEmpty(o){return o.length>0&&this._isValid(o)}};e.envDetector=new a}),vh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var i=tr(),t=_i(),r=za(),u=class{async detect(a){let o={[t.ResourceAttributes.PROCESS_PID]:process.pid,[t.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[t.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[t.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(o,a)}_getResourceAttributes(a,o){return a[t.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||a[t.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||a[t.ResourceAttributes.PROCESS_COMMAND]===""||a[t.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(i.diag.debug("ProcessDetector failed: Unable to find required process resources. "),r.Resource.empty()):new r.Resource(Object.assign({},a))}};e.processDetector=new u}),mh=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(hh(),e),t(vh(),e)}),gh=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(fh(),e),t(ph(),e),t(mh(),e)}),al=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(gh(),e)}),sl=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var i=_i(),t=Qr(),r=al(),u=class{constructor(a){this.attributes=a}static empty(){return u.EMPTY}static default(){return new u({[i.ResourceAttributes.SERVICE_NAME]:r.defaultServiceName(),[i.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:t.SDK_INFO[i.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[i.ResourceAttributes.TELEMETRY_SDK_NAME]:t.SDK_INFO[i.ResourceAttributes.TELEMETRY_SDK_NAME],[i.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.SDK_INFO[i.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(a){if(!a||!Object.keys(a.attributes).length)return this;let o=Object.assign({},this.attributes,a.attributes);return new u(o)}};e.Resource=u,u.EMPTY=new u({})}),_h=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),yh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),za=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(sl(),e),t(al(),e),t(_h(),e),t(yh(),e)}),Eh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var i=Qr(),t=class{constructor(r){this._spanProcessors=r}forceFlush(){let r=[];for(let u of this._spanProcessors)r.push(u.forceFlush());return new Promise(u=>{Promise.all(r).then(()=>{u()}).catch(a=>{i.globalErrorHandler(a||new Error("MultiSpanProcessor: forceFlush failed")),u()})})}onStart(r,u){for(let a of this._spanProcessors)a.onStart(r,u)}onEnd(r){for(let u of this._spanProcessors)u.onEnd(r)}shutdown(){let r=[];for(let u of this._spanProcessors)r.push(u.shutdown());return new Promise((u,a)=>{Promise.all(r).then(()=>{u()},a)})}};e.MultiSpanProcessor=t}),ul=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0;var i=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};e.NoopSpanProcessor=i}),bh=x((e,i)=>{var t=200,r="__lodash_hash_undefined__",u=800,a=16,o=9007199254740991,n="[object Arguments]",s="[object Array]",l="[object AsyncFunction]",d="[object Boolean]",c="[object Date]",p="[object Error]",v="[object Function]",m="[object GeneratorFunction]",g="[object Map]",E="[object Number]",T="[object Null]",O="[object Object]",P="[object Proxy]",A="[object RegExp]",M="[object Set]",j="[object String]",G="[object Undefined]",B="[object WeakMap]",Y="[object ArrayBuffer]",ne="[object DataView]",ye="[object Float32Array]",Re="[object Float64Array]",ut="[object Int8Array]",ot="[object Int16Array]",xt="[object Int32Array]",st="[object Uint8Array]",oe="[object Uint8ClampedArray]",ge="[object Uint16Array]",le="[object Uint32Array]",Ue=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,se={};se[ye]=se[Re]=se[ut]=se[ot]=se[xt]=se[st]=se[oe]=se[ge]=se[le]=!0,se[n]=se[s]=se[Y]=se[d]=se[ne]=se[c]=se[p]=se[v]=se[g]=se[E]=se[O]=se[A]=se[M]=se[j]=se[B]=!1;var We=typeof global=="object"&&global&&global.Object===Object&&global,rt=typeof self=="object"&&self&&self.Object===Object&&self,$=We||rt||Function("return this")(),ee=typeof e=="object"&&e&&!e.nodeType&&e,re=ee&&typeof i=="object"&&i&&!i.nodeType&&i,ve=re&&re.exports===ee,Ve=ve&&We.process,Ae=function(){try{var D=re&&re.require&&re.require("util").types;return D||Ve&&Ve.binding&&Ve.binding("util")}catch{}}(),Ne=Ae&&Ae.isTypedArray;function Qe(D,F,z){switch(z.length){case 0:return D.call(F);case 1:return D.call(F,z[0]);case 2:return D.call(F,z[0],z[1]);case 3:return D.call(F,z[0],z[1],z[2])}return D.apply(F,z)}function Ot(D,F){for(var z=-1,tt=Array(D);++z<D;)tt[z]=F(z);return tt}function Er(D){return function(F){return D(F)}}function hr(D,F){return D?.[F]}function ue(D,F){return function(z){return D(F(z))}}var br=Array.prototype,nr=Function.prototype,Wt=Object.prototype,Ht=$["__core-js_shared__"],ar=nr.toString,ir=Wt.hasOwnProperty,Sr=function(){var D=/[^.]+$/.exec(Ht&&Ht.keys&&Ht.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),ie=Wt.toString,K=ar.call(Object),xe=RegExp("^"+ar.call(ir).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=ve?$.Buffer:void 0,vt=$.Symbol,Ke=$.Uint8Array,He=Te?Te.allocUnsafe:void 0,$e=ue(Object.getPrototypeOf,Object),Tt=Object.create,It=Wt.propertyIsEnumerable,Oe=br.splice,Ye=vt?vt.toStringTag:void 0,ae=function(){try{var D=xr(Object,"defineProperty");return D({},"",{}),D}catch{}}(),we=Te?Te.isBuffer:void 0,Le=Math.max,he=Date.now,ct=xr($,"Map"),qt=xr(Object,"create"),Ze=function(){function D(){}return function(F){if(!de(F))return{};if(Tt)return Tt(F);D.prototype=F;var z=new D;return D.prototype=void 0,z}}();function Kt(D){var F=-1,z=D==null?0:D.length;for(this.clear();++F<z;){var tt=D[F];this.set(tt[0],tt[1])}}function vr(){this.__data__=qt?qt(null):{},this.size=0}function Tr(D){var F=this.has(D)&&delete this.__data__[D];return this.size-=F?1:0,F}function Me(D){var F=this.__data__;if(qt){var z=F[D];return z===r?void 0:z}return ir.call(F,D)?F[D]:void 0}function je(D){var F=this.__data__;return qt?F[D]!==void 0:ir.call(F,D)}function Se(D,F){var z=this.__data__;return this.size+=this.has(D)?0:1,z[D]=qt&&F===void 0?r:F,this}Kt.prototype.clear=vr,Kt.prototype.delete=Tr,Kt.prototype.get=Me,Kt.prototype.has=je,Kt.prototype.set=Se;function Z(D){var F=-1,z=D==null?0:D.length;for(this.clear();++F<z;){var tt=D[F];this.set(tt[0],tt[1])}}function et(){this.__data__=[],this.size=0}function ze(D){var F=this.__data__,z=Q(F,D);if(z<0)return!1;var tt=F.length-1;return z==tt?F.pop():Oe.call(F,z,1),--this.size,!0}function pe(D){var F=this.__data__,z=Q(F,D);return z<0?void 0:F[z][1]}function mt(D){return Q(this.__data__,D)>-1}function bt(D,F){var z=this.__data__,tt=Q(z,D);return tt<0?(++this.size,z.push([D,F])):z[tt][1]=F,this}Z.prototype.clear=et,Z.prototype.delete=ze,Z.prototype.get=pe,Z.prototype.has=mt,Z.prototype.set=bt;function Ct(D){var F=-1,z=D==null?0:D.length;for(this.clear();++F<z;){var tt=D[F];this.set(tt[0],tt[1])}}function Vt(){this.size=0,this.__data__={hash:new Kt,map:new(ct||Z),string:new Kt}}function $t(D){var F=Ir(this,D).delete(D);return this.size-=F?1:0,F}function Ft(D){return Ir(this,D).get(D)}function nt(D){return Ir(this,D).has(D)}function Rt(D,F){var z=Ir(this,D),tt=z.size;return z.set(D,F),this.size+=z.size==tt?0:1,this}Ct.prototype.clear=Vt,Ct.prototype.delete=$t,Ct.prototype.get=Ft,Ct.prototype.has=nt,Ct.prototype.set=Rt;function lt(D){var F=this.__data__=new Z(D);this.size=F.size}function gt(){this.__data__=new Z,this.size=0}function f(D){var F=this.__data__,z=F.delete(D);return this.size=F.size,z}function _(D){return this.__data__.get(D)}function S(D){return this.__data__.has(D)}function C(D,F){var z=this.__data__;if(z instanceof Z){var tt=z.__data__;if(!ct||tt.length<t-1)return tt.push([D,F]),this.size=++z.size,this;z=this.__data__=new Ct(tt)}return z.set(D,F),this.size=z.size,this}lt.prototype.clear=gt,lt.prototype.delete=f,lt.prototype.get=_,lt.prototype.has=S,lt.prototype.set=C;function R(D,F){var z=_t(D),tt=!z&&wt(D),Lt=!z&&!tt&&Je(D),zt=!z&&!tt&&!Lt&&ht(D),Qt=z||tt||Lt||zt,jt=Qt?Ot(D.length,String):[],Yt=jt.length;for(var Lr in D)(F||ir.call(D,Lr))&&!(Qt&&(Lr=="length"||Lt&&(Lr=="offset"||Lr=="parent")||zt&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||Br(Lr,Yt)))&&jt.push(Lr);return jt}function k(D,F,z){(z!==void 0&&!Xe(D[F],z)||z===void 0&&!(F in D))&&te(D,F,z)}function L(D,F,z){var tt=D[F];(!(ir.call(D,F)&&Xe(tt,z))||z===void 0&&!(F in D))&&te(D,F,z)}function Q(D,F){for(var z=D.length;z--;)if(Xe(D[z][0],F))return z;return-1}function te(D,F,z){F=="__proto__"&&ae?ae(D,F,{configurable:!0,enumerable:!0,value:z,writable:!0}):D[F]=z}var Fe=Dr();function dt(D){return D==null?D===void 0?G:T:Ye&&Ye in Object(D)?wr(D):Or(D)}function qe(D){return Ce(D)&&dt(D)==n}function it(D){if(!de(D)||on(D))return!1;var F=q(D)?xe:X;return F.test(Pe(D))}function pt(D){return Ce(D)&&ce(D.length)&&!!se[dt(D)]}function St(D){if(!de(D))return Mr(D);var F=Kr(D),z=[];for(var tt in D)tt=="constructor"&&(F||!ir.call(D,tt))||z.push(tt);return z}function Ut(D,F,z,tt,Lt){D!==F&&Fe(F,function(zt,Qt){if(Lt||(Lt=new lt),de(zt))Hr(D,F,Qt,z,Ut,tt,Lt);else{var jt=tt?tt(H(D,Qt),zt,Qt+"",D,F,Lt):void 0;jt===void 0&&(jt=zt),k(D,Qt,jt)}},er)}function Hr(D,F,z,tt,Lt,zt,Qt){var jt=H(D,z),Yt=H(F,z),Lr=Qt.get(Yt);if(Lr){k(D,z,Lr);return}var Pr=zt?zt(jt,Yt,z+"",D,F,Qt):void 0,On=Pr===void 0;if(On){var Ln=_t(Yt),ei=!Ln&&Je(Yt),Ri=!Ln&&!ei&&ht(Yt);Pr=Yt,Ln||ei||Ri?_t(jt)?Pr=jt:At(jt)?Pr=or(jt):ei?(On=!1,Pr=zr(Yt,!0)):Ri?(On=!1,Pr=rn(Yt,!0)):Pr=[]:ft(Yt)||wt(Yt)?(Pr=jt,wt(jt)?Pr=Xt(jt):(!de(jt)||q(jt))&&(Pr=$r(Yt))):On=!1}On&&(Qt.set(Yt,Pr),Lt(Pr,Yt,tt,zt,Qt),Qt.delete(Yt)),k(D,z,Pr)}function dr(D,F){return me(an(D,F,dn),D+"")}var mr=ae?function(D,F){return ae(D,"toString",{configurable:!0,enumerable:!1,value:kr(F),writable:!0})}:dn;function zr(D,F){if(F)return D.slice();var z=D.length,tt=He?He(z):new D.constructor(z);return D.copy(tt),tt}function qr(D){var F=new D.constructor(D.byteLength);return new Ke(F).set(new Ke(D)),F}function rn(D,F){var z=F?qr(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.length)}function or(D,F){var z=-1,tt=D.length;for(F||(F=Array(tt));++z<tt;)F[z]=D[z];return F}function Rr(D,F,z,tt){var Lt=!z;z||(z={});for(var zt=-1,Qt=F.length;++zt<Qt;){var jt=F[zt],Yt=tt?tt(z[jt],D[jt],jt,z,D):void 0;Yt===void 0&&(Yt=D[jt]),Lt?te(z,jt,Yt):L(z,jt,Yt)}return z}function Wr(D){return dr(function(F,z){var tt=-1,Lt=z.length,zt=Lt>1?z[Lt-1]:void 0,Qt=Lt>2?z[2]:void 0;for(zt=D.length>3&&typeof zt=="function"?(Lt--,zt):void 0,Qt&&nn(z[0],z[1],Qt)&&(zt=Lt<3?void 0:zt,Lt=1),F=Object(F);++tt<Lt;){var jt=z[tt];jt&&D(F,jt,tt,zt)}return F})}function Dr(D){return function(F,z,tt){for(var Lt=-1,zt=Object(F),Qt=tt(F),jt=Qt.length;jt--;){var Yt=Qt[D?jt:++Lt];if(z(zt[Yt],Yt,zt)===!1)break}return F}}function Ir(D,F){var z=D.__data__;return Nr(F)?z[typeof F=="string"?"string":"hash"]:z.map}function xr(D,F){var z=hr(D,F);return it(z)?z:void 0}function wr(D){var F=ir.call(D,Ye),z=D[Ye];try{D[Ye]=void 0;var tt=!0}catch{}var Lt=ie.call(D);return tt&&(F?D[Ye]=z:delete D[Ye]),Lt}function $r(D){return typeof D.constructor=="function"&&!Kr(D)?Ze($e(D)):{}}function Br(D,F){var z=typeof D;return F=F??o,!!F&&(z=="number"||z!="symbol"&&Ee.test(D))&&D>-1&&D%1==0&&D<F}function nn(D,F,z){if(!de(z))return!1;var tt=typeof F;return(tt=="number"?Pt(z)&&Br(F,z.length):tt=="string"&&F in z)?Xe(z[F],D):!1}function Nr(D){var F=typeof D;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?D!=="__proto__":D===null}function on(D){return!!Sr&&Sr in D}function Kr(D){var F=D&&D.constructor,z=typeof F=="function"&&F.prototype||Wt;return D===z}function Mr(D){var F=[];if(D!=null)for(var z in Object(D))F.push(z);return F}function Or(D){return ie.call(D)}function an(D,F,z){return F=Le(F===void 0?D.length-1:F,0),function(){for(var tt=arguments,Lt=-1,zt=Le(tt.length-F,0),Qt=Array(zt);++Lt<zt;)Qt[Lt]=tt[F+Lt];Lt=-1;for(var jt=Array(F+1);++Lt<F;)jt[Lt]=tt[Lt];return jt[F]=z(Qt),Qe(D,this,jt)}}function H(D,F){if(!(F==="constructor"&&typeof D[F]=="function")&&F!="__proto__")return D[F]}var me=_e(mr);function _e(D){var F=0,z=0;return function(){var tt=he(),Lt=a-(tt-z);if(z=tt,Lt>0){if(++F>=u)return arguments[0]}else F=0;return D.apply(void 0,arguments)}}function Pe(D){if(D!=null){try{return ar.call(D)}catch{}try{return D+""}catch{}}return""}function Xe(D,F){return D===F||D!==D&&F!==F}var wt=qe(function(){return arguments}())?qe:function(D){return Ce(D)&&ir.call(D,"callee")&&!It.call(D,"callee")},_t=Array.isArray;function Pt(D){return D!=null&&ce(D.length)&&!q(D)}function At(D){return Ce(D)&&Pt(D)}var Je=we||Jn;function q(D){if(!de(D))return!1;var F=dt(D);return F==v||F==m||F==l||F==P}function ce(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=o}function de(D){var F=typeof D;return D!=null&&(F=="object"||F=="function")}function Ce(D){return D!=null&&typeof D=="object"}function ft(D){if(!Ce(D)||dt(D)!=O)return!1;var F=$e(D);if(F===null)return!0;var z=ir.call(F,"constructor")&&F.constructor;return typeof z=="function"&&z instanceof z&&ar.call(z)==K}var ht=Ne?Er(Ne):pt;function Xt(D){return Rr(D,er(D))}function er(D){return Pt(D)?R(D,!0):St(D)}var gr=Wr(function(D,F,z){Ut(D,F,z)});function kr(D){return function(){return D}}function dn(D){return D}function Jn(){return!1}i.exports=gr}),Sh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var i=tr(),t=Qr(),r=class{constructor(u,a){this._exporter=u,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let o=t.getEnv();this._maxExportBatchSize=typeof a?.maxExportBatchSize=="number"?a.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof a?.maxQueueSize=="number"?a.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof a?.scheduledDelayMillis=="number"?a.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof a?.exportTimeoutMillis=="number"?a.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(u){}onEnd(u){this._isShutdown||this._addToBuffer(u)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((u,a)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(u).catch(o=>{a(o)})}),this._shuttingDownPromise)}_addToBuffer(u){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(u),this._maybeStartTimer())}_flushAll(){return new Promise((u,a)=>{let o=[],n=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,l=n;s<l;s++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{u()}).catch(a)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((u,a)=>{let o=setTimeout(()=>{a(new Error("Timeout"))},this._exportTimeoutMillis);i.context.with(t.suppressTracing(i.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),n=>{var s;clearTimeout(o),n.code===t.ExportResultCode.SUCCESS?u():a((s=n.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(u=>{t.globalErrorHandler(u)})},this._scheduledDelayMillis),t.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};e.BatchSpanProcessorBase=r}),Th=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var i=Sh(),t=class extends i.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=t}),Ih=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Th(),e)}),cl=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ih(),e)}),wh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var i=tr(),t=Qr(),r=za(),u=ll(),a=ol(),o=Eh(),n=ul(),s=bh(),l=cl(),d;(function(p){p[p.resolved=0]="resolved",p[p.timeout=1]="timeout",p[p.error=2]="error",p[p.unresolved=3]="unresolved"})(d=e.ForceFlushState||(e.ForceFlushState={}));var c=class{constructor(p={}){var v;this._registeredSpanProcessors=[],this._tracers=new Map;let m=s({},a.DEFAULT_CONFIG,p);this.resource=(v=m.resource)!==null&&v!==void 0?v:r.Resource.empty(),this.resource=r.Resource.default().merge(this.resource),this._config=Object.assign({},m,{resource:this.resource});let g=this._buildExporterFromEnv();if(g!==void 0){let E=new l.BatchSpanProcessor(g);this.activeSpanProcessor=E}else this.activeSpanProcessor=new n.NoopSpanProcessor}getTracer(p,v){let m=`${p}@${v||""}`;return this._tracers.has(m)||this._tracers.set(m,new u.Tracer({name:p,version:v},this._config,this)),this._tracers.get(m)}addSpanProcessor(p){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(v=>i.diag.error("Error while trying to shutdown current span processor",v)),this._registeredSpanProcessors.push(p),this.activeSpanProcessor=new o.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(p={}){i.trace.setGlobalTracerProvider(this),p.propagator===void 0&&(p.propagator=this._buildPropagatorFromEnv()),p.contextManager&&i.context.setGlobalContextManager(p.contextManager),p.propagator&&i.propagation.setGlobalPropagator(p.propagator)}forceFlush(){let p=this._config.forceFlushTimeoutMillis,v=this._registeredSpanProcessors.map(m=>new Promise(g=>{let E,T=setTimeout(()=>{g(new Error(`Span processor did not completed within timeout period of ${p} ms`)),E=d.timeout},p);m.forceFlush().then(()=>{clearTimeout(T),E!==d.timeout&&(E=d.resolved,g(E))}).catch(O=>{clearTimeout(T),E=d.error,g(O)})}));return new Promise((m,g)=>{Promise.all(v).then(E=>{let T=E.filter(O=>O!==d.resolved);T.length>0?g(T):m()}).catch(E=>g([E]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(p){var v;return(v=c._registeredPropagators.get(p))===null||v===void 0?void 0:v()}_getSpanExporter(p){var v;return(v=c._registeredExporters.get(p))===null||v===void 0?void 0:v()}_buildPropagatorFromEnv(){let p=Array.from(new Set(t.getEnv().OTEL_PROPAGATORS)),v=p.map(m=>{let g=this._getPropagator(m);return g||i.diag.warn(`Propagator "${m}" requested through environment variable is unavailable.`),g}).reduce((m,g)=>(g&&m.push(g),m),[]);if(v.length!==0)return p.length===1?v[0]:new t.CompositePropagator({propagators:v})}_buildExporterFromEnv(){let p=t.getEnv().OTEL_TRACES_EXPORTER;if(p==="none")return;let v=this._getSpanExporter(p);return v||i.diag.error(`Exporter "${p}" requested through environment variable is unavailable.`),v}};e.BasicTracerProvider=c,c._registeredPropagators=new Map([["tracecontext",()=>new t.HttpTraceContextPropagator],["baggage",()=>new t.HttpBaggagePropagator]]),c._registeredExporters=new Map}),Ah=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var i=Qr(),t=class{export(r,u){return this._sendSpans(r,u)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(r){return{traceId:r.spanContext().traceId,parentId:r.parentSpanId,name:r.name,id:r.spanContext().spanId,kind:r.kind,timestamp:i.hrTimeToMicroseconds(r.startTime),duration:i.hrTimeToMicroseconds(r.duration),attributes:r.attributes,status:r.status,events:r.events}}_sendSpans(r,u){for(let a of r)console.log(this._exportInfo(a));if(u)return u({code:i.ExportResultCode.SUCCESS})}};e.ConsoleSpanExporter=t}),Oh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var i=Qr(),t=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(r,u){if(this._stopped)return u({code:i.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...r),setTimeout(()=>u({code:i.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};e.InMemorySpanExporter=t}),Ph=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ch=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var i=tr(),t=Qr(),r=class{constructor(u){this._exporter=u,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(u){}onEnd(u){this._isShutdown||i.context.with(t.suppressTracing(i.context.active()),()=>{this._exporter.export([u],a=>{var o;a.code!==t.ExportResultCode.SUCCESS&&t.globalErrorHandler((o=a.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((u,a)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(u).catch(o=>{a(o)})}),this._shuttingDownPromise)}};e.SimpleSpanProcessor=r}),Rh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Dh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),xh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Nh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),ll=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(dh(),e),t(wh(),e),t(cl(),e),t(Ah(),e),t(Oh(),e),t(Ph(),e),t(Ch(),e),t(Rh(),e),t(ul(),e),t(il(),e),t(Dh(),e),t(xh(),e),t(Nh(),e)}),Mh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var i=cr();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var t=!1,r=function(a){if(t)return a;try{var o=ll(),n=tr(),s=new o.BasicTracerProvider,l=s.getTracer("applicationinsights tracer"),d=a.setTracer;a.setTracer=function(c){var p=c.startSpan;c.startSpan=function(v,m,g){var E=p.call(this,v,m,g),T=E.end;return E.end=function(){var O=T.apply(this,arguments);return i.channel.publish("azure-coretracing",E),O},E},c[e.AzureMonitorSymbol]=!0,d.call(this,c)},n.trace.getSpan(n.context.active()),a.setTracer(l),t=!0}catch{}return a};e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function u(){i.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}e.enable=u}),kh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var i=cr(),t=function(u){var a=u.prototype._emit;return u.prototype._emit=function(o,n){var s=a.apply(this,arguments);if(!n){var l=s;l||(l=a.call(this,o,!0)),i.channel.publish("bunyan",{level:o.level,result:l})}return s},u};e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:t};function r(){i.channel.registerMonkeyPatch("bunyan",e.bunyan)}e.enable=r}),Lh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var i=cr(),t=require("stream"),r=function(a){var o=new t.Writable,n=new t.Writable;o.write=function(m){if(!m)return!0;var g=m.toString();return i.channel.publish("console",{message:g}),!0},n.write=function(m){if(!m)return!0;var g=m.toString();return i.channel.publish("console",{message:g,stderr:!0}),!0};for(var s=new a.Console(o,n),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],d=function(m){var g=a[m];g&&(a[m]=function(){if(s[m])try{s[m].apply(s,arguments)}catch{}return g.apply(a,arguments)})},c=0,p=l;c<p.length;c++){var v=p[c];d(v)}return a};e.console={versionSpecifier:">= 4.0.0",patch:r};function u(){i.channel.registerMonkeyPatch("console",e.console),require("console")}e.enable=u}),jh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var i=cr(),t=function(u){var a=u.Server.prototype.connect;return u.Server.prototype.connect=function(){var o=a.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=i.channel.bindToContext(arguments[l])),n.apply(this,arguments)};var s=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=i.channel.bindToContext(arguments[1])),s.apply(this,arguments)},o},u};e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:t};function r(){i.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}e.enable=r}),Fh=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(s){for(var l,d=1,c=arguments.length;d<c;d++){l=arguments[d];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(s[p]=l[p])}return s},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var t=cr(),r=function(s){var l=s.instrument({operationIdGenerator:{next:function(){return t.channel.bindToContext(function(c){return c()})}}}),d={};return l.on("started",function(c){d[c.requestId]||(d[c.requestId]=i(i({},c),{time:new Date}))}),l.on("succeeded",function(c){var p=d[c.requestId];p&&delete d[c.requestId],typeof c.operationId=="function"?c.operationId(function(){return t.channel.publish("mongodb",{startedData:p,event:c,succeeded:!0})}):t.channel.publish("mongodb",{startedData:p,event:c,succeeded:!0})}),l.on("failed",function(c){var p=d[c.requestId];p&&delete d[c.requestId],typeof c.operationId=="function"?c.operationId(function(){return t.channel.publish("mongodb",{startedData:p,event:c,succeeded:!1})}):t.channel.publish("mongodb",{startedData:p,event:c,succeeded:!1})}),s},u=function(s){var l=s.instrument(),d={},c={};return l.on("started",function(p){d[p.requestId]||(c[p.requestId]=t.channel.bindToContext(function(v){return v()}),d[p.requestId]=i(i({},p),{time:new Date}))}),l.on("succeeded",function(p){var v=d[p.requestId];v&&delete d[p.requestId],typeof p=="object"&&typeof c[p.requestId]=="function"&&(c[p.requestId](function(){return t.channel.publish("mongodb",{startedData:v,event:p,succeeded:!0})}),delete c[p.requestId])}),l.on("failed",function(p){var v=d[p.requestId];v&&delete d[p.requestId],typeof p=="object"&&typeof c[p.requestId]=="function"&&(c[p.requestId](function(){return t.channel.publish("mongodb",{startedData:v,event:p,succeeded:!1})}),delete c[p.requestId])}),s},a=function(s){var l=s.Server.prototype.connect;return s.Server.prototype.connect=function(){var d=l.apply(this,arguments),c=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var v=typeof arguments[1]=="function"?1:2;return typeof arguments[v]=="function"&&(arguments[v]=t.channel.bindToContext(arguments[v])),c.apply(this,arguments)};var p=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=t.channel.bindToContext(arguments[1])),p.apply(this,arguments)},d},s},o=function(s){a(s);var l=s.instrument(),d={},c={};return l.on("started",function(p){d[p.requestId]||(c[p.requestId]=t.channel.bindToContext(function(v){return v()}),d[p.requestId]=p)}),l.on("succeeded",function(p){var v=d[p.requestId];v&&delete d[p.requestId],typeof p=="object"&&typeof c[p.requestId]=="function"&&(c[p.requestId](function(){return t.channel.publish("mongodb",{startedData:v,event:p,succeeded:!0})}),delete c[p.requestId])}),l.on("failed",function(p){var v=d[p.requestId];v&&delete d[p.requestId],typeof p=="object"&&typeof c[p.requestId]=="function"&&(c[p.requestId](function(){return t.channel.publish("mongodb",{startedData:v,event:p,succeeded:!1})}),delete c[p.requestId])}),s};e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:r},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:u},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:o};function n(){t.channel.registerMonkeyPatch("mongodb",e.mongo2),t.channel.registerMonkeyPatch("mongodb",e.mongo3),t.channel.registerMonkeyPatch("mongodb",e.mongo330)}e.enable=n}),Uh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var i=cr(),t=require("path"),r=function(a,o){var n=function(v,m){return function(g,E){var T=v[g];T&&(v[g]=function(){for(var O=arguments.length-1,P=arguments.length-1;P>=0;--P)if(typeof arguments[P]=="function"){O=P;break}else if(typeof arguments[P]<"u")break;var A=arguments[O],M={result:null,startTime:null,startDate:null};typeof A=="function"&&(E?(M.startTime=process.hrtime(),M.startDate=new Date,arguments[O]=i.channel.bindToContext(E(M,A))):arguments[O]=i.channel.bindToContext(A));var j=T.apply(this,arguments);return M.result=j,j})}},s=function(v,m){return n(v.prototype,m+".prototype")},l=["connect","changeUser","ping","statistics","end"],d=require(t.dirname(o)+"/lib/Connection");l.forEach(function(v){return s(d,"Connection")(v)}),n(d,"Connection")("createQuery",function(v,m){return function(g){var E=process.hrtime(v.startTime),T=E[0]*1e3+E[1]/1e6|0;i.channel.publish("mysql",{query:v.result,callbackArgs:arguments,err:g,duration:T,time:v.startDate}),m.apply(this,arguments)}});var c=["_enqueueCallback"],p=require(t.dirname(o)+"/lib/Pool");return c.forEach(function(v){return s(p,"Pool")(v)}),a};e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:r};function u(){i.channel.registerMonkeyPatch("mysql",e.mysql)}e.enable=u}),Hh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var i=cr();function t(u){var a=u.prototype.connect;return u.prototype.connect=function(o){return o&&(arguments[0]=i.channel.bindToContext(o)),a.apply(this,arguments)},u}e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:t};function r(){i.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}e.enable=r}),qh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var i=cr(),t=require("events");function r(o,n){var s=o.Client.prototype.query,l="__diagnosticOriginalFunc";return o.Client.prototype.query=function(d,c,p){var v={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},m=process.hrtime(),g;function E(T){T&&T[l]&&(T=T[l]);var O=i.channel.bindToContext(function(P,A){var M=process.hrtime(m);if(v.result=A&&{rowCount:A.rowCount,command:A.command},v.error=P,v.duration=Math.ceil(M[0]*1e3+M[1]/1e6),i.channel.publish("postgres",v),P){if(T)return T.apply(this,arguments);g&&g instanceof t.EventEmitter&&g.emit("error",P)}else T&&T.apply(this,arguments)});try{return Object.defineProperty(O,l,{value:T}),O}catch{return T}}try{typeof d=="string"?c instanceof Array?(v.query.preparable={text:d,args:c},p=E(p)):(v.query.text=d,p?p=E(p):c=E(c)):(typeof d.name=="string"?v.query.plan=d.name:d.values instanceof Array?v.query.preparable={text:d.text,args:d.values}:v.query.text=d.text,p?p=E(p):c?c=E(c):d.callback=E(d.callback))}catch{return s.apply(this,arguments)}return arguments[0]=d,arguments[1]=c,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,g=s.apply(this,arguments),g},o}function u(o,n){var s=o.Client.prototype.query,l="__diagnosticOriginalFunc";return o.Client.prototype.query=function(d,c,p){var v=this,m=!!p,g={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},E=process.hrtime(),T;function O(P){P&&P[l]&&(P=P[l]);var A=i.channel.bindToContext(function(M,j){var G=process.hrtime(E);if(g.result=j&&{rowCount:j.rowCount,command:j.command},g.error=M,g.duration=Math.ceil(G[0]*1e3+G[1]/1e6),i.channel.publish("postgres",g),M){if(P)return P.apply(this,arguments);T&&T instanceof t.EventEmitter&&T.emit("error",M)}else P&&P.apply(this,arguments)});try{return Object.defineProperty(A,l,{value:P}),A}catch{return P}}try{typeof d=="string"?c instanceof Array?(g.query.preparable={text:d,args:c},m=typeof p=="function",p=m?O(p):p):(g.query.text=d,p?(m=typeof p=="function",p=m?O(p):p):(m=typeof c=="function",c=m?O(c):c)):(typeof d.name=="string"?g.query.plan=d.name:d.values instanceof Array?g.query.preparable={text:d.text,args:d.values}:g.query.text=d.text,p?(m=typeof p=="function",p=O(p)):c?(m=typeof c=="function",c=m?O(c):c):(m=typeof d.callback=="function",d.callback=m?O(d.callback):d.callback))}catch{return s.apply(this,arguments)}return arguments[0]=d,arguments[1]=c,arguments[2]=p,arguments.length=arguments.length>3?arguments.length:3,T=s.apply(this,arguments),m?T:T.then(function(P){return O()(void 0,P),new v._Promise(function(A,M){A(P)})}).catch(function(P){return O()(P,void 0),new v._Promise(function(A,M){M(P)})})},o}e.postgres6={versionSpecifier:"6.*",patch:r},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:u};function a(){i.channel.registerMonkeyPatch("pg",e.postgres6),i.channel.registerMonkeyPatch("pg",e.postgres7)}e.enable=a}),Bh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var i=cr(),t=function(u){var a=u.RedisClient.prototype.internal_send_command;return u.RedisClient.prototype.internal_send_command=function(o){if(o){var n=o.callback;if(!n||!n.pubsubBound){var s=this.address,l=process.hrtime(),d=new Date;o.callback=i.channel.bindToContext(function(c,p){var v=process.hrtime(l),m=v[0]*1e3+v[1]/1e6|0;i.channel.publish("redis",{duration:m,address:s,commandObj:o,err:c,result:p,time:d}),typeof n=="function"&&n.apply(this,arguments)}),o.callback.pubsubBound=!0}}return a.call(this,o)},u};e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:t};function r(){i.channel.registerMonkeyPatch("redis",e.redis)}e.enable=r}),Gh=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(a){for(var o,n=1,s=arguments.length;n<s;n++){o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var t=cr(),r=function(a){var o=a.Connection.prototype.makeRequest;return a.Connection.prototype.makeRequest=function(){function n(l){var d=process.hrtime(),c={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return t.channel.bindToContext(function(p,v,m){var g=process.hrtime(d);c=i(i({},c),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!p&&{rowCount:v,rows:m},query:{text:this.parametersByName.statement.value},error:p,duration:Math.ceil(g[0]*1e3+g[1]/1e6)}),t.channel.publish("tedious",c),l.call(this,p,v,m)})}var s=arguments[0];arguments[0].callback=n(s.callback),o.apply(this,arguments)},a};e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:r};function u(){t.channel.registerMonkeyPatch("tedious",e.tedious)}e.enable=u}),Vh=x(e=>{"use strict";var i=e&&e.__extends||function(){var n=function(s,l){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(d[p]=c[p])},n(s,l)};return function(s,l){n(s,l);function d(){this.constructor=s}s.prototype=l===null?Object.create(l):(d.prototype=l.prototype,new d)}}(),t=e&&e.__rest||function(n,s){var l={};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&s.indexOf(d)<0&&(l[d]=n[d]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,d=Object.getOwnPropertySymbols(n);c<d.length;c++)s.indexOf(d[c])<0&&Object.prototype.propertyIsEnumerable.call(n,d[c])&&(l[d[c]]=n[d[c]]);return l};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var r=cr(),u=function(n){var s=n.Logger.prototype.log,l,d=function(c,p,v){var m;return l===n.config.npm.levels?m="npm":l===n.config.syslog.levels?m="syslog":m="unknown",r.channel.publish("winston",{level:c,message:p,meta:v,levelKind:m}),p};return n.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[d]:this.filters[this.filters.length-1]!==d&&(this.filters=this.filters.filter(function(c){return c!==d}),this.filters.push(d)),s.apply(this,arguments)},n},a=function(n){var s=function(v,m){var g;return v.config.npm.levels[m]!=null?g="npm":v.config.syslog.levels[m]!=null?g="syslog":g="unknown",g},l=function(v){i(m,v);function m(g,E){var T=v.call(this,E)||this;return T.winston=g,T}return m.prototype.log=function(g,E){var T=g.message,O=g.level,P=g.meta,A=t(g,["message","level","meta"]);O=typeof Symbol.for=="function"?g[Symbol.for("level")]:O,T=g instanceof Error?g:T;var M=s(this.winston,O);P=P||{};for(var j in A)A.hasOwnProperty(j)&&(P[j]=A[j]);r.channel.publish("winston",{message:T,level:O,levelKind:M,meta:P}),E()},m}(n.Transport);function d(){var v=arguments[0].levels||n.config.npm.levels,m;for(var g in v)v.hasOwnProperty(g)&&(m=m===void 0||v[g]>v[m]?g:m);this.add(new l(n,{level:m}))}var c=n.createLogger;n.createLogger=function(){var v=arguments[0].levels||n.config.npm.levels,m;for(var g in v)v.hasOwnProperty(g)&&(m=m===void 0||v[g]>v[m]?g:m);var E=c.apply(this,arguments);E.add(new l(n,{level:m}));var T=E.configure;return E.configure=function(){T.apply(this,arguments),d.apply(this,arguments)},E};var p=n.configure;return n.configure=function(){p.apply(this,arguments),d.apply(this,arguments)},n.add(new l(n)),n};e.winston3={versionSpecifier:"3.x",patch:a},e.winston2={versionSpecifier:"2.x",patch:u};function o(){r.channel.registerMonkeyPatch("winston",e.winston2),r.channel.registerMonkeyPatch("winston",e.winston3)}e.enable=o}),zh=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var i=Mh();e.azuresdk=i;var t=kh();e.bunyan=t;var r=Lh();e.console=r;var u=jh();e.mongodbCore=u;var a=Fh();e.mongodb=a;var o=Uh();e.mysql=o;var n=Hh();e.pgPool=n;var s=qh();e.pg=s;var l=Bh();e.redis=l;var d=Gh();e.tedious=d;var c=Vh();e.winston=c;function p(){t.enable(),r.enable(),u.enable(),a.enable(),o.enable(),s.enable(),n.enable(),l.enable(),c.enable(),i.enable(),d.enable()}e.enable=p}),Wa=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var i=Fc(),t=yr();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var r="DiagnosticChannel";if(e.IsInitialized){u=zh(),a=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",o=a.split(","),n={bunyan:u.bunyan,console:u.console,mongodb:u.mongodb,mongodbCore:u.mongodbCore,mysql:u.mysql,redis:u.redis,pg:u.pg,pgPool:u.pgPool,winston:u.winston,azuresdk:u.azuresdk};for(s in n)o.indexOf(s)===-1&&(n[s].enable(),t.info(r,"Subscribed to "+s+" events"));o.length>0&&t.info(r,"Some modules will not be patched",o)}else t.info(r,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var u,a,o,n,s;function l(d){if(e.IsInitialized){var c=cr();c.channel.addContextPreservation(d),c.channel.spanContextPropagator=i.AsyncScopeManager}}e.registerContextPreservation=l}),yi=x((e,i)=>{"use strict";i.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),Gr=x((e,i)=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(d){for(var c,p=1,v=arguments.length;p<v;p++){c=arguments[p];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(d[m]=c[m])}return d},t.apply(this,arguments)},r=require("http"),u=require("https"),a=require("url"),o=require("constants"),n=yr(),s=yi(),l=function(){function d(){}return d.getCookie=function(c,p){var v="";if(c&&c.length&&typeof p=="string")for(var m=c+"=",g=p.split(";"),E=0;E<g.length;E++){var p=g[E];if(p=d.trim(p),p&&p.indexOf(m)===0){v=p.substring(m.length,g[E].length);break}}return v},d.trim=function(c){return typeof c=="string"?c.replace(/^\s+|\s+$/g,""):""},d.int32ArrayToBase64=function(c){var p=function(T,O){return String.fromCharCode(T>>O&255)},v=function(T){return p(T,24)+p(T,16)+p(T,8)+p(T,0)},m=c.map(v).join(""),g=Buffer.from?Buffer.from(m,"binary"):new Buffer(m,"binary"),E=g.toString("base64");return E.substr(0,E.indexOf("="))},d.random32=function(){return 4294967296*Math.random()|0},d.randomu32=function(){return d.random32()+2147483648},d.w3cTraceId=function(){for(var c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p="",v,m=0;m<4;m++)v=d.random32(),p+=c[v&15]+c[v>>4&15]+c[v>>8&15]+c[v>>12&15]+c[v>>16&15]+c[v>>20&15]+c[v>>24&15]+c[v>>28&15];var g=c[8+Math.random()*4|0];return p.substr(0,8)+p.substr(9,4)+"4"+p.substr(13,3)+g+p.substr(16,3)+p.substr(19,12)},d.w3cSpanId=function(){return d.w3cTraceId().substring(16)},d.isValidW3CId=function(c){return c.length===32&&c!=="00000000000000000000000000000000"},d.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},d.isError=function(c){return c instanceof Error},d.isPrimitive=function(c){var p=typeof c;return p==="string"||p==="number"||p==="boolean"},d.isDate=function(c){return Object.prototype.toString.call(c)==="[object Date]"},d.msToTimeSpan=function(c){(isNaN(c)||c<0)&&(c=0);var p=(c/1e3%60).toFixed(7).replace(/0{0,4}$/,""),v=""+Math.floor(c/(1e3*60))%60,m=""+Math.floor(c/(1e3*60*60))%24,g=Math.floor(c/(1e3*60*60*24));p=p.indexOf(".")<2?"0"+p:p,v=v.length<2?"0"+v:v,m=m.length<2?"0"+m:m;var E=g>0?g+".":"";return E+m+":"+v+":"+p},d.extractError=function(c){var p=c;return{message:c.message,code:p.code||p.id||""}},d.extractObject=function(c){return c instanceof Error?d.extractError(c):typeof c.toJSON=="function"?c.toJSON():c},d.validateStringMap=function(c){if(typeof c!="object"){n.info("Invalid properties dropped from payload");return}var p={};for(var v in c){var m="",g=c[v],E=typeof g;if(d.isPrimitive(g))m=g.toString();else if(g===null||E==="undefined")m="";else if(E==="function"){n.info("key: "+v+" was function; will not serialize");continue}else{var T=d.isArray(g)?g:d.extractObject(g);try{d.isPrimitive(T)?m=T:m=JSON.stringify(T)}catch(O){m=g.constructor.name.toString()+" (Error: "+O.message+")",n.info("key: "+v+", could not be serialized")}}p[v]=m.substring(0,d.MAX_PROPERTY_LENGTH)}return p},d.canIncludeCorrelationHeader=function(c,p){var v=c&&c.config&&c.config.correlationHeaderExcludedDomains;if(!v||v.length==0||!p)return!0;for(var m=0;m<v.length;m++){var g=new RegExp(v[m].replace(/\./g,".").replace(/\*/g,".*"));if(g.test(a.parse(p).hostname))return!1}return!0},d.getCorrelationContextTarget=function(c,p){var v=c.headers&&c.headers[s.requestContextHeader];if(v)for(var m=v.split(","),g=0;g<m.length;++g){var E=m[g].split("=");if(E.length==2&&E[0]==p)return E[1]}},d.makeRequest=function(c,p,v,m){p&&p.indexOf("//")===0&&(p="https:"+p);var g=a.parse(p),E=t(t({},v),{host:g.hostname,port:g.port,path:g.pathname}),T=void 0;if(g.protocol==="https:"&&(T=c.proxyHttpsUrl||void 0),g.protocol==="http:"&&(T=c.proxyHttpUrl||void 0),T){T.indexOf("//")===0&&(T="http:"+T);var O=a.parse(T);O.protocol==="https:"?(n.info("Proxies that use HTTPS are not supported"),T=void 0):E=t(t({},E),{host:O.hostname,port:O.port||"80",path:p,headers:t(t({},E.headers),{Host:g.hostname})})}var P=g.protocol==="https:"&&!T;return P&&c.httpsAgent!==void 0?E.agent=c.httpsAgent:!P&&c.httpAgent!==void 0?E.agent=c.httpAgent:P&&(E.agent=d.tlsRestrictedAgent),P?u.request(E,m):r.request(E,m)},d.safeIncludeCorrelationHeader=function(c,p,v){var m;if(typeof v=="string")m=v;else if(v instanceof Array)m=v.join(",");else if(v&&typeof v.toString=="function")try{m=v.toString()}catch(g){n.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",g,v)}m?d.addCorrelationIdHeaderFromString(c,p,m):p.setHeader(s.requestContextHeader,s.requestContextSourceKey+"="+c.config.correlationId)},d.dumpObj=function(c){var p=Object.prototype.toString.call(c),v="";return p==="[object Error]"?v="{ stack: '"+c.stack+"', message: '"+c.message+"', name: '"+c.name+"'":v=JSON.stringify(c),p+v},d.addCorrelationIdHeaderFromString=function(c,p,v){var m=v.split(","),g=s.requestContextSourceKey+"=",E=m.some(function(T){return T.substring(0,g.length)===g});E||p.setHeader(s.requestContextHeader,v+","+s.requestContextSourceKey+"="+c.config.correlationId)},d.MAX_PROPERTY_LENGTH=8192,d.tlsRestrictedAgent=new u.Agent({keepAlive:!0,maxSockets:25,secureOptions:o.SSL_OP_NO_SSLv2|o.SSL_OP_NO_SSLv3|o.SSL_OP_NO_TLSv1|o.SSL_OP_NO_TLSv1_1}),d}();i.exports=l}),Wn=x((e,i)=>{"use strict";var t=Gr(),r=yr(),u=function(){function a(){}return a.queryCorrelationId=function(o,n){var s=o.profileQueryEndpoint+"/api/profiles/"+o.instrumentationKey+"/appId";if(a.completedLookups.hasOwnProperty(s)){n(a.completedLookups[s]);return}else if(a.pendingLookups[s]){a.pendingLookups[s].push(n);return}a.pendingLookups[s]=[n];var l=function(){if(a.pendingLookups[s]){var d={method:"GET",disableAppInsightsAutoCollection:!0};r.info(a.TAG,d);var c=t.makeRequest(o,s,d,function(p){if(p.statusCode===200){var v="";p.setEncoding("utf-8"),p.on("data",function(m){v+=m}),p.on("end",function(){r.info(a.TAG,v);var m=a.correlationIdPrefix+v;a.completedLookups[s]=m,a.pendingLookups[s]&&a.pendingLookups[s].forEach(function(g){return g(m)}),delete a.pendingLookups[s]})}else p.statusCode>=400&&p.statusCode<500?(a.completedLookups[s]=void 0,delete a.pendingLookups[s]):setTimeout(l,o.correlationIdRetryIntervalMs)});c&&(c.on("error",function(p){r.warn(a.TAG,p)}),c.end())}};setTimeout(l,0)},a.cancelCorrelationIdQuery=function(o,n){var s=o.profileQueryEndpoint+"/api/profiles/"+o.instrumentationKey+"/appId",l=a.pendingLookups[s];l&&(a.pendingLookups[s]=l.filter(function(d){return d!=n}),a.pendingLookups[s].length==0&&delete a.pendingLookups[s])},a.generateRequestId=function(o){if(o){o=o[0]=="|"?o:"|"+o,o[o.length-1]!=="."&&(o+=".");var n=(a.currentRootId++).toString(16);return a.appendSuffix(o,n,"_")}else return a.generateRootId()},a.getRootId=function(o){var n=o.indexOf(".");n<0&&(n=o.length);var s=o[0]==="|"?1:0;return o.substring(s,n)},a.generateRootId=function(){return"|"+t.w3cTraceId()+"."},a.appendSuffix=function(o,n,s){if(o.length+n.length<a.requestIdMaxLength)return o+n+s;var l=a.requestIdMaxLength-9;if(o.length>l)for(;l>1;--l){var d=o[l-1];if(d==="."||d==="_")break}if(l<=1)return a.generateRootId();for(n=t.randomu32().toString(16);n.length<8;)n="0"+n;return o.substring(0,l)+n+"#"},a.TAG="CorrelationIdManager",a.correlationIdPrefix="cid-v1:",a.w3cEnabled=!0,a.pendingLookups={},a.completedLookups={},a.requestIdMaxLength=1024,a.currentRootId=t.randomu32(),a}();i.exports=u}),no=x((e,i)=>{"use strict";var t=Gr(),r=Wn(),u=function(){function a(o,n){if(this.traceFlag=a.DEFAULT_TRACE_FLAG,this.version=a.DEFAULT_VERSION,o&&typeof o=="string")if(o.split(",").length>1)this.traceId=t.w3cTraceId(),this.spanId=t.w3cTraceId().substr(0,16);else{var s=o.trim().split("-"),l=s.length;l>=4?(this.version=s[0],this.traceId=s[1],this.spanId=s[2],this.traceFlag=s[3]):(this.traceId=t.w3cTraceId(),this.spanId=t.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=a.DEFAULT_VERSION,this.traceId=t.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=t.w3cTraceId(),this.spanId=t.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=a.DEFAULT_VERSION,this.traceId=t.w3cTraceId(),this.spanId=t.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=a.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=a.DEFAULT_TRACE_FLAG,this.traceId=t.w3cTraceId()),a.isValidTraceId(this.traceId)||(this.traceId=t.w3cTraceId()),a.isValidSpanId(this.spanId)||(this.spanId=t.w3cTraceId().substr(0,16),this.traceId=t.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var d=r.getRootId(n);a.isValidTraceId(d)||(this.legacyRootId=d,d=t.w3cTraceId()),n.indexOf("|")!==-1&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=d,this.spanId=n}else this.traceId=t.w3cTraceId(),this.spanId=t.w3cTraceId().substr(0,16)}return a.isValidTraceId=function(o){return o.match(/^[0-9a-f]{32}$/)&&o!=="00000000000000000000000000000000"},a.isValidSpanId=function(o){return o.match(/^[0-9a-f]{16}$/)&&o!=="0000000000000000"},a.formatOpenTelemetryTraceFlags=function(o){var n="0"+o.toString(16);return n.substring(n.length-2)},a.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},a.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},a.prototype.updateSpanId=function(){this.spanId=t.w3cTraceId().substr(0,16)},a.DEFAULT_TRACE_FLAG="01",a.DEFAULT_VERSION="00",a}();i.exports=u}),dl=x((e,i)=>{"use strict";var t=function(){function r(u){this.fieldmap=[],u&&(this.fieldmap=this.parseHeader(u))}return r.prototype.toString=function(){var u=this.fieldmap;return!u||u.length==0?null:u.join(", ")},r.validateKeyChars=function(u){var a=u.split("@");if(a.length==2){var o=a[0].trim(),n=a[1].trim(),s=!!o.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),l=!!n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return s&&l}else if(a.length==1)return!!u.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},r.prototype.parseHeader=function(u){var a=[],o={},n=u.split(",");if(n.length>32)return null;for(var s=0,l=n;s<l.length;s++){var d=l[s],c=d.trim();if(c.length!==0){var p=c.split("=");if(p.length!==2||!r.validateKeyChars(p[0])||o[p[0]])return null;o[p[0]]=!0,a.push(c)}}return a},r.strict=!0,r}();i.exports=t}),En=x((e,i)=>{"use strict";var t=function(){function r(){}return r}();i.exports=t}),Wh=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o}(r);i.exports=u}),fl=x((e,i)=>{"use strict";var t=function(){function r(){}return r}();i.exports=t}),$h=x((e,i)=>{"use strict";var t=function(){function r(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return r}();i.exports=t}),Kh=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=fl(),u=function(a){t(o,a);function o(){return a.call(this)||this}return o}(r);i.exports=u}),pl=x((e,i)=>{"use strict";var t;(function(r){r[r.Measurement=0]="Measurement",r[r.Aggregation=1]="Aggregation"})(t||(t={})),i.exports=t}),Xh=x((e,i)=>{"use strict";var t=pl(),r=function(){function u(){this.kind=t.Measurement}return u}();i.exports=r}),Qh=x((e,i)=>{"use strict";var t=function(){function r(){this.ver=1,this.sampleRate=100,this.tags={}}return r}();i.exports=t}),hl=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o}(r);i.exports=u}),Yh=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.exceptions=[],n.properties={},n.measurements={},n}return o}(r);i.exports=u}),Zh=x((e,i)=>{"use strict";var t=function(){function r(){this.hasFullStack=!0,this.parsedStack=[]}return r}();i.exports=t}),Jh=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.properties={},n}return o}(r);i.exports=u}),ev=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.metrics=[],n.properties={},n}return o}(r);i.exports=u}),tv=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=hl(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o}(r);i.exports=u}),rv=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.success=!0,n.properties={},n.measurements={},n}return o}(r);i.exports=u}),nv=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var a=function(o,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])},a(o,n)};return function(o,n){a(o,n);function s(){this.constructor=o}o.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),r=En(),u=function(a){t(o,a);function o(){var n=a.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o}(r);i.exports=u}),iv=x((e,i)=>{"use strict";var t;(function(r){r[r.Verbose=0]="Verbose",r[r.Information=1]="Information",r[r.Warning=2]="Warning",r[r.Error=3]="Error",r[r.Critical=4]="Critical"})(t||(t={})),i.exports=t}),ov=x((e,i)=>{"use strict";var t=function(){function r(){}return r}();i.exports=t}),vl=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=Wh(),e.Base=fl(),e.ContextTagKeys=$h(),e.Data=Kh(),e.DataPoint=Xh(),e.DataPointType=pl(),e.Domain=En(),e.Envelope=Qh(),e.EventData=hl(),e.ExceptionData=Yh(),e.ExceptionDetails=Zh(),e.MessageData=Jh(),e.MetricData=ev(),e.PageViewData=tv(),e.RemoteDependencyData=rv(),e.RequestData=nv(),e.SeverityLevel=iv(),e.StackFrame=ov()}),av=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var i=vl(),t=function(){function u(){}return u.TYPE_HTTP="Http",u.TYPE_AI="Http (tracked component)",u}();e.RemoteDependencyDataConstants=t;function r(u){return"properties"in u||u instanceof i.EventData||u instanceof i.ExceptionData||u instanceof i.MessageData||u instanceof i.MetricData||u instanceof i.PageViewData||u instanceof i.RemoteDependencyData||u instanceof i.RequestData}e.domainSupportsProperties=r}),sv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),uv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),cv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),lv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),dv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),fv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),pv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),hv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),vv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),mv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),gv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),_v=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),yv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0;function i(u){switch(u){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData";case r.Availability:return"AvailabilityData";case r.PageView:return"PageViewData"}}e.telemetryTypeToBaseType=i;function t(u){switch(u){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency;case"AvailabilityData":return r.Availability;case"PageViewData":return r.PageView}}e.baseTypeToTelemetryType=t,e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var r;(function(u){u[u.Event=0]="Event",u[u.Exception=1]="Exception",u[u.Trace=2]="Trace",u[u.Metric=3]="Metric",u[u.Request=4]="Request",u[u.Dependency=5]="Dependency",u[u.Availability=6]="Availability",u[u.PageView=7]="PageView"})(r=e.TelemetryType||(e.TelemetryType={}))}),Ev=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(sv(),e),t(uv(),e),t(cv(),e),t(lv(),e),t(dv(),e),t(fv(),e),t(pv(),e),t(hv(),e),t(vv(),e),t(mv(),e),t(gv(),e),t(_v(),e),t(yv(),e)}),bv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Sv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Tv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Iv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),wv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Av=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Ov=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Pv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Cv=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(bv(),e),t(Sv(),e),t(Tv(),e),t(Iv(),e),t(wv(),e),t(Av(),e),t(Ov(),e),t(Pv(),e)}),Fr=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(av(),e),t(vl(),e),t(Ev(),e),t(Cv(),e)}),ml=x((e,i)=>{"use strict";var t=function(){function r(){}return r.prototype.getUrl=function(){return this.url},r.prototype.RequestParser=function(){this.startTime=+new Date},r.prototype._setStatus=function(u,a){var o=+new Date;this.duration=o-this.startTime,this.statusCode=u;var n=this.properties||{};if(a){if(typeof a=="string")n.error=a;else if(a instanceof Error)n.error=a.message;else if(typeof a=="object")for(var s in a)n[s]=a[s]&&a[s].toString&&a[s].toString()}this.properties=n},r.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},r}();i.exports=t}),gl=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var p=function(v,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,E){g.__proto__=E}||function(g,E){for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(g[T]=E[T])},p(v,m)};return function(v,m){p(v,m);function g(){this.constructor=v}v.prototype=m===null?Object.create(m):(g.prototype=m.prototype,new g)}}(),r=require("url"),u=Fr(),a=Gr(),o=yi(),n=ml(),s=Wn(),l=dl(),d=no(),c=function(p){t(v,p);function v(m,g){var E=p.call(this)||this;return m&&(E.method=m.method,E.url=E._getAbsoluteUrl(m),E.startTime=+new Date,E.socketRemoteAddress=m.socket&&m.socket.remoteAddress,E.parseHeaders(m,g),m.connection&&(E.connectionRemoteAddress=m.connection.remoteAddress,E.legacySocketRemoteAddress=m.connection.socket&&m.connection.socket.remoteAddress)),E}return v.prototype.onError=function(m,g){this._setStatus(void 0,m),g&&(this.duration=g)},v.prototype.onResponse=function(m,g){this._setStatus(m.statusCode,void 0),g&&(this.duration=g)},v.prototype.getRequestTelemetry=function(m){var g={id:this.requestId,name:this.method+" "+r.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(m&&m.time?g.time=m.time:this.startTime&&(g.time=new Date(this.startTime)),m){for(var E in m)g[E]||(g[E]=m[E]);if(m.properties)for(var E in m.properties)g.properties[E]=m.properties[E]}return g},v.prototype.getRequestTags=function(m){var g={};for(var E in m)g[E]=m[E];return g[v.keys.locationIp]=m[v.keys.locationIp]||this._getIp(),g[v.keys.sessionId]=m[v.keys.sessionId]||this._getId("ai_session"),g[v.keys.userId]=m[v.keys.userId]||this._getId("ai_user"),g[v.keys.userAuthUserId]=m[v.keys.userAuthUserId]||this._getId("ai_authUser"),g[v.keys.operationName]=this.getOperationName(m),g[v.keys.operationParentId]=this.getOperationParentId(m),g[v.keys.operationId]=this.getOperationId(m),g},v.prototype.getOperationId=function(m){return m[v.keys.operationId]||this.operationId},v.prototype.getOperationParentId=function(m){return m[v.keys.operationParentId]||this.parentId||this.getOperationId(m)},v.prototype.getOperationName=function(m){return m[v.keys.operationName]||this.method+" "+r.parse(this.url).pathname},v.prototype.getRequestId=function(){return this.requestId},v.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},v.prototype.getTraceparent=function(){return this.traceparent},v.prototype.getTracestate=function(){return this.tracestate},v.prototype.getLegacyRootId=function(){return this.legacyRootId},v.prototype._getAbsoluteUrl=function(m){if(!m.headers)return m.url;var g=m.connection?m.connection.encrypted:null,E=r.parse(m.url),T=E.pathname,O=E.search,P=g||m.headers["x-forwarded-proto"]=="https"?"https":"http",A=r.format({protocol:P,host:m.headers.host,pathname:T,search:O});return A},v.prototype._getIp=function(){var m=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,g=function(T){var O=m.exec(T);if(O)return O[0]},E=g(this.rawHeaders["x-forwarded-for"])||g(this.rawHeaders["x-client-ip"])||g(this.rawHeaders["x-real-ip"])||g(this.connectionRemoteAddress)||g(this.socketRemoteAddress)||g(this.legacySocketRemoteAddress);return!E&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(E="127.0.0.1"),E},v.prototype._getId=function(m){var g=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",E=v.parseId(a.getCookie(m,g));return E},v.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},v.prototype.parseHeaders=function(m,g){if(this.rawHeaders=m.headers||m.rawHeaders,this.userAgent=m.headers&&m.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(m,o.requestContextSourceKey),m.headers){var E=m.headers[o.traceStateHeader]?m.headers[o.traceStateHeader].toString():null,T=m.headers[o.traceparentHeader]?m.headers[o.traceparentHeader].toString():null,O=m.headers[o.requestIdHeader]?m.headers[o.requestIdHeader].toString():null,P=m.headers[o.parentIdHeader]?m.headers[o.parentIdHeader].toString():null,A=m.headers[o.rootIdHeader]?m.headers[o.rootIdHeader].toString():null;this.correlationContextHeader=m.headers[o.correlationContextHeader]?m.headers[o.correlationContextHeader].toString():null,s.w3cEnabled&&(T||E)?(this.traceparent=new d(T?T.toString():null),this.tracestate=T&&E&&new l(E?E.toString():null),this.setBackCompatFromThisTraceContext()):O?s.w3cEnabled?(this.traceparent=new d(null,O),this.setBackCompatFromThisTraceContext()):(this.parentId=O,this.requestId=s.generateRequestId(this.parentId),this.operationId=s.getRootId(this.requestId)):s.w3cEnabled?(this.traceparent=new d,this.traceparent.parentId=P,this.traceparent.legacyRootId=A||P,this.setBackCompatFromThisTraceContext()):(this.parentId=P,this.requestId=s.generateRequestId(A||this.parentId),this.correlationContextHeader=null,this.operationId=s.getRootId(this.requestId)),g&&(this.requestId=g,this.operationId=s.getRootId(this.requestId))}},v.parseId=function(m){var g=m.split("|");return g.length>0?g[0]:""},v.keys=new u.ContextTagKeys,v}(n);i.exports=c}),Rv=x((e,i)=>{e=i.exports=ue;var t;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?t=function(){var f=Array.prototype.slice.call(arguments,0);f.unshift("SEMVER"),console.log.apply(console,f)}:t=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,u=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,o=e.re=[],n=e.src=[],s=0,l=s++;n[l]="0|[1-9]\\d*";var d=s++;n[d]="[0-9]+";var c=s++;n[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=s++;n[p]="("+n[l]+")\\.("+n[l]+")\\.("+n[l]+")";var v=s++;n[v]="("+n[d]+")\\.("+n[d]+")\\.("+n[d]+")";var m=s++;n[m]="(?:"+n[l]+"|"+n[c]+")";var g=s++;n[g]="(?:"+n[d]+"|"+n[c]+")";var E=s++;n[E]="(?:-("+n[m]+"(?:\\."+n[m]+")*))";var T=s++;n[T]="(?:-?("+n[g]+"(?:\\."+n[g]+")*))";var O=s++;n[O]="[0-9A-Za-z-]+";var P=s++;n[P]="(?:\\+("+n[O]+"(?:\\."+n[O]+")*))";var A=s++,M="v?"+n[p]+n[E]+"?"+n[P]+"?";n[A]="^"+M+"$";var j="[v=\\s]*"+n[v]+n[T]+"?"+n[P]+"?",G=s++;n[G]="^"+j+"$";var B=s++;n[B]="((?:<|>)?=?)";var Y=s++;n[Y]=n[d]+"|x|X|\\*";var ne=s++;n[ne]=n[l]+"|x|X|\\*";var ye=s++;n[ye]="[v=\\s]*("+n[ne]+")(?:\\.("+n[ne]+")(?:\\.("+n[ne]+")(?:"+n[E]+")?"+n[P]+"?)?)?";var Re=s++;n[Re]="[v=\\s]*("+n[Y]+")(?:\\.("+n[Y]+")(?:\\.("+n[Y]+")(?:"+n[T]+")?"+n[P]+"?)?)?";var ut=s++;n[ut]="^"+n[B]+"\\s*"+n[ye]+"$";var ot=s++;n[ot]="^"+n[B]+"\\s*"+n[Re]+"$";var xt=s++;n[xt]="(?:^|[^\\d])(\\d{1,"+a+"})(?:\\.(\\d{1,"+a+"}))?(?:\\.(\\d{1,"+a+"}))?(?:$|[^\\d])";var st=s++;n[st]="(?:~>?)";var oe=s++;n[oe]="(\\s*)"+n[st]+"\\s+",o[oe]=new RegExp(n[oe],"g");var ge="$1~",le=s++;n[le]="^"+n[st]+n[ye]+"$";var Ue=s++;n[Ue]="^"+n[st]+n[Re]+"$";var X=s++;n[X]="(?:\\^)";var Ee=s++;n[Ee]="(\\s*)"+n[X]+"\\s+",o[Ee]=new RegExp(n[Ee],"g");var se="$1^",We=s++;n[We]="^"+n[X]+n[ye]+"$";var rt=s++;n[rt]="^"+n[X]+n[Re]+"$";var $=s++;n[$]="^"+n[B]+"\\s*("+j+")$|^$";var ee=s++;n[ee]="^"+n[B]+"\\s*("+M+")$|^$";var re=s++;n[re]="(\\s*)"+n[B]+"\\s*("+j+"|"+n[ye]+")",o[re]=new RegExp(n[re],"g");var ve="$1$2$3",Ve=s++;n[Ve]="^\\s*("+n[ye]+")\\s+-\\s+("+n[ye]+")\\s*$";var Ae=s++;n[Ae]="^\\s*("+n[Re]+")\\s+-\\s+("+n[Re]+")\\s*$";var Ne=s++;for(n[Ne]="(<|>)?=?\\s*\\*",Qe=0;Qe<s;Qe++)t(Qe,n[Qe]),o[Qe]||(o[Qe]=new RegExp(n[Qe]));var Qe;e.parse=Ot;function Ot(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue)return f;if(typeof f!="string"||f.length>r)return null;var S=_.loose?o[G]:o[A];if(!S.test(f))return null;try{return new ue(f,_)}catch{return null}}e.valid=Er;function Er(f,_){var S=Ot(f,_);return S?S.version:null}e.clean=hr;function hr(f,_){var S=Ot(f.trim().replace(/^[=v]+/,""),_);return S?S.version:null}e.SemVer=ue;function ue(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue){if(f.loose===_.loose)return f;f=f.version}else if(typeof f!="string")throw new TypeError("Invalid Version: "+f);if(f.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof ue))return new ue(f,_);t("SemVer",f,_),this.options=_,this.loose=!!_.loose;var S=f.trim().match(_.loose?o[G]:o[A]);if(!S)throw new TypeError("Invalid Version: "+f);if(this.raw=f,this.major=+S[1],this.minor=+S[2],this.patch=+S[3],this.major>u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u||this.patch<0)throw new TypeError("Invalid patch version");S[4]?this.prerelease=S[4].split(".").map(function(C){if(/^[0-9]+$/.test(C)){var R=+C;if(R>=0&&R<u)return R}return C}):this.prerelease=[],this.build=S[5]?S[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(f){return t("SemVer.compare",this.version,this.options,f),f instanceof ue||(f=new ue(f,this.options)),this.compareMain(f)||this.comparePre(f)},ue.prototype.compareMain=function(f){return f instanceof ue||(f=new ue(f,this.options)),Ht(this.major,f.major)||Ht(this.minor,f.minor)||Ht(this.patch,f.patch)},ue.prototype.comparePre=function(f){if(f instanceof ue||(f=new ue(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;var _=0;do{var S=this.prerelease[_],C=f.prerelease[_];if(t("prerelease compare",_,S,C),S===void 0&&C===void 0)return 0;if(C===void 0)return 1;if(S===void 0)return-1;if(S!==C)return Ht(S,C)}while(++_)},ue.prototype.inc=function(f,_){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",_),this.inc("pre",_);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",_),this.inc("pre",_);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var S=this.prerelease.length;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);S===-1&&this.prerelease.push(0)}_&&(this.prerelease[0]===_?isNaN(this.prerelease[1])&&(this.prerelease=[_,0]):this.prerelease=[_,0]);break;default:throw new Error("invalid increment argument: "+f)}return this.format(),this.raw=this.version,this},e.inc=br;function br(f,_,S,C){typeof S=="string"&&(C=S,S=void 0);try{return new ue(f,S).inc(_,C).version}catch{return null}}e.diff=nr;function nr(f,_){if(Tt(f,_))return null;var S=Ot(f),C=Ot(_),R="";if(S.prerelease.length||C.prerelease.length){R="pre";var k="prerelease"}for(var L in S)if((L==="major"||L==="minor"||L==="patch")&&S[L]!==C[L])return R+L;return k}e.compareIdentifiers=Ht;var Wt=/^[0-9]+$/;function Ht(f,_){var S=Wt.test(f),C=Wt.test(_);return S&&C&&(f=+f,_=+_),f===_?0:S&&!C?-1:C&&!S?1:f<_?-1:1}e.rcompareIdentifiers=ar;function ar(f,_){return Ht(_,f)}e.major=ir;function ir(f,_){return new ue(f,_).major}e.minor=Sr;function Sr(f,_){return new ue(f,_).minor}e.patch=ie;function ie(f,_){return new ue(f,_).patch}e.compare=K;function K(f,_,S){return new ue(f,S).compare(new ue(_,S))}e.compareLoose=xe;function xe(f,_){return K(f,_,!0)}e.rcompare=Te;function Te(f,_,S){return K(_,f,S)}e.sort=vt;function vt(f,_){return f.sort(function(S,C){return e.compare(S,C,_)})}e.rsort=Ke;function Ke(f,_){return f.sort(function(S,C){return e.rcompare(S,C,_)})}e.gt=He;function He(f,_,S){return K(f,_,S)>0}e.lt=$e;function $e(f,_,S){return K(f,_,S)<0}e.eq=Tt;function Tt(f,_,S){return K(f,_,S)===0}e.neq=It;function It(f,_,S){return K(f,_,S)!==0}e.gte=Oe;function Oe(f,_,S){return K(f,_,S)>=0}e.lte=Ye;function Ye(f,_,S){return K(f,_,S)<=0}e.cmp=ae;function ae(f,_,S,C){switch(_){case"===":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f===S;case"!==":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f!==S;case"":case"=":case"==":return Tt(f,S,C);case"!=":return It(f,S,C);case">":return He(f,S,C);case">=":return Oe(f,S,C);case"<":return $e(f,S,C);case"<=":return Ye(f,S,C);default:throw new TypeError("Invalid operator: "+_)}}e.Comparator=we;function we(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof we){if(f.loose===!!_.loose)return f;f=f.value}if(!(this instanceof we))return new we(f,_);t("comparator",f,_),this.options=_,this.loose=!!_.loose,this.parse(f),this.semver===Le?this.value="":this.value=this.operator+this.semver.version,t("comp",this)}var Le={};we.prototype.parse=function(f){var _=this.options.loose?o[$]:o[ee],S=f.match(_);if(!S)throw new TypeError("Invalid comparator: "+f);this.operator=S[1],this.operator==="="&&(this.operator=""),S[2]?this.semver=new ue(S[2],this.options.loose):this.semver=Le},we.prototype.toString=function(){return this.value},we.prototype.test=function(f){return t("Comparator.test",f,this.options.loose),this.semver===Le?!0:(typeof f=="string"&&(f=new ue(f,this.options)),ae(f,this.operator,this.semver,this.options))},we.prototype.intersects=function(f,_){if(!(f instanceof we))throw new TypeError("a Comparator is required");(!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1});var S;if(this.operator==="")return S=new he(f.value,_),pe(this.value,S,_);if(f.operator==="")return S=new he(this.value,_),pe(f.semver,S,_);var C=(this.operator===">="||this.operator===">")&&(f.operator===">="||f.operator===">"),R=(this.operator==="<="||this.operator==="<")&&(f.operator==="<="||f.operator==="<"),k=this.semver.version===f.semver.version,L=(this.operator===">="||this.operator==="<=")&&(f.operator===">="||f.operator==="<="),Q=ae(this.semver,"<",f.semver,_)&&(this.operator===">="||this.operator===">")&&(f.operator==="<="||f.operator==="<"),te=ae(this.semver,">",f.semver,_)&&(this.operator==="<="||this.operator==="<")&&(f.operator===">="||f.operator===">");return C||R||k&&L||Q||te},e.Range=he;function he(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof he)return f.loose===!!_.loose&&f.includePrerelease===!!_.includePrerelease?f:new he(f.raw,_);if(f instanceof we)return new he(f.value,_);if(!(this instanceof he))return new he(f,_);if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=f,this.set=f.split(/\s*\|\|\s*/).map(function(S){return this.parseRange(S.trim())},this).filter(function(S){return S.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+f);this.format()}he.prototype.format=function(){return this.range=this.set.map(function(f){return f.join(" ").trim()}).join("||").trim(),this.range},he.prototype.toString=function(){return this.range},he.prototype.parseRange=function(f){var _=this.options.loose;f=f.trim();var S=_?o[Ae]:o[Ve];f=f.replace(S,et),t("hyphen replace",f),f=f.replace(o[re],ve),t("comparator trim",f,o[re]),f=f.replace(o[oe],ge),f=f.replace(o[Ee],se),f=f.split(/\s+/).join(" ");var C=_?o[$]:o[ee],R=f.split(" ").map(function(k){return qt(k,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(R=R.filter(function(k){return!!k.match(C)})),R=R.map(function(k){return new we(k,this.options)},this),R},he.prototype.intersects=function(f,_){if(!(f instanceof he))throw new TypeError("a Range is required");return this.set.some(function(S){return S.every(function(C){return f.set.some(function(R){return R.every(function(k){return C.intersects(k,_)})})})})},e.toComparators=ct;function ct(f,_){return new he(f,_).set.map(function(S){return S.map(function(C){return C.value}).join(" ").trim().split(" ")})}function qt(f,_){return t("comp",f,_),f=Tr(f,_),t("caret",f),f=Kt(f,_),t("tildes",f),f=je(f,_),t("xrange",f),f=Z(f,_),t("stars",f),f}function Ze(f){return!f||f.toLowerCase()==="x"||f==="*"}function Kt(f,_){return f.trim().split(/\s+/).map(function(S){return vr(S,_)}).join(" ")}function vr(f,_){var S=_.loose?o[Ue]:o[le];return f.replace(S,function(C,R,k,L,Q){t("tilde",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":Q?(t("replaceTilde pr",Q),te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0"):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0",t("tilde return",te),te})}function Tr(f,_){return f.trim().split(/\s+/).map(function(S){return Me(S,_)}).join(" ")}function Me(f,_){t("caret",f,_);var S=_.loose?o[rt]:o[We];return f.replace(S,function(C,R,k,L,Q){t("caret",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?R==="0"?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+".0 <"+(+R+1)+".0.0":Q?(t("replaceCaret pr",Q),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+"-"+Q+" <"+(+R+1)+".0.0"):(t("no pr"),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+" <"+(+R+1)+".0.0"),t("caret return",te),te})}function je(f,_){return t("replaceXRanges",f,_),f.split(/\s+/).map(function(S){return Se(S,_)}).join(" ")}function Se(f,_){f=f.trim();var S=_.loose?o[ot]:o[ut];return f.replace(S,function(C,R,k,L,Q,te){t("xRange",f,C,R,k,L,Q,te);var Fe=Ze(k),dt=Fe||Ze(L),qe=dt||Ze(Q),it=qe;return R==="="&&it&&(R=""),Fe?R===">"||R==="<"?C="<0.0.0":C="*":R&&it?(dt&&(L=0),Q=0,R===">"?(R=">=",dt?(k=+k+1,L=0,Q=0):(L=+L+1,Q=0)):R==="<="&&(R="<",dt?k=+k+1:L=+L+1),C=R+k+"."+L+"."+Q):dt?C=">="+k+".0.0 <"+(+k+1)+".0.0":qe&&(C=">="+k+"."+L+".0 <"+k+"."+(+L+1)+".0"),t("xRange return",C),C})}function Z(f,_){return t("replaceStars",f,_),f.trim().replace(o[Ne],"")}function et(f,_,S,C,R,k,L,Q,te,Fe,dt,qe,it){return Ze(S)?_="":Ze(C)?_=">="+S+".0.0":Ze(R)?_=">="+S+"."+C+".0":_=">="+_,Ze(te)?Q="":Ze(Fe)?Q="<"+(+te+1)+".0.0":Ze(dt)?Q="<"+te+"."+(+Fe+1)+".0":qe?Q="<="+te+"."+Fe+"."+dt+"-"+qe:Q="<="+Q,(_+" "+Q).trim()}he.prototype.test=function(f){if(!f)return!1;typeof f=="string"&&(f=new ue(f,this.options));for(var _=0;_<this.set.length;_++)if(ze(this.set[_],f,this.options))return!0;return!1};function ze(f,_,S){for(var C=0;C<f.length;C++)if(!f[C].test(_))return!1;if(_.prerelease.length&&!S.includePrerelease){for(C=0;C<f.length;C++)if(t(f[C].semver),f[C].semver!==Le&&f[C].semver.prerelease.length>0){var R=f[C].semver;if(R.major===_.major&&R.minor===_.minor&&R.patch===_.patch)return!0}return!1}return!0}e.satisfies=pe;function pe(f,_,S){try{_=new he(_,S)}catch{return!1}return _.test(f)}e.maxSatisfying=mt;function mt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===-1)&&(C=L,R=new ue(C,S))}),C}e.minSatisfying=bt;function bt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===1)&&(C=L,R=new ue(C,S))}),C}e.minVersion=Ct;function Ct(f,_){f=new he(f,_);var S=new ue("0.0.0");if(f.test(S)||(S=new ue("0.0.0-0"),f.test(S)))return S;S=null;for(var C=0;C<f.set.length;++C){var R=f.set[C];R.forEach(function(k){var L=new ue(k.semver.version);switch(k.operator){case">":L.prerelease.length===0?L.patch++:L.prerelease.push(0),L.raw=L.format();case"":case">=":(!S||He(S,L))&&(S=L);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+k.operator)}})}return S&&f.test(S)?S:null}e.validRange=Vt;function Vt(f,_){try{return new he(f,_).range||"*"}catch{return null}}e.ltr=$t;function $t(f,_,S){return nt(f,_,"<",S)}e.gtr=Ft;function Ft(f,_,S){return nt(f,_,">",S)}e.outside=nt;function nt(f,_,S,C){f=new ue(f,C),_=new he(_,C);var R,k,L,Q,te;switch(S){case">":R=He,k=Ye,L=$e,Q=">",te=">=";break;case"<":R=$e,k=Oe,L=He,Q="<",te="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pe(f,_,C))return!1;for(var Fe=0;Fe<_.set.length;++Fe){var dt=_.set[Fe],qe=null,it=null;if(dt.forEach(function(pt){pt.semver===Le&&(pt=new we(">=0.0.0")),qe=qe||pt,it=it||pt,R(pt.semver,qe.semver,C)?qe=pt:L(pt.semver,it.semver,C)&&(it=pt)}),qe.operator===Q||qe.operator===te||(!it.operator||it.operator===Q)&&k(f,it.semver)||it.operator===te&&L(f,it.semver))return!1}return!0}e.prerelease=Rt;function Rt(f,_){var S=Ot(f,_);return S&&S.prerelease.length?S.prerelease:null}e.intersects=lt;function lt(f,_,S){return f=new he(f,S),_=new he(_,S),f.intersects(_)}e.coerce=gt;function gt(f){if(f instanceof ue)return f;if(typeof f!="string")return null;var _=f.match(o[xt]);return _==null?null:Ot(_[1]+"."+(_[2]||"0")+"."+(_[3]||"0"))}}),$a=x((e,i)=>{"use strict";function t(d){return typeof d=="function"}var r=console.error.bind(console);function u(d,c,p){var v=!!d[c]&&d.propertyIsEnumerable(c);Object.defineProperty(d,c,{configurable:!0,enumerable:v,writable:!0,value:p})}function a(d){d&&d.logger&&(t(d.logger)?r=d.logger:r("new logger isn't a function, not replacing"))}function o(d,c,p){if(!d||!d[c]){r("no original function "+c+" to wrap");return}if(!p){r("no wrapper function"),r(new Error().stack);return}if(!t(d[c])||!t(p)){r("original object and wrapper must be functions");return}var v=d[c],m=p(v,c);return u(m,"__original",v),u(m,"__unwrap",function(){d[c]===m&&u(d,c,v)}),u(m,"__wrapped",!0),u(d,c,m),m}function n(d,c,p){if(d)Array.isArray(d)||(d=[d]);else{r("must provide one or more modules to patch"),r(new Error().stack);return}if(!(c&&Array.isArray(c))){r("must provide one or more functions to wrap on modules");return}d.forEach(function(v){c.forEach(function(m){o(v,m,p)})})}function s(d,c){if(!d||!d[c]){r("no function to unwrap."),r(new Error().stack);return}if(!d[c].__unwrap)r("no original to unwrap to -- has "+c+" already been unwrapped?");else return d[c].__unwrap()}function l(d,c){if(d)Array.isArray(d)||(d=[d]);else{r("must provide one or more modules to patch"),r(new Error().stack);return}if(!(c&&Array.isArray(c))){r("must provide one or more functions to unwrap on modules");return}d.forEach(function(p){c.forEach(function(v){s(p,v)})})}a.wrap=o,a.massWrap=n,a.unwrap=s,a.massUnwrap=l,i.exports=a}),Ka=x((e,i)=>{"use strict";var t=$a(),r=t.wrap,u=t.unwrap,a="wrap@before";function o(c,p,v){var m=!!c[p]&&c.propertyIsEnumerable(p);Object.defineProperty(c,p,{configurable:!0,enumerable:m,writable:!0,value:v})}function n(c,p){for(var v=p.length,m=0;m<v;m++){var g=p[m],E=c[a];if(typeof E=="function")E(g);else if(Array.isArray(E))for(var T=E.length,O=0;O<T;O++)E[O](g)}}function s(c,p){var v;return v=c._events&&c._events[p],Array.isArray(v)||(v?v=[v]:v=[]),v}function l(c,p,v){var m=s(c,p),g=m.filter(function(E){return v.indexOf(E)===-1});g.length>0&&n(c,g)}function d(c,p){if(c){var v=c;if(typeof c=="function")v=p(c);else if(Array.isArray(c)){v=[];for(var m=0;m<c.length;m++)v[m]=p(c[m])}return v}}i.exports=function(c,p,v){if(!c||!c.on||!c.addListener||!c.removeListener||!c.emit)throw new Error("can only wrap real EEs");if(!p)throw new Error("must have function to run on listener addition");if(!v)throw new Error("must have function to wrap listeners when emitting");function m(E){return function(T,O){var P=s(this,T).slice();try{var A=E.call(this,T,O);return l(this,T,P),A}finally{this.on.__wrapped||r(this,"on",m),this.addListener.__wrapped||r(this,"addListener",m)}}}function g(E){return function(T){if(!this._events||!this._events[T])return E.apply(this,arguments);var O=this._events[T];function P(A){return function(){this._events[T]=O;try{return A.apply(this,arguments)}finally{O=this._events[T],this._events[T]=d(O,v)}}}r(this,"removeListener",P);try{return this._events[T]=d(O,v),E.apply(this,arguments)}finally{u(this,"removeListener"),this._events[T]=O}}}c[a]?typeof c[a]=="function"?o(c,a,[c[a],p]):Array.isArray(c[a])&&c[a].push(p):o(c,a,p),c.__wrapped||(r(c,"addListener",m),r(c,"on",m),r(c,"emit",g),o(c,"__unwrap",function(){u(c,"addListener"),u(c,"on"),u(c,"emit"),delete c[a],delete c.__wrapped}),o(c,"__wrapped",!0))}}),Dv=x((e,i)=>{"use strict";var t=require("util"),r=require("assert"),u=Ka(),a=require("async_hooks"),o="cls@contexts",n="error@context",s=process.env.DEBUG_CLS_HOOKED,l=-1;i.exports={getNamespace:c,createNamespace:p,destroyNamespace:v,reset:m,ERROR_SYMBOL:n};function d(E){this.name=E,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}d.prototype.set=function(E,T){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[E]=T,s){let O=" ".repeat(this._indent<0?0:this._indent);g(O+"CONTEXT-SET KEY:"+E+"="+T+" in ns:"+this.name+" currentUid:"+l+" active:"+t.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return T},d.prototype.get=function(E){if(!this.active){if(s){let T=a.currentId(),O=a.triggerAsyncId(),P=" ".repeat(this._indent<0?0:this._indent);g(`${P}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${E}=undefined currentUid:${l} asyncHooksCurrentId:${T} triggerId:${O} len:${this._set.length}`)}return}if(s){let T=a.executionAsyncId(),O=a.triggerAsyncId(),P=" ".repeat(this._indent<0?0:this._indent);g(P+"CONTEXT-GETTING KEY:"+E+"="+this.active[E]+" ("+this.name+") currentUid:"+l+" active:"+t.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),g(`${P}CONTEXT-GETTING KEY: (${this.name}) ${E}=${this.active[E]} currentUid:${l} asyncHooksCurrentId:${T} triggerId:${O} len:${this._set.length} active:${t.inspect(this.active)}`)}return this.active[E]},d.prototype.createContext=function(){let E=Object.create(this.active?this.active:Object.prototype);if(E._ns_name=this.name,E.id=l,s){let T=a.executionAsyncId(),O=a.triggerAsyncId(),P=" ".repeat(this._indent<0?0:this._indent);g(`${P}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${T} triggerId:${O} len:${this._set.length} context:${t.inspect(E,{showHidden:!0,depth:2,colors:!0})}`)}return E},d.prototype.run=function(E){let T=this.createContext();this.enter(T);try{if(s){let O=a.triggerAsyncId(),P=a.executionAsyncId(),A=" ".repeat(this._indent<0?0:this._indent);g(`${A}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${O} asyncHooksCurrentId:${P} len:${this._set.length} context:${t.inspect(T)}`)}return E(T),T}catch(O){throw O&&(O[n]=T),O}finally{if(s){let O=a.triggerAsyncId(),P=a.executionAsyncId(),A=" ".repeat(this._indent<0?0:this._indent);g(`${A}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${O} asyncHooksCurrentId:${P} len:${this._set.length} ${t.inspect(T)}`)}this.exit(T)}},d.prototype.runAndReturn=function(E){let T;return this.run(function(O){T=E(O)}),T},d.prototype.runPromise=function(E){let T=this.createContext();this.enter(T);let O=E(T);if(!O||!O.then||!O.catch)throw new Error("fn must return a promise.");return s&&g("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+t.inspect(T)),O.then(P=>(s&&g("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+t.inspect(T)),this.exit(T),P)).catch(P=>{throw P[n]=T,s&&g("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+t.inspect(T)),this.exit(T),P})},d.prototype.bind=function(E,T){T||(this.active?T=this.active:T=this.createContext());let O=this;return function(){O.enter(T);try{return E.apply(this,arguments)}catch(P){throw P&&(P[n]=T),P}finally{O.exit(T)}}},d.prototype.enter=function(E){if(r.ok(E,"context must be provided for entering"),s){let T=a.executionAsyncId(),O=a.triggerAsyncId(),P=" ".repeat(this._indent<0?0:this._indent);g(`${P}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${O} asyncHooksCurrentId:${T} len:${this._set.length} ${t.inspect(E)}`)}this._set.push(this.active),this.active=E},d.prototype.exit=function(E){if(r.ok(E,"context must be provided for exiting"),s){let O=a.executionAsyncId(),P=a.triggerAsyncId(),A=" ".repeat(this._indent<0?0:this._indent);g(`${A}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${P} asyncHooksCurrentId:${O} len:${this._set.length} ${t.inspect(E)}`)}if(this.active===E){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let T=this._set.lastIndexOf(E);T<0?(s&&g("??ERROR?? context exiting but not entered - ignoring: "+t.inspect(E)),r.ok(T>=0,`context not currently entered; can't exit. 
`+t.inspect(this)+`
`+t.inspect(E))):(r.ok(T,"can't remove top context"),this._set.splice(T,1))},d.prototype.bindEmitter=function(E){r.ok(E.on&&E.addListener&&E.emit,"can only bind real EEs");let T=this,O="context@"+this.name;function P(M){!M||(M[o]||(M[o]=Object.create(null)),M[o][O]={namespace:T,context:T.active})}function A(M){if(!(M&&M[o]))return M;let j=M,G=M[o];return Object.keys(G).forEach(function(B){let Y=G[B];j=Y.namespace.bind(j,Y.context)}),j}u(E,P,A)},d.prototype.fromException=function(E){return E[n]};function c(E){return process.namespaces[E]}function p(E){r.ok(E,"namespace must be given a name."),s&&g(`NS-CREATING NAMESPACE (${E})`);let T=new d(E);return T.id=l,a.createHook({init(O,P,A,M){if(l=a.executionAsyncId(),T.active){if(T._contexts.set(O,T.active),s){let j=" ".repeat(T._indent<0?0:T._indent);g(`${j}INIT [${P}] (${E}) asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} resource:${M}`)}}else if(l===0){let j=a.triggerAsyncId(),G=T._contexts.get(j);if(G){if(T._contexts.set(O,G),s){let B=" ".repeat(T._indent<0?0:T._indent);g(`${B}INIT USING CONTEXT FROM TRIGGERID [${P}] (${E}) asyncId:${O} currentUid:${l} triggerId:${j} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} resource:${M}`)}}else if(s){let B=" ".repeat(T._indent<0?0:T._indent);g(`${B}INIT MISSING CONTEXT [${P}] (${E}) asyncId:${O} currentUid:${l} triggerId:${j} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} resource:${M}`)}}if(s&&P==="PROMISE"){g(t.inspect(M,{showHidden:!0}));let j=M.parentId,G=" ".repeat(T._indent<0?0:T._indent);g(`${G}INIT RESOURCE-PROMISE [${P}] (${E}) parentId:${j} asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} resource:${M}`)}},before(O){l=a.executionAsyncId();let P;if(P=T._contexts.get(O)||T._contexts.get(l),P){if(s){let A=a.triggerAsyncId(),M=" ".repeat(T._indent<0?0:T._indent);g(`${M}BEFORE (${E}) asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} context:${t.inspect(P)}`),T._indent+=2}T.enter(P)}else if(s){let A=a.triggerAsyncId(),M=" ".repeat(T._indent<0?0:T._indent);g(`${M}BEFORE MISSING CONTEXT (${E}) asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${t.inspect(T._contexts,{showHidden:!0,depth:2,colors:!0})}`),T._indent+=2}},after(O){l=a.executionAsyncId();let P;if(P=T._contexts.get(O)||T._contexts.get(l),P){if(s){let A=a.triggerAsyncId();T._indent-=2;let M=" ".repeat(T._indent<0?0:T._indent);g(`${M}AFTER (${E}) asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} context:${t.inspect(P)}`)}T.exit(P)}else if(s){let A=a.triggerAsyncId();T._indent-=2;let M=" ".repeat(T._indent<0?0:T._indent);g(`${M}AFTER MISSING CONTEXT (${E}) asyncId:${O} currentUid:${l} triggerId:${A} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} context:${t.inspect(P)}`)}},destroy(O){if(l=a.executionAsyncId(),s){let P=a.triggerAsyncId(),A=" ".repeat(T._indent<0?0:T._indent);g(`${A}DESTROY (${E}) currentUid:${l} asyncId:${O} triggerId:${P} active:${t.inspect(T.active,{showHidden:!0,depth:2,colors:!0})} context:${t.inspect(T._contexts.get(l))}`)}T._contexts.delete(O)}}).enable(),process.namespaces[E]=T,T}function v(E){let T=c(E);r.ok(T,`can't delete nonexistent namespace! "`+E+'"'),r.ok(T.id,"don't assign to process.namespaces directly! "+t.inspect(T)),process.namespaces[E]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(E){v(E)}),process.namespaces=Object.create(null)}process.namespaces={};function g(...E){s&&process._rawDebug(`${t.format(...E)}`)}}),xv=x((e,i)=>{"use strict";function t(){}i.exports=function(){let r=this._hooks,u=this._state,a=process.nextTick;process.nextTick=function(){if(!u.enabled)return a.apply(process,arguments);let o=new Array(arguments.length);for(let d=0;d<arguments.length;d++)o[d]=arguments[d];let n=o[0];if(typeof n!="function")throw new TypeError("callback is not a function");let s=new t,l=--u.counter;return r.init.call(s,l,0,null,null),o[0]=function(){r.pre.call(s,l);let d=!0;try{n.apply(this,arguments),d=!1}finally{d&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){r.post.call(s,l,!0),r.destroy.call(null,l)})}r.post.call(s,l,!1),r.destroy.call(null,l)},a.apply(process,o)}}}),Nv=x((e,i)=>{"use strict";function t(){}i.exports=function(){let r=this._hooks,u=this._state,a=global.Promise,o=a.prototype.then;a.prototype.then=d;function n(c,p,v,m){return typeof c!="function"?m?s(v):l(v):function(){r.pre.call(p,v);try{return c.apply(this,arguments)}finally{r.post.call(p,v,!1),r.destroy.call(null,v)}}}function s(c){return function(p){return r.destroy.call(null,c),p}}function l(c){return function(p){throw r.destroy.call(null,c),p}}function d(c,p){if(!u.enabled)return o.call(this,c,p);let v=new t,m=--u.counter;return r.init.call(v,m,0,null,null),o.call(this,n(c,v,m,!0),n(p,v,m,!1))}}}),Mv=x((e,i)=>{"use strict";var t=require("timers");function r(){}function u(){}function a(){}var o=new Map,n=new Map,s=new Map,l=null,d=!1;i.exports=function(){c(this._hooks,this._state,"setTimeout","clearTimeout",r,o,!0),c(this._hooks,this._state,"setInterval","clearInterval",u,n,!1),c(this._hooks,this._state,"setImmediate","clearImmediate",a,s,!0),global.setTimeout=t.setTimeout,global.setInterval=t.setInterval,global.setImmediate=t.setImmediate,global.clearTimeout=t.clearTimeout,global.clearInterval=t.clearInterval,global.clearImmediate=t.clearImmediate};function c(p,v,m,g,E,T,O){let P=t[m],A=t[g];t[m]=function(){if(!v.enabled)return P.apply(t,arguments);let M=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)M[ne]=arguments[ne];let j=M[0];if(typeof j!="function")throw new TypeError('"callback" argument must be a function');let G=new E,B=--v.counter,Y;return p.init.call(G,B,0,null,null),M[0]=function(){l=Y,p.pre.call(G,B);let ne=!0;try{j.apply(this,arguments),ne=!1}finally{ne&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){p.post.call(G,B,!0),T.delete(Y),p.destroy.call(null,B)})}p.post.call(G,B,!1),l=null,(O||d)&&(d=!1,T.delete(Y),p.destroy.call(null,B))},Y=P.apply(t,M),T.set(Y,B),Y},t[g]=function(M){if(l===M&&M!==null)d=!0;else if(T.has(M)){let j=T.get(M);T.delete(M),p.destroy.call(null,j)}A.apply(t,arguments)}}}),_l=x((e,i)=>{i.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),kv=x((e,i)=>{"use strict";var t=process.binding("async_wrap"),r=t.Providers.TIMERWRAP,u={nextTick:xv(),promise:Nv(),timers:Mv()},a=new Set;function o(){this.enabled=!1,this.counter=0}function n(){let d=this.initFns=[],c=this.preFns=[],p=this.postFns=[],v=this.destroyFns=[];this.init=function(m,g,E,T){if(g===r){a.add(m);return}for(let O of d)O(m,this,g,E,T)},this.pre=function(m){if(!a.has(m))for(let g of c)g(m,this)},this.post=function(m,g){if(!a.has(m))for(let E of p)E(m,this,g)},this.destroy=function(m){if(a.has(m)){a.delete(m);return}for(let g of v)g(m)}}n.prototype.add=function(d){d.init&&this.initFns.push(d.init),d.pre&&this.preFns.push(d.pre),d.post&&this.postFns.push(d.post),d.destroy&&this.destroyFns.push(d.destroy)};function s(d,c){let p=d.indexOf(c);p!==-1&&d.splice(p,1)}n.prototype.remove=function(d){d.init&&s(this.initFns,d.init),d.pre&&s(this.preFns,d.pre),d.post&&s(this.postFns,d.post),d.destroy&&s(this.destroyFns,d.destroy)};function l(){this._state=new o,this._hooks=new n,this.version=_l().version,this.providers=t.Providers;for(let d of Object.keys(u))u[d].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),t.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}i.exports=l,l.prototype.addHooks=function(d){this._hooks.add(d)},l.prototype.removeHooks=function(d){this._hooks.remove(d)},l.prototype.enable=function(){this._state.enabled=!0,t.enable()},l.prototype.disable=function(){this._state.enabled=!1,t.disable()}}),yl=x((e,i)=>{i.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Lv=x((e,i)=>{function t(r){try{return Error.prototype.toString.call(r)}catch(u){try{return"<error: "+u+">"}catch{return"<error>"}}}i.exports=function(r,u){var a=[];a.push(t(r));for(var o=0;o<u.length;o++){var n=u[o],s;try{s=n.toString()}catch(l){try{s="<error: "+l+">"}catch{s="<error>"}}a.push("    at "+s)}return a.join(`
`)}}),jv=x((e,i)=>{var t=Lv();function r(){this.extend=new o,this.filter=new o,this.format=new n,this.version=yl().version}var u=!1;r.prototype.callSite=function c(p){p||(p={}),u=!0;var v={};Error.captureStackTrace(v,c);var m=v.stack;return u=!1,m=m.slice(p.slice||0),p.extend&&(m=this.extend._modify(v,m)),p.filter&&(m=this.filter._modify(v,m)),m};var a=new r;function o(){this._modifiers=[]}o.prototype._modify=function(c,p){for(var v=0,m=this._modifiers.length;v<m;v++)p=this._modifiers[v](c,p);return p},o.prototype.attach=function(c){this._modifiers.push(c)},o.prototype.deattach=function(c){var p=this._modifiers.indexOf(c);return p===-1?!1:(this._modifiers.splice(p,1),!0)};function n(){this._formater=t,this._previous=void 0}n.prototype.replace=function(c){c?this._formater=c:this.restore()},n.prototype.restore=function(){this._formater=t,this._previous=void 0},n.prototype._backup=function(){this._previous=this._formater},n.prototype._roolback=function(){this._previous===t?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&a.format.replace(Error.prepareStackTrace);var s=!1;function l(c,p){if(u)return p;if(s)return t(c,p);var v=p.concat();v=a.extend._modify(c,v),v=a.filter._modify(c,v),v=v.slice(0,Error.stackTraceLimit),Object.isExtensible(c)&&Object.getOwnPropertyDescriptor(c,"callSite")===void 0&&(c.callSite={original:p,mutated:v}),s=!0;var m=a.format._formater(c,v);return s=!1,m}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(c){c===l?a.format._roolback():(a.format._backup(),a.format.replace(c))}});function d(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:d,set:function(c){Object.defineProperty(this,"callSite",{value:c,writable:!0,configurable:!0})},configurable:!0}),i.exports=a}),El=x((e,i)=>{if(global._stackChain)if(global._stackChain.version===yl().version)i.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else i.exports=global._stackChain=jv()}),Fv=x((e,i)=>{"use strict";var t=kv();if(global._asyncHook)if(global._asyncHook.version===_l().version)i.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else El().filter.attach(function(r,u){return u.filter(function(a){let o=a.getFileName();return!(o&&o.slice(0,__dirname.length)===__dirname)})}),i.exports=global._asyncHook=new t}),Uv=x((e,i)=>{"use strict";var t=require("util"),r=require("assert"),u=Ka(),a=Fv(),o="cls@contexts",n="error@context",s=[];for(let A in a.providers)s[a.providers[A]]=A;var l=process.env.DEBUG_CLS_HOOKED,d=-1;i.exports={getNamespace:p,createNamespace:v,destroyNamespace:m,reset:g,ERROR_SYMBOL:n};function c(A){this.name=A,this.active=null,this._set=[],this.id=null,this._contexts=new Map}c.prototype.set=function(A,M){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&E("    SETTING KEY:"+A+"="+M+" in ns:"+this.name+" uid:"+d+" active:"+t.inspect(this.active,!0)),this.active[A]=M,M},c.prototype.get=function(A){if(!this.active){l&&E("    GETTING KEY:"+A+"=undefined "+this.name+" uid:"+d+" active:"+t.inspect(this.active,!0));return}return l&&E("    GETTING KEY:"+A+"="+this.active[A]+" "+this.name+" uid:"+d+" active:"+t.inspect(this.active,!0)),this.active[A]},c.prototype.createContext=function(){l&&E("   CREATING Context: "+this.name+" uid:"+d+" len:"+this._set.length+"  active:"+t.inspect(this.active,!0,2,!0));let A=Object.create(this.active?this.active:Object.prototype);return A._ns_name=this.name,A.id=d,l&&E("   CREATED Context: "+this.name+" uid:"+d+" len:"+this._set.length+"  context:"+t.inspect(A,!0,2,!0)),A},c.prototype.run=function(A){let M=this.createContext();this.enter(M);try{return l&&E(" BEFORE RUN: "+this.name+" uid:"+d+" len:"+this._set.length+" "+t.inspect(M)),A(M),M}catch(j){throw j&&(j[n]=M),j}finally{l&&E(" AFTER RUN: "+this.name+" uid:"+d+" len:"+this._set.length+" "+t.inspect(M)),this.exit(M)}},c.prototype.runAndReturn=function(A){var M;return this.run(function(j){M=A(j)}),M},c.prototype.runPromise=function(A){let M=this.createContext();this.enter(M);let j=A(M);if(!j||!j.then||!j.catch)throw new Error("fn must return a promise.");return l&&E(" BEFORE runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+t.inspect(M)),j.then(G=>(l&&E(" AFTER runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+t.inspect(M)),this.exit(M),G)).catch(G=>{throw G[n]=M,l&&E(" AFTER runPromise: "+this.name+" uid:"+d+" len:"+this._set.length+" "+t.inspect(M)),this.exit(M),G})},c.prototype.bind=function(A,M){M||(this.active?M=this.active:M=this.createContext());let j=this;return function(){j.enter(M);try{return A.apply(this,arguments)}catch(G){throw G&&(G[n]=M),G}finally{j.exit(M)}}},c.prototype.enter=function(A){r.ok(A,"context must be provided for entering"),l&&E("  ENTER "+this.name+" uid:"+d+" len:"+this._set.length+" context: "+t.inspect(A)),this._set.push(this.active),this.active=A},c.prototype.exit=function(A){if(r.ok(A,"context must be provided for exiting"),l&&E("  EXIT "+this.name+" uid:"+d+" len:"+this._set.length+" context: "+t.inspect(A)),this.active===A){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let M=this._set.lastIndexOf(A);M<0?(l&&E("??ERROR?? context exiting but not entered - ignoring: "+t.inspect(A)),r.ok(M>=0,`context not currently entered; can't exit. 
`+t.inspect(this)+`
`+t.inspect(A))):(r.ok(M,"can't remove top context"),this._set.splice(M,1))},c.prototype.bindEmitter=function(A){r.ok(A.on&&A.addListener&&A.emit,"can only bind real EEs");let M=this,j="context@"+this.name;function G(Y){!Y||(Y[o]||(Y[o]=Object.create(null)),Y[o][j]={namespace:M,context:M.active})}function B(Y){if(!(Y&&Y[o]))return Y;let ne=Y,ye=Y[o];return Object.keys(ye).forEach(function(Re){let ut=ye[Re];ne=ut.namespace.bind(ne,ut.context)}),ne}u(A,G,B)},c.prototype.fromException=function(A){return A[n]};function p(A){return process.namespaces[A]}function v(A){r.ok(A,"namespace must be given a name."),l&&E("CREATING NAMESPACE "+A);let M=new c(A);return M.id=d,a.addHooks({init(j,G,B,Y,ne){d=j,Y?(M._contexts.set(j,M._contexts.get(Y)),l&&E("PARENTID: "+A+" uid:"+j+" parent:"+Y+" provider:"+B)):M._contexts.set(d,M.active),l&&E("INIT "+A+" uid:"+j+" parent:"+Y+" provider:"+s[B]+" active:"+t.inspect(M.active,!0))},pre(j,G){d=j;let B=M._contexts.get(j);B?(l&&E(" PRE "+A+" uid:"+j+" handle:"+T(G)+" context:"+t.inspect(B)),M.enter(B)):l&&E(" PRE MISSING CONTEXT "+A+" uid:"+j+" handle:"+T(G))},post(j,G){d=j;let B=M._contexts.get(j);B?(l&&E(" POST "+A+" uid:"+j+" handle:"+T(G)+" context:"+t.inspect(B)),M.exit(B)):l&&E(" POST MISSING CONTEXT "+A+" uid:"+j+" handle:"+T(G))},destroy(j){d=j,l&&E("DESTROY "+A+" uid:"+j+" context:"+t.inspect(M._contexts.get(d))+" active:"+t.inspect(M.active,!0)),M._contexts.delete(j)}}),process.namespaces[A]=M,M}function m(A){let M=p(A);r.ok(M,`can't delete nonexistent namespace! "`+A+'"'),r.ok(M.id,"don't assign to process.namespaces directly! "+t.inspect(M)),process.namespaces[A]=null}function g(){process.namespaces&&Object.keys(process.namespaces).forEach(function(A){m(A)}),process.namespaces=Object.create(null)}process.namespaces={},a._state&&!a._state.enabled&&a.enable();function E(A){process.env.DEBUG&&process._rawDebug(A)}function T(A){if(!A)return A;if(typeof A=="function")return A.name?A.name:(A.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(A.constructor&&A.constructor.name)return A.constructor.name}if(l){O=El();for(P in O.filter._modifiers)O.filter.deattach(P)}var O,P}),Hv=x((e,i)=>{"use strict";var t=Rv();process&&t.gte(process.versions.node,"8.0.0")?i.exports=Dv():i.exports=Uv()}),qv=x((e,i)=>{e=i.exports=ue;var t;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?t=function(){var f=Array.prototype.slice.call(arguments,0);f.unshift("SEMVER"),console.log.apply(console,f)}:t=function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,u=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,o=e.re=[],n=e.src=[],s=0,l=s++;n[l]="0|[1-9]\\d*";var d=s++;n[d]="[0-9]+";var c=s++;n[c]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=s++;n[p]="("+n[l]+")\\.("+n[l]+")\\.("+n[l]+")";var v=s++;n[v]="("+n[d]+")\\.("+n[d]+")\\.("+n[d]+")";var m=s++;n[m]="(?:"+n[l]+"|"+n[c]+")";var g=s++;n[g]="(?:"+n[d]+"|"+n[c]+")";var E=s++;n[E]="(?:-("+n[m]+"(?:\\."+n[m]+")*))";var T=s++;n[T]="(?:-?("+n[g]+"(?:\\."+n[g]+")*))";var O=s++;n[O]="[0-9A-Za-z-]+";var P=s++;n[P]="(?:\\+("+n[O]+"(?:\\."+n[O]+")*))";var A=s++,M="v?"+n[p]+n[E]+"?"+n[P]+"?";n[A]="^"+M+"$";var j="[v=\\s]*"+n[v]+n[T]+"?"+n[P]+"?",G=s++;n[G]="^"+j+"$";var B=s++;n[B]="((?:<|>)?=?)";var Y=s++;n[Y]=n[d]+"|x|X|\\*";var ne=s++;n[ne]=n[l]+"|x|X|\\*";var ye=s++;n[ye]="[v=\\s]*("+n[ne]+")(?:\\.("+n[ne]+")(?:\\.("+n[ne]+")(?:"+n[E]+")?"+n[P]+"?)?)?";var Re=s++;n[Re]="[v=\\s]*("+n[Y]+")(?:\\.("+n[Y]+")(?:\\.("+n[Y]+")(?:"+n[T]+")?"+n[P]+"?)?)?";var ut=s++;n[ut]="^"+n[B]+"\\s*"+n[ye]+"$";var ot=s++;n[ot]="^"+n[B]+"\\s*"+n[Re]+"$";var xt=s++;n[xt]="(?:^|[^\\d])(\\d{1,"+a+"})(?:\\.(\\d{1,"+a+"}))?(?:\\.(\\d{1,"+a+"}))?(?:$|[^\\d])";var st=s++;n[st]="(?:~>?)";var oe=s++;n[oe]="(\\s*)"+n[st]+"\\s+",o[oe]=new RegExp(n[oe],"g");var ge="$1~",le=s++;n[le]="^"+n[st]+n[ye]+"$";var Ue=s++;n[Ue]="^"+n[st]+n[Re]+"$";var X=s++;n[X]="(?:\\^)";var Ee=s++;n[Ee]="(\\s*)"+n[X]+"\\s+",o[Ee]=new RegExp(n[Ee],"g");var se="$1^",We=s++;n[We]="^"+n[X]+n[ye]+"$";var rt=s++;n[rt]="^"+n[X]+n[Re]+"$";var $=s++;n[$]="^"+n[B]+"\\s*("+j+")$|^$";var ee=s++;n[ee]="^"+n[B]+"\\s*("+M+")$|^$";var re=s++;n[re]="(\\s*)"+n[B]+"\\s*("+j+"|"+n[ye]+")",o[re]=new RegExp(n[re],"g");var ve="$1$2$3",Ve=s++;n[Ve]="^\\s*("+n[ye]+")\\s+-\\s+("+n[ye]+")\\s*$";var Ae=s++;n[Ae]="^\\s*("+n[Re]+")\\s+-\\s+("+n[Re]+")\\s*$";var Ne=s++;for(n[Ne]="(<|>)?=?\\s*\\*",Qe=0;Qe<s;Qe++)t(Qe,n[Qe]),o[Qe]||(o[Qe]=new RegExp(n[Qe]));var Qe;e.parse=Ot;function Ot(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue)return f;if(typeof f!="string"||f.length>r)return null;var S=_.loose?o[G]:o[A];if(!S.test(f))return null;try{return new ue(f,_)}catch{return null}}e.valid=Er;function Er(f,_){var S=Ot(f,_);return S?S.version:null}e.clean=hr;function hr(f,_){var S=Ot(f.trim().replace(/^[=v]+/,""),_);return S?S.version:null}e.SemVer=ue;function ue(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof ue){if(f.loose===_.loose)return f;f=f.version}else if(typeof f!="string")throw new TypeError("Invalid Version: "+f);if(f.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof ue))return new ue(f,_);t("SemVer",f,_),this.options=_,this.loose=!!_.loose;var S=f.trim().match(_.loose?o[G]:o[A]);if(!S)throw new TypeError("Invalid Version: "+f);if(this.raw=f,this.major=+S[1],this.minor=+S[2],this.patch=+S[3],this.major>u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u||this.patch<0)throw new TypeError("Invalid patch version");S[4]?this.prerelease=S[4].split(".").map(function(C){if(/^[0-9]+$/.test(C)){var R=+C;if(R>=0&&R<u)return R}return C}):this.prerelease=[],this.build=S[5]?S[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ue.prototype.toString=function(){return this.version},ue.prototype.compare=function(f){return t("SemVer.compare",this.version,this.options,f),f instanceof ue||(f=new ue(f,this.options)),this.compareMain(f)||this.comparePre(f)},ue.prototype.compareMain=function(f){return f instanceof ue||(f=new ue(f,this.options)),Ht(this.major,f.major)||Ht(this.minor,f.minor)||Ht(this.patch,f.patch)},ue.prototype.comparePre=function(f){if(f instanceof ue||(f=new ue(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;var _=0;do{var S=this.prerelease[_],C=f.prerelease[_];if(t("prerelease compare",_,S,C),S===void 0&&C===void 0)return 0;if(C===void 0)return 1;if(S===void 0)return-1;if(S!==C)return Ht(S,C)}while(++_)},ue.prototype.inc=function(f,_){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",_);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",_);break;case"prepatch":this.prerelease.length=0,this.inc("patch",_),this.inc("pre",_);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",_),this.inc("pre",_);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var S=this.prerelease.length;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);S===-1&&this.prerelease.push(0)}_&&(this.prerelease[0]===_?isNaN(this.prerelease[1])&&(this.prerelease=[_,0]):this.prerelease=[_,0]);break;default:throw new Error("invalid increment argument: "+f)}return this.format(),this.raw=this.version,this},e.inc=br;function br(f,_,S,C){typeof S=="string"&&(C=S,S=void 0);try{return new ue(f,S).inc(_,C).version}catch{return null}}e.diff=nr;function nr(f,_){if(Tt(f,_))return null;var S=Ot(f),C=Ot(_),R="";if(S.prerelease.length||C.prerelease.length){R="pre";var k="prerelease"}for(var L in S)if((L==="major"||L==="minor"||L==="patch")&&S[L]!==C[L])return R+L;return k}e.compareIdentifiers=Ht;var Wt=/^[0-9]+$/;function Ht(f,_){var S=Wt.test(f),C=Wt.test(_);return S&&C&&(f=+f,_=+_),f===_?0:S&&!C?-1:C&&!S?1:f<_?-1:1}e.rcompareIdentifiers=ar;function ar(f,_){return Ht(_,f)}e.major=ir;function ir(f,_){return new ue(f,_).major}e.minor=Sr;function Sr(f,_){return new ue(f,_).minor}e.patch=ie;function ie(f,_){return new ue(f,_).patch}e.compare=K;function K(f,_,S){return new ue(f,S).compare(new ue(_,S))}e.compareLoose=xe;function xe(f,_){return K(f,_,!0)}e.rcompare=Te;function Te(f,_,S){return K(_,f,S)}e.sort=vt;function vt(f,_){return f.sort(function(S,C){return e.compare(S,C,_)})}e.rsort=Ke;function Ke(f,_){return f.sort(function(S,C){return e.rcompare(S,C,_)})}e.gt=He;function He(f,_,S){return K(f,_,S)>0}e.lt=$e;function $e(f,_,S){return K(f,_,S)<0}e.eq=Tt;function Tt(f,_,S){return K(f,_,S)===0}e.neq=It;function It(f,_,S){return K(f,_,S)!==0}e.gte=Oe;function Oe(f,_,S){return K(f,_,S)>=0}e.lte=Ye;function Ye(f,_,S){return K(f,_,S)<=0}e.cmp=ae;function ae(f,_,S,C){switch(_){case"===":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f===S;case"!==":return typeof f=="object"&&(f=f.version),typeof S=="object"&&(S=S.version),f!==S;case"":case"=":case"==":return Tt(f,S,C);case"!=":return It(f,S,C);case">":return He(f,S,C);case">=":return Oe(f,S,C);case"<":return $e(f,S,C);case"<=":return Ye(f,S,C);default:throw new TypeError("Invalid operator: "+_)}}e.Comparator=we;function we(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof we){if(f.loose===!!_.loose)return f;f=f.value}if(!(this instanceof we))return new we(f,_);t("comparator",f,_),this.options=_,this.loose=!!_.loose,this.parse(f),this.semver===Le?this.value="":this.value=this.operator+this.semver.version,t("comp",this)}var Le={};we.prototype.parse=function(f){var _=this.options.loose?o[$]:o[ee],S=f.match(_);if(!S)throw new TypeError("Invalid comparator: "+f);this.operator=S[1],this.operator==="="&&(this.operator=""),S[2]?this.semver=new ue(S[2],this.options.loose):this.semver=Le},we.prototype.toString=function(){return this.value},we.prototype.test=function(f){return t("Comparator.test",f,this.options.loose),this.semver===Le?!0:(typeof f=="string"&&(f=new ue(f,this.options)),ae(f,this.operator,this.semver,this.options))},we.prototype.intersects=function(f,_){if(!(f instanceof we))throw new TypeError("a Comparator is required");(!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1});var S;if(this.operator==="")return S=new he(f.value,_),pe(this.value,S,_);if(f.operator==="")return S=new he(this.value,_),pe(f.semver,S,_);var C=(this.operator===">="||this.operator===">")&&(f.operator===">="||f.operator===">"),R=(this.operator==="<="||this.operator==="<")&&(f.operator==="<="||f.operator==="<"),k=this.semver.version===f.semver.version,L=(this.operator===">="||this.operator==="<=")&&(f.operator===">="||f.operator==="<="),Q=ae(this.semver,"<",f.semver,_)&&(this.operator===">="||this.operator===">")&&(f.operator==="<="||f.operator==="<"),te=ae(this.semver,">",f.semver,_)&&(this.operator==="<="||this.operator==="<")&&(f.operator===">="||f.operator===">");return C||R||k&&L||Q||te},e.Range=he;function he(f,_){if((!_||typeof _!="object")&&(_={loose:!!_,includePrerelease:!1}),f instanceof he)return f.loose===!!_.loose&&f.includePrerelease===!!_.includePrerelease?f:new he(f.raw,_);if(f instanceof we)return new he(f.value,_);if(!(this instanceof he))return new he(f,_);if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=f,this.set=f.split(/\s*\|\|\s*/).map(function(S){return this.parseRange(S.trim())},this).filter(function(S){return S.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+f);this.format()}he.prototype.format=function(){return this.range=this.set.map(function(f){return f.join(" ").trim()}).join("||").trim(),this.range},he.prototype.toString=function(){return this.range},he.prototype.parseRange=function(f){var _=this.options.loose;f=f.trim();var S=_?o[Ae]:o[Ve];f=f.replace(S,et),t("hyphen replace",f),f=f.replace(o[re],ve),t("comparator trim",f,o[re]),f=f.replace(o[oe],ge),f=f.replace(o[Ee],se),f=f.split(/\s+/).join(" ");var C=_?o[$]:o[ee],R=f.split(" ").map(function(k){return qt(k,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(R=R.filter(function(k){return!!k.match(C)})),R=R.map(function(k){return new we(k,this.options)},this),R},he.prototype.intersects=function(f,_){if(!(f instanceof he))throw new TypeError("a Range is required");return this.set.some(function(S){return S.every(function(C){return f.set.some(function(R){return R.every(function(k){return C.intersects(k,_)})})})})},e.toComparators=ct;function ct(f,_){return new he(f,_).set.map(function(S){return S.map(function(C){return C.value}).join(" ").trim().split(" ")})}function qt(f,_){return t("comp",f,_),f=Tr(f,_),t("caret",f),f=Kt(f,_),t("tildes",f),f=je(f,_),t("xrange",f),f=Z(f,_),t("stars",f),f}function Ze(f){return!f||f.toLowerCase()==="x"||f==="*"}function Kt(f,_){return f.trim().split(/\s+/).map(function(S){return vr(S,_)}).join(" ")}function vr(f,_){var S=_.loose?o[Ue]:o[le];return f.replace(S,function(C,R,k,L,Q){t("tilde",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":Q?(t("replaceTilde pr",Q),te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0"):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0",t("tilde return",te),te})}function Tr(f,_){return f.trim().split(/\s+/).map(function(S){return Me(S,_)}).join(" ")}function Me(f,_){t("caret",f,_);var S=_.loose?o[rt]:o[We];return f.replace(S,function(C,R,k,L,Q){t("caret",f,C,R,k,L,Q);var te;return Ze(R)?te="":Ze(k)?te=">="+R+".0.0 <"+(+R+1)+".0.0":Ze(L)?R==="0"?te=">="+R+"."+k+".0 <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+".0 <"+(+R+1)+".0.0":Q?(t("replaceCaret pr",Q),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+"-"+Q+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+"-"+Q+" <"+(+R+1)+".0.0"):(t("no pr"),R==="0"?k==="0"?te=">="+R+"."+k+"."+L+" <"+R+"."+k+"."+(+L+1):te=">="+R+"."+k+"."+L+" <"+R+"."+(+k+1)+".0":te=">="+R+"."+k+"."+L+" <"+(+R+1)+".0.0"),t("caret return",te),te})}function je(f,_){return t("replaceXRanges",f,_),f.split(/\s+/).map(function(S){return Se(S,_)}).join(" ")}function Se(f,_){f=f.trim();var S=_.loose?o[ot]:o[ut];return f.replace(S,function(C,R,k,L,Q,te){t("xRange",f,C,R,k,L,Q,te);var Fe=Ze(k),dt=Fe||Ze(L),qe=dt||Ze(Q),it=qe;return R==="="&&it&&(R=""),Fe?R===">"||R==="<"?C="<0.0.0":C="*":R&&it?(dt&&(L=0),Q=0,R===">"?(R=">=",dt?(k=+k+1,L=0,Q=0):(L=+L+1,Q=0)):R==="<="&&(R="<",dt?k=+k+1:L=+L+1),C=R+k+"."+L+"."+Q):dt?C=">="+k+".0.0 <"+(+k+1)+".0.0":qe&&(C=">="+k+"."+L+".0 <"+k+"."+(+L+1)+".0"),t("xRange return",C),C})}function Z(f,_){return t("replaceStars",f,_),f.trim().replace(o[Ne],"")}function et(f,_,S,C,R,k,L,Q,te,Fe,dt,qe,it){return Ze(S)?_="":Ze(C)?_=">="+S+".0.0":Ze(R)?_=">="+S+"."+C+".0":_=">="+_,Ze(te)?Q="":Ze(Fe)?Q="<"+(+te+1)+".0.0":Ze(dt)?Q="<"+te+"."+(+Fe+1)+".0":qe?Q="<="+te+"."+Fe+"."+dt+"-"+qe:Q="<="+Q,(_+" "+Q).trim()}he.prototype.test=function(f){if(!f)return!1;typeof f=="string"&&(f=new ue(f,this.options));for(var _=0;_<this.set.length;_++)if(ze(this.set[_],f,this.options))return!0;return!1};function ze(f,_,S){for(var C=0;C<f.length;C++)if(!f[C].test(_))return!1;if(_.prerelease.length&&!S.includePrerelease){for(C=0;C<f.length;C++)if(t(f[C].semver),f[C].semver!==Le&&f[C].semver.prerelease.length>0){var R=f[C].semver;if(R.major===_.major&&R.minor===_.minor&&R.patch===_.patch)return!0}return!1}return!0}e.satisfies=pe;function pe(f,_,S){try{_=new he(_,S)}catch{return!1}return _.test(f)}e.maxSatisfying=mt;function mt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===-1)&&(C=L,R=new ue(C,S))}),C}e.minSatisfying=bt;function bt(f,_,S){var C=null,R=null;try{var k=new he(_,S)}catch{return null}return f.forEach(function(L){k.test(L)&&(!C||R.compare(L)===1)&&(C=L,R=new ue(C,S))}),C}e.minVersion=Ct;function Ct(f,_){f=new he(f,_);var S=new ue("0.0.0");if(f.test(S)||(S=new ue("0.0.0-0"),f.test(S)))return S;S=null;for(var C=0;C<f.set.length;++C){var R=f.set[C];R.forEach(function(k){var L=new ue(k.semver.version);switch(k.operator){case">":L.prerelease.length===0?L.patch++:L.prerelease.push(0),L.raw=L.format();case"":case">=":(!S||He(S,L))&&(S=L);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+k.operator)}})}return S&&f.test(S)?S:null}e.validRange=Vt;function Vt(f,_){try{return new he(f,_).range||"*"}catch{return null}}e.ltr=$t;function $t(f,_,S){return nt(f,_,"<",S)}e.gtr=Ft;function Ft(f,_,S){return nt(f,_,">",S)}e.outside=nt;function nt(f,_,S,C){f=new ue(f,C),_=new he(_,C);var R,k,L,Q,te;switch(S){case">":R=He,k=Ye,L=$e,Q=">",te=">=";break;case"<":R=$e,k=Oe,L=He,Q="<",te="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pe(f,_,C))return!1;for(var Fe=0;Fe<_.set.length;++Fe){var dt=_.set[Fe],qe=null,it=null;if(dt.forEach(function(pt){pt.semver===Le&&(pt=new we(">=0.0.0")),qe=qe||pt,it=it||pt,R(pt.semver,qe.semver,C)?qe=pt:L(pt.semver,it.semver,C)&&(it=pt)}),qe.operator===Q||qe.operator===te||(!it.operator||it.operator===Q)&&k(f,it.semver)||it.operator===te&&L(f,it.semver))return!1}return!0}e.prerelease=Rt;function Rt(f,_){var S=Ot(f,_);return S&&S.prerelease.length?S.prerelease:null}e.intersects=lt;function lt(f,_,S){return f=new he(f,S),_=new he(_,S),f.intersects(_)}e.coerce=gt;function gt(f){if(f instanceof ue)return f;if(typeof f!="string")return null;var _=f.match(o[xt]);return _==null?null:Ot(_[1]+"."+(_[2]||"0")+"."+(_[3]||"0"))}}),Bv=x((e,i)=>{var t=$a().wrap,r=1,u=2,a=4,o=8,n=[],s=0,l=!1,d=[],c,p;function v(G,B){var Y=G.length,ne=B.length,ye=[];if(Y===0&&ne===0)return ye;for(var Re=0;Re<Y;Re++)ye[Re]=G[Re];if(ne===0)return ye;for(var ut=0;ut<ne;ut++){var ot=!0;for(Re=0;Re<Y;Re++)if(G[Re].uid===B[ut].uid){ot=!1;break}ot&&ye.push(B[ut])}return ye}process._fatalException?(m=!1,c=function(G){var B=n.length;if(m||B===0)return!1;var Y=!1;m=!0;for(var ne=0;ne<B;++ne){var ye=n[ne];if(ye.flags&o){var Re=g&&g[ye.uid];Y=ye.error(Re,G)||Y}}return m=!1,d.length>0&&(n=d.pop()),g=void 0,Y&&!l},p=function(G,B,Y){var ne=[];l=!0;for(var ye=0;ye<Y;++ye){var Re=B[ye];if(ne[Re.uid]=Re.data,(Re.flags&r)!==0){var ut=Re.create(Re.data);ut!==void 0&&(ne[Re.uid]=ut)}}return l=!1,function(){g=ne,d.push(n),n=v(B,n),l=!0;for(var ot=0;ot<Y;++ot)(B[ot].flags&u)>0&&B[ot].before(this,ne[B[ot].uid]);l=!1;var xt=G.apply(this,arguments);for(l=!0,ot=0;ot<Y;++ot)(B[ot].flags&a)>0&&B[ot].after(this,ne[B[ot].uid]);return l=!1,n=d.pop(),g=void 0,xt}},t(process,"_fatalException",function(G){return function(B){return c(B)||G(B)}})):(E=!1,c=function(G){if(E)throw G;for(var B=!1,Y=n.length,ne=0;ne<Y;++ne){var ye=n[ne];ye.flags&o&&(B=ye.error(null,G)||B)}if(!B&&l)throw G},p=function(G,B,Y){var ne=[];l=!0;for(var ye=0;ye<Y;++ye){var Re=B[ye];if(ne[Re.uid]=Re.data,(Re.flags&r)!==0){var ut=Re.create(Re.data);ut!==void 0&&(ne[Re.uid]=ut)}}return l=!1,function(){var ot=!1,xt=!1;d.push(n),n=v(B,n),l=!0;for(var st=0;st<Y;++st)(B[st].flags&u)>0&&B[st].before(this,ne[B[st].uid]);l=!1;var oe;try{oe=G.apply(this,arguments)}catch(ge){ot=!0;for(var st=0;st<Y;++st)if(n[st].flags&o)try{xt=n[st].error(ne[B[st].uid],ge)||xt}catch(Ue){throw E=!0,Ue}if(!xt)throw process.removeListener("uncaughtException",c),process._originalNextTick(function(){process.addListener("uncaughtException",c)}),ge}finally{if(!ot||xt){for(l=!0,st=0;st<Y;++st)(B[st].flags&a)>0&&B[st].after(this,ne[B[st].uid]);l=!1}n=d.pop()}return oe}},process.addListener("uncaughtException",c));var m,g,E;function T(G,B,Y){l=!0;for(var ne=0;ne<Y;++ne){var ye=B[ne];ye.create&&ye.create(ye.data)}return l=!1,function(){d.push(n),n=v(B,n);var Re=G.apply(this,arguments);return n=d.pop(),Re}}function O(G){var B=n.length;if(B===0)return G;for(var Y=n.slice(),ne=0;ne<B;++ne)if(Y[ne].flags>0)return p(G,Y,B);return T(G,Y,B)}function P(G,B){typeof G.create=="function"&&(this.create=G.create,this.flags|=r),typeof G.before=="function"&&(this.before=G.before,this.flags|=u),typeof G.after=="function"&&(this.after=G.after,this.flags|=a),typeof G.error=="function"&&(this.error=G.error,this.flags|=o),this.uid=++s,this.data=B===void 0?null:B}P.prototype.create=void 0,P.prototype.before=void 0,P.prototype.after=void 0,P.prototype.error=void 0,P.prototype.data=void 0,P.prototype.uid=0,P.prototype.flags=0;function A(G,B){if(typeof G!="object"||!G)throw new TypeError("callbacks argument must be an object");return G instanceof P?G:new P(G,B)}function M(G,B){var Y;G instanceof P?Y=G:Y=A(G,B);for(var ne=!1,ye=0;ye<n.length;ye++)if(Y===n[ye]){ne=!0;break}return ne||n.push(Y),Y}function j(G){for(var B=0;B<n.length;B++)if(G===n[B]){n.splice(B,1);break}}process.createAsyncListener=A,process.addAsyncListener=M,process.removeAsyncListener=j,i.exports=O}),Gv=x((e,i)=>{"use strict";i.exports=(t,r)=>class extends t{constructor(u){var a,o;super(s);var n=this;try{u.apply(a,o)}catch(l){o[1](l)}return n;function s(l,d){a=this,o=[c,p];function c(v){return r(n,!1),l(v)}function p(v){return r(n,!1),d(v)}}}}}),Vv=x(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=$a(),i=qv(),t=e.wrap,r=e.massWrap,u=Bv(),a=require("util"),o=i.gte(process.version,"6.0.0"),n=i.gte(process.version,"7.0.0"),s=i.gte(process.version,"8.0.0"),l=i.gte(process.version,"11.0.0"),d=require("net");n&&!d._normalizeArgs?d._normalizeArgs=function(oe){if(oe.length===0)return[{},null];var ge=oe[0],le={};typeof ge=="object"&&ge!==null?le=ge:st(ge)?le.path=ge:(le.port=ge,oe.length>1&&typeof oe[1]=="string"&&(le.host=oe[1]));var Ue=oe[oe.length-1];return typeof Ue!="function"?[le,null]:[le,Ue]}:!n&&!d._normalizeConnectArgs&&(d._normalizeConnectArgs=function(oe){var ge={};function le(X){return(X=Number(X))>=0?X:!1}typeof oe[0]=="object"&&oe[0]!==null?ge=oe[0]:typeof oe[0]=="string"&&le(oe[0])===!1?ge.path=oe[0]:(ge.port=oe[0],typeof oe[1]=="string"&&(ge.host=oe[1]));var Ue=oe[oe.length-1];return typeof Ue=="function"?[ge,Ue]:[ge]}),"_setUpListenHandle"in d.Server.prototype?t(d.Server.prototype,"_setUpListenHandle",c):t(d.Server.prototype,"_listen2",c);function c(oe){return function(){this.on("connection",function(ge){ge._handle&&(ge._handle.onread=u(ge._handle.onread))});try{return oe.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=u(this._handle.onconnection))}}}function p(oe){if(oe&&oe._handle){var ge=oe._handle;ge._originalOnread||(ge._originalOnread=ge.onread),ge.onread=u(ge._originalOnread)}}t(d.Socket.prototype,"connect",function(oe){return function(){var ge;s&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?ge=arguments[0]:ge=n?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments),ge[1]&&(ge[1]=u(ge[1]));var le=oe.apply(this,ge);return p(this),le}});var v=require("http");t(v.Agent.prototype,"addRequest",function(oe){return function(ge){var le=ge.onSocket;return ge.onSocket=u(function(Ue){return p(Ue),le.apply(this,arguments)}),oe.apply(this,arguments)}});var m=require("child_process");function g(oe){Array.isArray(oe.stdio)&&oe.stdio.forEach(function(ge){ge&&ge._handle&&(ge._handle.onread=u(ge._handle.onread),t(ge._handle,"close",ot))}),oe._handle&&(oe._handle.onexit=u(oe._handle.onexit))}m.ChildProcess?t(m.ChildProcess.prototype,"spawn",function(oe){return function(){var ge=oe.apply(this,arguments);return g(this),ge}}):r(m,["execFile","fork","spawn"],function(oe){return function(){var ge=oe.apply(this,arguments);return g(ge),ge}}),process._fatalException||(process._originalNextTick=process.nextTick);var E=[];process._nextDomainTick&&E.push("_nextDomainTick"),process._tickDomainCallback&&E.push("_tickDomainCallback"),r(process,E,ut),t(process,"nextTick",ot);var T=["setTimeout","setInterval"];global.setImmediate&&T.push("setImmediate");var O=require("timers"),P=global.setTimeout===O.setTimeout;r(O,T,ot),P&&r(global,T,ot);var A=require("dns");r(A,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],ut),A.resolveNaptr&&t(A,"resolveNaptr",ut);var M=require("fs");r(M,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],ut),M.lchown&&t(M,"lchown",ut),M.lchmod&&t(M,"lchmod",ut),M.ftruncate&&t(M,"ftruncate",ut);var j;try{j=require("zlib")}catch{}j&&j.Deflate&&j.Deflate.prototype&&(G=Object.getPrototypeOf(j.Deflate.prototype),G._transform?t(G,"_transform",ut):G.write&&G.flush&&G.end&&r(G,["write","flush","end"],ut));var G,B;try{B=require("crypto")}catch{}B&&(Y=["pbkdf2","randomBytes"],l||Y.push("pseudoRandomBytes"),r(B,Y,ut));var Y,ne=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";ne&&(ye=process.addAsyncListener({create:function(){ne=!1}}),global.Promise.resolve(!0).then(function(){ne=!1}),process.removeAsyncListener(ye));var ye;ne&&Re();function Re(){var oe=global.Promise;function ge(se){if(!(this instanceof ge))return oe(se);if(typeof se!="function")return new oe(se);var We,rt,$=new oe(ee);$.__proto__=ge.prototype;try{se.apply(We,rt)}catch(re){rt[1](re)}return $;function ee(re,ve){We=this,rt=[Ve,Ae];function Ve(Ne){return Ue($,!1),re(Ne)}function Ae(Ne){return Ue($,!1),ve(Ne)}}}if(a.inherits(ge,oe),t(oe.prototype,"then",Ee),oe.prototype.chain&&t(oe.prototype,"chain",Ee),o)global.Promise=Gv()(oe,Ue);else{var le=["all","race","reject","resolve","accept","defer"];le.forEach(function(se){typeof oe[se]=="function"&&(ge[se]=oe[se])}),global.Promise=ge}function Ue(se,We){(!se.__asl_wrapper||We)&&(se.__asl_wrapper=u(X))}function X(se,We,rt,$){var ee;try{return ee=We.call(se,rt),{returnVal:ee,error:!1}}catch(re){return{errorVal:re,error:!0}}finally{ee instanceof oe?$.__asl_wrapper=function(){var re=ee.__asl_wrapper||X;return re.apply(this,arguments)}:Ue($,!0)}}function Ee(se){return function(){var We=this,rt=se.apply(We,Array.prototype.map.call(arguments,$));return rt.__asl_wrapper=function(ee,re,ve,Ve){return We.__asl_wrapper?(We.__asl_wrapper(ee,function(){},null,rt),rt.__asl_wrapper(ee,re,ve,Ve)):X(ee,re,ve,Ve)},rt;function $(ee){return typeof ee!="function"?ee:u(function(re){var ve=(We.__asl_wrapper||X)(this,ee,re,rt);if(ve.error)throw ve.errorVal;return ve.returnVal})}}}}function ut(oe){var ge=function(){var le,Ue=arguments.length-1;if(typeof arguments[Ue]=="function"){le=Array(arguments.length);for(var X=0;X<arguments.length-1;X++)le[X]=arguments[X];le[Ue]=u(arguments[Ue])}return oe.apply(this,le||arguments)};switch(oe.length){case 1:return function(le){return arguments.length!==1?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le))};case 2:return function(le,Ue){return arguments.length!==2?ge.apply(this,arguments):(typeof Ue=="function"&&(Ue=u(Ue)),oe.call(this,le,Ue))};case 3:return function(le,Ue,X){return arguments.length!==3?ge.apply(this,arguments):(typeof X=="function"&&(X=u(X)),oe.call(this,le,Ue,X))};case 4:return function(le,Ue,X,Ee){return arguments.length!==4?ge.apply(this,arguments):(typeof Ee=="function"&&(Ee=u(Ee)),oe.call(this,le,Ue,X,Ee))};case 5:return function(le,Ue,X,Ee,se){return arguments.length!==5?ge.apply(this,arguments):(typeof se=="function"&&(se=u(se)),oe.call(this,le,Ue,X,Ee,se))};case 6:return function(le,Ue,X,Ee,se,We){return arguments.length!==6?ge.apply(this,arguments):(typeof We=="function"&&(We=u(We)),oe.call(this,le,Ue,X,Ee,se,We))};default:return ge}}function ot(oe){var ge=function(){var le;if(typeof arguments[0]=="function"){le=Array(arguments.length),le[0]=u(arguments[0]);for(var Ue=1;Ue<arguments.length;Ue++)le[Ue]=arguments[Ue]}return oe.apply(this,le||arguments)};switch(oe.length){case 1:return function(le){return arguments.length!==1?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le))};case 2:return function(le,Ue){return arguments.length!==2?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le,Ue))};case 3:return function(le,Ue,X){return arguments.length!==3?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le,Ue,X))};case 4:return function(le,Ue,X,Ee){return arguments.length!==4?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le,Ue,X,Ee))};case 5:return function(le,Ue,X,Ee,se){return arguments.length!==5?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le,Ue,X,Ee,se))};case 6:return function(le,Ue,X,Ee,se,We){return arguments.length!==6?ge.apply(this,arguments):(typeof le=="function"&&(le=u(le)),oe.call(this,le,Ue,X,Ee,se,We))};default:return ge}}function xt(oe){return(oe=Number(oe))>=0?oe:!1}function st(oe){return typeof oe=="string"&&xt(oe)===!1}}),zv=x((e,i)=>{"use strict";var t=require("assert"),r=Ka(),u="cls@contexts",a="error@context";process.addAsyncListener||Vv();function o(c){this.name=c,this.active=null,this._set=[],this.id=null}o.prototype.set=function(c,p){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[c]=p,p},o.prototype.get=function(c){if(this.active)return this.active[c]},o.prototype.createContext=function(){return Object.create(this.active)},o.prototype.run=function(c){var p=this.createContext();this.enter(p);try{return c(p),p}catch(v){throw v&&(v[a]=p),v}finally{this.exit(p)}},o.prototype.runAndReturn=function(c){var p;return this.run(function(v){p=c(v)}),p},o.prototype.bind=function(c,p){p||(this.active?p=this.active:p=this.createContext());var v=this;return function(){v.enter(p);try{return c.apply(this,arguments)}catch(m){throw m&&(m[a]=p),m}finally{v.exit(p)}}},o.prototype.enter=function(c){t.ok(c,"context must be provided for entering"),this._set.push(this.active),this.active=c},o.prototype.exit=function(c){if(t.ok(c,"context must be provided for exiting"),this.active===c){t.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var p=this._set.lastIndexOf(c);t.ok(p>=0,"context not currently entered; can't exit"),t.ok(p,"can't remove top context"),this._set.splice(p,1)},o.prototype.bindEmitter=function(c){t.ok(c.on&&c.addListener&&c.emit,"can only bind real EEs");var p=this,v="context@"+this.name;function m(E){!E||(E[u]||(E[u]=Object.create(null)),E[u][v]={namespace:p,context:p.active})}function g(E){if(!(E&&E[u]))return E;var T=E,O=E[u];return Object.keys(O).forEach(function(P){var A=O[P];T=A.namespace.bind(T,A.context)}),T}r(c,m,g)},o.prototype.fromException=function(c){return c[a]};function n(c){return process.namespaces[c]}function s(c){t.ok(c,"namespace must be given a name!");var p=new o(c);return p.id=process.addAsyncListener({create:function(){return p.active},before:function(v,m){m&&p.enter(m)},after:function(v,m){m&&p.exit(m)},error:function(v){v&&p.exit(v)}}),process.namespaces[c]=p,p}function l(c){var p=n(c);t.ok(p,"can't delete nonexistent namespace!"),t.ok(p.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(p.id),process.namespaces[c]=null}function d(){process.namespaces&&Object.keys(process.namespaces).forEach(function(c){l(c)}),process.namespaces=Object.create(null)}process.namespaces||d(),i.exports={getNamespace:n,createNamespace:s,destroyNamespace:l,reset:d}}),$n=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var i=yr(),t=Wa(),r=no(),u=dl(),a=gl(),o=function(){function s(){}return s.getCurrentContext=function(){if(!s.enabled)return null;var l=s.session.get(s.CONTEXT_NAME);return l===void 0?null:l},s.generateContextObject=function(l,d,c,p,v,m){return d=d||l,this.enabled?{operation:{name:c,id:l,parentId:d,traceparent:v,tracestate:m},customProperties:new n(p)}:null},s.spanToContextObject=function(l,d,c){var p=new r;return p.traceId=l.traceId,p.spanId=l.spanId,p.traceFlag=r.formatOpenTelemetryTraceFlags(l.traceFlags)||r.DEFAULT_TRACE_FLAG,p.parentId=d,s.generateContextObject(p.traceId,p.parentId,c,null,p)},s.runWithContext=function(l,d){var c;return s.enabled?s.session.bind(d,(c={},c[s.CONTEXT_NAME]=l,c))():d()},s.wrapEmitter=function(l){s.enabled&&s.session.bindEmitter(l)},s.wrapCallback=function(l,d){var c;return s.enabled?s.session.bind(l,d?(c={},c[s.CONTEXT_NAME]=d,c):void 0):l},s.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}s.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls>"u"&&(s.forceClsHooked===!0||s.forceClsHooked===void 0&&s.shouldUseClsHooked()?this.cls=Hv():this.cls=zv()),s.session=this.cls.createNamespace("AI-CLS-Session"),t.registerContextPreservation(function(d){return s.session.bind(d)})),this.enabled=!0}},s.startOperation=function(l,d){var c=l&&l.traceContext||null,p=l&&l.traceId?l:null,v=l&&l.headers;if(p){var m=new r("00-"+p.traceId+"-"+p.spanId+"-01"),g=new u(p.traceState?p.traceState.serialize():null),E=s.generateContextObject(p.traceId,"|"+p.traceId+"."+p.spanId+".",typeof d=="string"?d:"",void 0,m,g);return E}if(c){var m=new r(c.traceparent),g=new u(c.tracestate),T=typeof d=="object"?new a(d):null,E=s.generateContextObject(m.traceId,m.parentId,typeof d=="string"?d:T.getOperationName({}),T&&T.getCorrelationContextHeader()||void 0,m,g);return E}if(v){var m=new r(v.traceparent?v.traceparent.toString():null),g=new u(v.tracestate?v.tracestate.toString():null),T=new a(l),E=s.generateContextObject(m.traceId,m.parentId,T.getOperationName({}),T.getCorrelationContextHeader(),m,g);return E}return i.warn("startOperation was called with invalid arguments",arguments),null},s.disable=function(){this.enabled=!1},s.reset=function(){s.hasEverEnabled&&(s.session=null,s.session=this.cls.createNamespace("AI-CLS-Session"))},s.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},s.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},s.canUseClsHooked=function(){var l=process.versions.node.split("."),d=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,c=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,p=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(d&&c)&&p},s.enabled=!1,s.hasEverEnabled=!1,s.forceClsHooked=void 0,s.CONTEXT_NAME="ApplicationInsights-Context",s}();e.CorrelationContextManager=o;var n=function(){function s(l){this.props=[],this.addHeaderData(l)}return s.prototype.addHeaderData=function(l){var d=l?l.split(", "):[];this.props=d.map(function(c){var p=c.split("=");return{key:p[0],value:p[1]}}).concat(this.props)},s.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},s.prototype.getProperty=function(l){for(var d=0;d<this.props.length;++d){var c=this.props[d];if(c.key===l)return c.value}},s.prototype.setProperty=function(l,d){if(s.bannedCharacters.test(l)||s.bannedCharacters.test(d)){i.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+d);return}for(var c=0;c<this.props.length;++c){var p=this.props[c];if(p.key===l){p.value=d;return}}this.props.push({key:l,value:d})},s.bannedCharacters=/[,=]/,s}()}),Wv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var i=Fr(),t=cr(),r=[],u=function(n){var s=n.data.message;r.forEach(function(l){s instanceof Error?l.trackException({exception:s}):(s.lastIndexOf(`
`)==s.length-1&&(s=s.substring(0,s.length-1)),l.trackTrace({message:s,severity:n.data.stderr?i.SeverityLevel.Warning:i.SeverityLevel.Information}))})};function a(n,s){n?(r.length===0&&t.channel.subscribe("console",u),r.push(s)):(r=r.filter(function(l){return l!=s}),r.length===0&&t.channel.unsubscribe("console",u))}e.enable=a;function o(){t.channel.unsubscribe("console",u),r=[]}e.dispose=o}),$v=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var i=Fr(),t=cr(),r=[],u={10:i.SeverityLevel.Verbose,20:i.SeverityLevel.Verbose,30:i.SeverityLevel.Information,40:i.SeverityLevel.Warning,50:i.SeverityLevel.Error,60:i.SeverityLevel.Critical},a=function(s){var l=s.data.result;r.forEach(function(d){var c=u[s.data.level];l instanceof Error?d.trackException({exception:l}):d.trackTrace({message:l,severity:c})})};function o(s,l){s?(r.length===0&&t.channel.subscribe("bunyan",a),r.push(l)):(r=r.filter(function(d){return d!=l}),r.length===0&&t.channel.unsubscribe("bunyan",a))}e.enable=o;function n(){t.channel.unsubscribe("bunyan",a),r=[]}e.dispose=n}),Kv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var i=Fr(),t=cr(),r=[],u={syslog:function(s){var l={emerg:i.SeverityLevel.Critical,alert:i.SeverityLevel.Critical,crit:i.SeverityLevel.Critical,error:i.SeverityLevel.Error,warning:i.SeverityLevel.Warning,notice:i.SeverityLevel.Information,info:i.SeverityLevel.Information,debug:i.SeverityLevel.Verbose};return l[s]===void 0?i.SeverityLevel.Information:l[s]},npm:function(s){var l={error:i.SeverityLevel.Error,warn:i.SeverityLevel.Warning,info:i.SeverityLevel.Information,verbose:i.SeverityLevel.Verbose,debug:i.SeverityLevel.Verbose,silly:i.SeverityLevel.Verbose};return l[s]===void 0?i.SeverityLevel.Information:l[s]},unknown:function(s){return i.SeverityLevel.Information}},a=function(s){var l=s.data.message;r.forEach(function(d){if(l instanceof Error)d.trackException({exception:l,properties:s.data.meta});else{var c=u[s.data.levelKind](s.data.level);d.trackTrace({message:l,severity:c,properties:s.data.meta})}})};function o(s,l){s?(r.length===0&&t.channel.subscribe("winston",a),r.push(l)):(r=r.filter(function(d){return d!=l}),r.length===0&&t.channel.unsubscribe("winston",a))}e.enable=o;function n(){t.channel.unsubscribe("winston",a),r=[]}e.dispose=n}),Xv=x((e,i)=>{"use strict";var t=Wa(),r=function(){function u(a){if(u.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=a,u.INSTANCE=this}return u.prototype.enable=function(a,o){t.IsInitialized&&(Wv().enable(a&&o,this._client),$v().enable(a,this._client),Kv().enable(a,this._client))},u.prototype.isInitialized=function(){return this._isInitialized},u.prototype.dispose=function(){u.INSTANCE=null,this.enable(!1,!1)},u._methodNames=["debug","info","log","warn","error"],u}();i.exports=r}),Qv=x((e,i)=>{"use strict";var t=function(){function r(u){if(r.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");r.INSTANCE=this,this._client=u;var a=process.versions.node.split(".");r._canUseUncaughtExceptionMonitor=parseInt(a[0])>13||parseInt(a[0])===13&&parseInt(a[1])>=7}return r.prototype.isInitialized=function(){return this._isInitialized},r.prototype.enable=function(u){var a=this;if(u){this._isInitialized=!0;var o=this;if(!this._exceptionListenerHandle){var n=function(s,l,d){d===void 0&&(d=new Error(r._FALLBACK_ERROR_MESSAGE)),a._client.trackException({exception:d}),a._client.flush({isAppCrashing:!0}),s&&l&&process.listeners(l).length===1&&(console.error(d),process.exit(1))};r._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(r.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,r.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(r.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(r.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(r._canUseUncaughtExceptionMonitor?process.removeListener(r.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(r.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(r.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},r.prototype.dispose=function(){r.INSTANCE=null,this.enable(!1),this._isInitialized=!1},r.INSTANCE=null,r.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",r.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",r.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",r._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",r._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",r._canUseUncaughtExceptionMonitor=!1,r}();i.exports=t}),bn=x(e=>{"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var t;(function(a){a.COMMITTED_BYTES="\\Memory\\Committed Bytes",a.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",a.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",a.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",a.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",a.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",a.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",a.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",a.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(t=e.QuickPulseCounter||(e.QuickPulseCounter={}));var r;(function(a){a.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",a.AVAILABLE_BYTES="\\Memory\\Available Bytes",a.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",a.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",a.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",a.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(r=e.PerformanceCounter||(e.PerformanceCounter={}));var u;(function(a){a.REQUESTS_DURATION="requests/duration",a.DEPENDENCIES_DURATION="dependencies/duration",a.EXCEPTIONS_COUNT="exceptions/count",a.TRACES_COUNT="traces/count"})(u=e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=(i={},i[r.PROCESSOR_TIME]=t.PROCESSOR_TIME,i[r.REQUEST_RATE]=t.REQUEST_RATE,i[r.REQUEST_DURATION]=t.REQUEST_DURATION,i[t.COMMITTED_BYTES]=t.COMMITTED_BYTES,i[t.REQUEST_FAILURE_RATE]=t.REQUEST_FAILURE_RATE,i[t.DEPENDENCY_RATE]=t.DEPENDENCY_RATE,i[t.DEPENDENCY_FAILURE_RATE]=t.DEPENDENCY_FAILURE_RATE,i[t.DEPENDENCY_DURATION]=t.DEPENDENCY_DURATION,i[t.EXCEPTION_RATE]=t.EXCEPTION_RATE,i),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"}),Xa=x((e,i)=>{"use strict";var t=require("os"),r=bn(),u=function(){function a(o,n,s){n===void 0&&(n=6e4),s===void 0&&(s=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,this._client=o,this._collectionInterval=n,this._enableLiveMetricsCounters=s}return a.prototype.enable=function(o,n){var s=this;this._isEnabled=o,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),o?this._handle||(this._lastCpus=t.cpus(),this._lastRequests={totalRequestCount:a._totalRequestCount,totalFailedRequestCount:a._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:a._totalDependencyCount,totalFailedDependencyCount:a._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:a._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return s.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countRequest=function(o,n){var s;if(a.isEnabled()){if(typeof o=="string")s=+new Date("1970-01-01T"+o+"Z");else if(typeof o=="number")s=o;else return;a._intervalRequestExecutionTime+=s,n===!1&&a._totalFailedRequestCount++,a._totalRequestCount++}},a.countException=function(){a._totalExceptionCount++},a.countDependency=function(o,n){var s;if(a.isEnabled()){if(typeof o=="string")s=+new Date("1970-01-01T"+o+"Z");else if(typeof o=="number")s=o;else return;a._intervalDependencyExecutionTime+=s,n===!1&&a._totalFailedDependencyCount++,a._totalDependencyCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},a.prototype._trackCpu=function(){var o=t.cpus();if(o&&o.length&&this._lastCpus&&o.length===this._lastCpus.length){for(var n=0,s=0,l=0,d=0,c=0,p=0;o&&p<o.length;p++){var v=o[p],m=this._lastCpus[p],g="% cpu("+p+") ",E=v.model,T=v.speed,O=v.times,P=m.times,A=O.user-P.user||0;n+=A;var M=O.sys-P.sys||0;s+=M;var j=O.nice-P.nice||0;l+=j;var G=O.idle-P.idle||0;d+=G;var B=O.irq-P.irq||0;c+=B}var Y=void 0;if(typeof process.cpuUsage=="function"){var ne=process.cpuUsage(),ye=process.hrtime(),Re=ne.user-this._lastAppCpuUsage.user+(ne.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var ut=(ye[0]-this._lastHrtime[0])*1e6+(ye[1]-this._lastHrtime[1])/1e3||0;Y=100*Re/(ut*o.length)}this._lastAppCpuUsage=ne,this._lastHrtime=ye}var ot=n+s+l+d+c||1;this._client.trackMetric({name:r.PerformanceCounter.PROCESSOR_TIME,value:(ot-d)/ot*100}),this._client.trackMetric({name:r.PerformanceCounter.PROCESS_TIME,value:Y||n/ot*100})}this._lastCpus=o},a.prototype._trackMemory=function(){var o=t.freemem(),n=process.memoryUsage().rss,s=t.totalmem()-o;this._client.trackMetric({name:r.PerformanceCounter.PRIVATE_BYTES,value:n}),this._client.trackMetric({name:r.PerformanceCounter.AVAILABLE_BYTES,value:o}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:r.QuickPulseCounter.COMMITTED_BYTES,value:s})},a.prototype._trackNetwork=function(){var o=this._lastRequests,n={totalRequestCount:a._totalRequestCount,totalFailedRequestCount:a._totalFailedRequestCount,time:+new Date},s=n.totalRequestCount-o.totalRequestCount||0,l=n.totalFailedRequestCount-o.totalFailedRequestCount||0,d=n.time-o.time,c=d/1e3,p=(a._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/s||0;if(this._lastIntervalRequestExecutionTime=a._intervalRequestExecutionTime,d>0){var v=s/c,m=l/c;this._client.trackMetric({name:r.PerformanceCounter.REQUEST_RATE,value:v}),(!this._enableLiveMetricsCounters||s>0)&&this._client.trackMetric({name:r.PerformanceCounter.REQUEST_DURATION,value:p}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:r.QuickPulseCounter.REQUEST_FAILURE_RATE,value:m})}this._lastRequests=n},a.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var o=this._lastDependencies,n={totalDependencyCount:a._totalDependencyCount,totalFailedDependencyCount:a._totalFailedDependencyCount,time:+new Date},s=n.totalDependencyCount-o.totalDependencyCount||0,l=n.totalFailedDependencyCount-o.totalFailedDependencyCount||0,d=n.time-o.time,c=d/1e3,p=(a._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/s||0;if(this._lastIntervalDependencyExecutionTime=a._intervalDependencyExecutionTime,d>0){var v=s/c,m=l/c;this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_RATE,value:v}),this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:m}),(!this._enableLiveMetricsCounters||s>0)&&this._client.trackMetric({name:r.QuickPulseCounter.DEPENDENCY_DURATION,value:p})}this._lastDependencies=n}},a.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var o=this._lastExceptions,n={totalExceptionCount:a._totalExceptionCount,time:+new Date},s=n.totalExceptionCount-o.totalExceptionCount||0,l=n.time-o.time,d=l/1e3;if(l>0){var c=s/d;this._client.trackMetric({name:r.QuickPulseCounter.EXCEPTION_RATE,value:c})}this._lastExceptions=n}},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a._totalRequestCount=0,a._totalFailedRequestCount=0,a._totalDependencyCount=0,a._totalFailedDependencyCount=0,a._totalExceptionCount=0,a._intervalDependencyExecutionTime=0,a._intervalRequestExecutionTime=0,a}();i.exports=u}),Yv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;var i=function(){function t(r){this.dimensions=r,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return t}();e.AggregatedMetricCounter=i}),Zv=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),bl=x((e,i)=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(n){for(var s,l=1,d=arguments.length;l<d;l++){s=arguments[l];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n},t.apply(this,arguments)},r=bn(),u=Yv(),a=Zv(),o=function(){function n(s,l){l===void 0&&(l=6e4),n.INSTANCE||(n.INSTANCE=this),this._isInitialized=!1,n._dependencyCountersCollection=[],n._requestCountersCollection=[],n._exceptionCountersCollection=[],n._traceCountersCollection=[],this._client=s,this._collectionInterval=l}return n.prototype.enable=function(s,l){var d=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return d.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},n.countException=function(s){if(n.isEnabled()){var l=n._getAggregatedCounter(s,this._exceptionCountersCollection);l.totalCount++}},n.countTrace=function(s){if(n.isEnabled()){var l=n._getAggregatedCounter(s,this._traceCountersCollection);l.totalCount++}},n.countRequest=function(s,l){if(n.isEnabled()){var d,c=n._getAggregatedCounter(l,this._requestCountersCollection);if(typeof s=="string")d=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")d=s;else return;c.intervalExecutionTime+=d,c.totalCount++}},n.countDependency=function(s,l){if(n.isEnabled()){var d=n._getAggregatedCounter(l,this._dependencyCountersCollection),c;if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;d.intervalExecutionTime+=c,d.totalCount++}},n.prototype.isInitialized=function(){return this._isInitialized},n.isEnabled=function(){return n.INSTANCE&&n.INSTANCE._isEnabled},n.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},n._getAggregatedCounter=function(s,l){for(var d=!1,c=0;c<l.length;c++){if(s===l[c].dimensions)return l[c];if(Object.keys(s).length===Object.keys(l[c].dimensions).length){for(var p in s)if(s[p]!=l[c].dimensions[p]){d=!0;break}if(!d)return l[c];d=!1}}var v=new u.AggregatedMetricCounter(s);return l.push(v),v},n.prototype._trackRequestMetrics=function(){for(var s=0;s<n._requestCountersCollection.length;s++){var l=n._requestCountersCollection[s];l.time=+new Date;var d=l.totalCount-l.lastTotalCount||0,c=l.time-l.lastTime,p=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/d||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,c>0&&d>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:p,count:d,aggregationInterval:c,metricType:r.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},n.prototype._trackDependencyMetrics=function(){for(var s=0;s<n._dependencyCountersCollection.length;s++){var l=n._dependencyCountersCollection[s];l.time=+new Date;var d=l.totalCount-l.lastTotalCount||0,c=l.time-l.lastTime,p=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/d||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,c>0&&d>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:p,count:d,aggregationInterval:c,metricType:r.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},n.prototype._trackExceptionMetrics=function(){for(var s=0;s<n._exceptionCountersCollection.length;s++){var l=n._exceptionCountersCollection[s],d=l.totalCount-l.lastTotalCount||0,c=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:d,count:d,aggregationInterval:c,metricType:r.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},n.prototype._trackTraceMetrics=function(){for(var s=0;s<n._traceCountersCollection.length;s++){var l=n._traceCountersCollection[s],d=l.totalCount-l.lastTotalCount||0,c=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:d,count:d,aggregationInterval:c,metricType:r.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},n.prototype._trackPreAggregatedMetric=function(s){var l={};for(var d in s.dimensions)l[a.PreaggregatedMetricPropertyNames[d]]=s.dimensions[d];l=t(t({},l),{"_MS.MetricId":s.metricType,"_MS.AggregationIntervalMs":String(s.aggregationInterval),"_MS.IsAutocollected":"True"});var c={name:s.name,value:s.value,count:s.count,properties:l,kind:"Aggregation"};this._client.trackMetric(c)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n}();i.exports=o}),io=x((e,i)=>{"use strict";var t=require("os"),r=require("fs"),u=require("path"),a=Fr(),o=yr(),n=function(){function s(l){this.keys=new a.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return s.prototype._loadApplicationContext=function(l){if(l=l||u.resolve(__dirname,"../../../../package.json"),!s.appVersion[l]){s.appVersion[l]="unknown";try{var d=JSON.parse(r.readFileSync(l,"utf8"));d&&typeof d.version=="string"&&(s.appVersion[l]=d.version)}catch(c){o.info("unable to read app version: ",c)}}this.tags[this.keys.applicationVersion]=s.appVersion[l]},s.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=t&&t.hostname(),this.tags[this.keys.deviceOSVersion]=t&&t.type()+" "+t.release(),this.tags[this.keys.cloudRole]=s.DefaultRoleName,this.tags["ai.device.osArchitecture"]=t&&t.arch(),this.tags["ai.device.osPlatform"]=t&&t.platform()},s.prototype._loadInternalContext=function(){var l=u.resolve(__dirname,"../../package.json");if(!s.sdkVersion){s.sdkVersion="unknown";try{var d=JSON.parse(r.readFileSync(l,"utf8"));d&&typeof d.version=="string"&&(s.sdkVersion=d.version)}catch(c){o.info("unable to read app version: ",c)}}this.tags[this.keys.internalSdkVersion]="node:"+s.sdkVersion},s.DefaultRoleName="Web",s.appVersion={},s.sdkVersion=null,s}();i.exports=n}),Jv=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var d=function(c,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])},d(c,p)};return function(c,p){d(c,p);function v(){this.constructor=c}c.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),r=require("url"),u=Fr(),a=Gr(),o=yi(),n=ml(),s=Wn(),l=function(d){t(c,d);function c(p,v){var m=d.call(this)||this;return v&&v.method&&p&&(m.method=v.method,m.url=c._getUrlFromRequestOptions(p,v),m.startTime=+new Date),m}return c.prototype.onError=function(p){this._setStatus(void 0,p)},c.prototype.onResponse=function(p){this._setStatus(p.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(p,o.requestContextTargetKey)},c.prototype.getDependencyTelemetry=function(p,v){var m=r.parse(this.url);m.search=void 0,m.hash=void 0;var g=this.method.toUpperCase()+" "+m.pathname,E=u.RemoteDependencyDataConstants.TYPE_HTTP,T=m.hostname;m.port&&(T+=":"+m.port),this.correlationId?(E=u.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==s.correlationIdPrefix&&(T+=" | "+this.correlationId)):E=u.RemoteDependencyDataConstants.TYPE_HTTP;var O={id:v,name:g,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:E,target:T};if(p&&p.time?O.time=p.time:this.startTime&&(O.time=new Date(this.startTime)),p){for(var P in p)O[P]||(O[P]=p[P]);if(p.properties)for(var P in p.properties)O.properties[P]=p.properties[P]}return O},c._getUrlFromRequestOptions=function(p,v){if(typeof p=="string")if(p.indexOf("http://")===0||p.indexOf("https://")===0)p=r.parse(p);else{var m=r.parse(p);m.host==="443"?p=r.parse("https://"+p):p=r.parse("http://"+p)}else{if(p&&typeof r.URL=="function"&&p instanceof r.URL)return r.format(p);var g=p;p={},g&&Object.keys(g).forEach(function(O){p[O]=g[O]})}if(p.path){var E=r.parse(p.path);p.pathname=E.pathname,p.search=E.search}if(p.host&&p.port){var T=r.parse("http://"+p.host);!T.port&&p.port&&(p.hostname=p.host,delete p.host)}return p.protocol=p.protocol||v.agent&&v.agent.protocol||v.protocol||void 0,p.hostname=p.hostname||"localhost",r.format(p)},c}(n);i.exports=l}),em=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(o){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var t=tr(),r=bn();function u(o){var n=i({},o);return Object.keys(r.SpanAttribute).forEach(function(s){delete n[s]}),n}function a(o){var n="|"+o.spanContext().traceId+"."+o.spanContext().spanId+".",s=Math.round(o._duration[0]*1e3+o._duration[1]/1e6),l=o.attributes["peer.address"]?o.attributes["peer.address"].toString():"",d=o.attributes.component?o.attributes.component.toString():"",c=d.toUpperCase()===r.DependencyTypeName.Http||!!o.attributes[r.SpanAttribute.HttpUrl],p=d.toLowerCase()===r.DependencyTypeName.Grpc;if(c){var v=o.attributes[r.SpanAttribute.HttpMethod]||"GET",m=new URL(o.attributes[r.SpanAttribute.HttpUrl].toString()),g=o.attributes[r.SpanAttribute.HttpHost]||m.host,E=o.attributes[r.SpanAttribute.HttpPort]||m.port||null,T=m.pathname||"/",O=v+" "+T,P=r.DependencyTypeName.Http,A=E?(g+":"+E).toString():g.toString(),M=m.toString(),j=o.attributes[r.SpanAttribute.HttpStatusCode]||o.status.code||0,G=j<400;return{id:n,name:O,dependencyTypeName:P,target:A,data:M,success:G,duration:s,url:M,resultCode:String(j),properties:u(o.attributes)}}else if(p){var v=o.attributes[r.SpanAttribute.GrpcMethod]||"rpc",B=o.attributes[r.SpanAttribute.GrpcService],Y=B?v+" "+B:o.name;return{id:n,duration:s,name:Y,target:B.toString(),data:B.toString()||Y,url:B.toString()||Y,dependencyTypeName:r.DependencyTypeName.Grpc,resultCode:String(o.status.code||0),success:o.status.code===0,properties:u(o.attributes)}}else{var ne=o.name,ye=o.links&&o.links.map(function(Re){return{operation_Id:Re.context.traceId,id:Re.context.spanId}});return{id:n,duration:s,name:ne,target:l,data:l||ne,url:l||ne,dependencyTypeName:o.kind===t.SpanKind.INTERNAL?r.DependencyTypeName.InProc:d||o.name,resultCode:String(o.status.code||0),success:o.status.code===0,properties:i(i({},u(o.attributes)),{"_MS.links":ye||void 0})}}}e.spanToTelemetryContract=a}),tm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var i=tr(),t=cr(),r=no(),u=em(),a=Fc(),o=[],n=function(l){var d=l.data,c=u.spanToTelemetryContract(d),p=d.spanContext(),v=new r;v.traceId=p.traceId,v.spanId=p.spanId,v.traceFlag=r.formatOpenTelemetryTraceFlags(p.traceFlags),v.parentId=d.parentSpanId?"|"+p.traceId+"."+d.parentSpanId+".":null,a.AsyncScopeManager.with(d,function(){o.forEach(function(m){d.kind===i.SpanKind.SERVER?m.trackRequest(c):(d.kind===i.SpanKind.CLIENT||d.kind===i.SpanKind.INTERNAL)&&m.trackDependency(c)})})};e.subscriber=n;function s(l,d){l?(o.length===0&&t.channel.subscribe("azure-coretracing",e.subscriber),o.push(d)):(o=o.filter(function(c){return c!=d}),o.length===0&&t.channel.unsubscribe("azure-coretracing",e.subscriber))}e.enable=s}),rm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var i=cr(),t=[],r=function(a){a.data.event.commandName!=="ismaster"&&t.forEach(function(o){var n=a.data.startedData&&a.data.startedData.databaseName||"Unknown database";o.trackDependency({target:n,data:a.data.event.commandName,name:a.data.event.commandName,duration:a.data.event.duration,success:a.data.succeeded,resultCode:a.data.succeeded?"0":"1",time:a.data.startedData.time,dependencyTypeName:"mongodb"})})};e.subscriber=r;function u(a,o){a?(t.length===0&&i.channel.subscribe("mongodb",e.subscriber),t.push(o)):(t=t.filter(function(n){return n!=o}),t.length===0&&i.channel.unsubscribe("mongodb",e.subscriber))}e.enable=u}),nm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var i=cr(),t=[],r=function(a){t.forEach(function(o){var n=a.data.query||{},s=n.sql||"Unknown query",l=!a.data.err,d=n._connection||{},c=d.config||{},p=c.socketPath?c.socketPath:(c.host||"localhost")+":"+c.port;o.trackDependency({target:p,data:s,name:s,duration:a.data.duration,success:l,resultCode:l?"0":"1",time:a.data.time,dependencyTypeName:"mysql"})})};e.subscriber=r;function u(a,o){a?(t.length===0&&i.channel.subscribe("mysql",e.subscriber),t.push(o)):(t=t.filter(function(n){return n!=o}),t.length===0&&i.channel.unsubscribe("mysql",e.subscriber))}e.enable=u}),im=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var i=cr(),t=[],r=function(a){t.forEach(function(o){a.data.commandObj.command!=="info"&&o.trackDependency({target:a.data.address,name:a.data.commandObj.command,data:a.data.commandObj.command,duration:a.data.duration,success:!a.data.err,resultCode:a.data.err?"1":"0",time:a.data.time,dependencyTypeName:"redis"})})};e.subscriber=r;function u(a,o){a?(t.length===0&&i.channel.subscribe("redis",e.subscriber),t.push(o)):(t=t.filter(function(n){return n!=o}),t.length===0&&i.channel.unsubscribe("redis",e.subscriber))}e.enable=u}),om=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var i=cr(),t=[],r=function(a){t.forEach(function(o){var n=a.data.query,s=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",l=!a.data.error,d=a.data.database.host+":"+a.data.database.port;o.trackDependency({target:d,data:s,name:s,duration:a.data.duration,success:l,resultCode:l?"0":"1",time:a.data.time,dependencyTypeName:"postgres"})})};e.subscriber=r;function u(a,o){a?(t.length===0&&i.channel.subscribe("postgres",e.subscriber),t.push(o)):(t=t.filter(function(n){return n!=o}),t.length===0&&i.channel.unsubscribe("postgres",e.subscriber))}e.enable=u}),Ei=x((e,i)=>{"use strict";var t=e&&e.__spreadArrays||function(){for(var m=0,g=0,E=arguments.length;g<E;g++)m+=arguments[g].length;for(var T=Array(m),O=0,g=0;g<E;g++)for(var P=arguments[g],A=0,M=P.length;A<M;A++,O++)T[O]=P[A];return T},r=require("http"),u=require("https"),a=yr(),o=Gr(),n=yi(),s=Jv(),l=$n(),d=Wn(),c=no(),p=Wa(),v=function(){function m(g){if(m.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");m.INSTANCE=this,this._client=g}return m.prototype.enable=function(g){this._isEnabled=g,this._isEnabled&&!this._isInitialized&&this._initialize(),p.IsInitialized&&(tm().enable(!0,this._client),rm().enable(g,this._client),nm().enable(g,this._client),im().enable(g,this._client),om().enable(g,this._client))},m.prototype.isInitialized=function(){return this._isInitialized},m.prototype._initialize=function(){var g=this;this._isInitialized=!0;var E=r.request,T=u.request,O=function(P,A){var M=!A[m.disableCollectionRequestOption]&&!P[m.alreadyAutoCollectedFlag];A.headers&&A.headers["user-agent"]&&A.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(M=!1),P[m.alreadyAutoCollectedFlag]=!0,P&&A&&M&&(l.CorrelationContextManager.wrapEmitter(P),m.trackRequest(g._client,{options:A,request:P}))};r.request=function(P){for(var A=[],M=1;M<arguments.length;M++)A[M-1]=arguments[M];var j=E.call.apply(E,t([r,P],A));return O(j,P),j},u.request=function(P){for(var A=[],M=1;M<arguments.length;M++)A[M-1]=arguments[M];var j=T.call.apply(T,t([u,P],A));return O(j,P),j},r.get=function(P){for(var A,M=[],j=1;j<arguments.length;j++)M[j-1]=arguments[j];var G=(A=r.request).call.apply(A,t([r,P],M));return G.end(),G},u.get=function(P){for(var A,M=[],j=1;j<arguments.length;j++)M[j-1]=arguments[j];var G=(A=u.request).call.apply(A,t([u,P],M));return G.end(),G}},m.trackRequest=function(g,E){if(!E.options||!E.request||!g){a.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!E.options,!E.request,!g);return}var T=new s(E.options,E.request),O=l.CorrelationContextManager.getCurrentContext(),P,A;if(O&&O.operation&&O.operation.traceparent&&c.isValidTraceId(O.operation.traceparent.traceId))O.operation.traceparent.updateSpanId(),P=O.operation.traceparent.getBackCompatRequestId();else if(d.w3cEnabled){var M=new c;A=M.toString(),P=M.getBackCompatRequestId()}else P=O&&O.operation&&O.operation.parentId+m.requestNumber+++".";if(o.canIncludeCorrelationHeader(g,T.getUrl())&&E.request.getHeader&&E.request.setHeader&&g.config&&g.config.correlationId){var j=E.request.getHeader(n.requestContextHeader);try{o.safeIncludeCorrelationHeader(g,E.request,j)}catch(Y){a.warn("Request-Context header could not be set. Correlation of requests may be lost",Y)}if(O&&O.operation)try{if(E.request.setHeader(n.requestIdHeader,P),g.config.ignoreLegacyHeaders||(E.request.setHeader(n.parentIdHeader,O.operation.id),E.request.setHeader(n.rootIdHeader,P)),A||O.operation.traceparent)E.request.setHeader(n.traceparentHeader,A||O.operation.traceparent.toString());else if(d.w3cEnabled){var M=new c().toString();E.request.setHeader(n.traceparentHeader,M)}if(O.operation.tracestate){var G=O.operation.tracestate.toString();G&&E.request.setHeader(n.traceStateHeader,G)}var B=O.customProperties.serializeToHeader();B&&E.request.setHeader(n.correlationContextHeader,B)}catch(Y){a.warn("Correlation headers could not be set. Correlation of requests may be lost.",Y)}}E.request.on&&(E.request.on("response",function(Y){T.onResponse(Y);var ne=T.getDependencyTelemetry(E,P);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=E.options,ne.contextObjects["http.ClientRequest"]=E.request,ne.contextObjects["http.ClientResponse"]=Y,g.trackDependency(ne)}),E.request.on("error",function(Y){T.onError(Y);var ne=T.getDependencyTelemetry(E,P);ne.contextObjects=ne.contextObjects||{},ne.contextObjects["http.RequestOptions"]=E.options,ne.contextObjects["http.ClientRequest"]=E.request,ne.contextObjects.Error=Y,g.trackDependency(ne)}),E.request.on("abort",function(){T.onError(new Error);var Y=T.getDependencyTelemetry(E,P);Y.contextObjects=Y.contextObjects||{},Y.contextObjects["http.RequestOptions"]=E.options,Y.contextObjects["http.ClientRequest"]=E.request,g.trackDependency(Y)}))},m.prototype.dispose=function(){m.INSTANCE=null,this.enable(!1),this._isInitialized=!1},m.disableCollectionRequestOption="disableAppInsightsAutoCollection",m.requestNumber=1,m.alreadyAutoCollectedFlag="_appInsightsAutoCollected",m}();i.exports=v}),am=x((e,i)=>{"use strict";var t=require("os"),r=bn(),u=Gr(),a=io(),o=Ei(),n="http://169.254.169.254/metadata/instance/compute",s="api-version=2017-12-01",l="format=json",d="ENETUNREACH",c=function(){function p(v){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",p.INSTANCE||(p.INSTANCE=this),this._isInitialized=!1,this._client=v}return p.prototype.enable=function(v,m){var g=this;this._isEnabled=v,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),v?this._handle||(this._handle=setInterval(function(){return g.trackHeartBeat(m,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},p.prototype.isInitialized=function(){return this._isInitialized},p.isEnabled=function(){return p.INSTANCE&&p.INSTANCE._isEnabled},p.prototype.trackHeartBeat=function(v,m){var g=this,E=!1,T={},O=a.sdkVersion;T.sdk=O,T.osType=t.type(),process.env.WEBSITE_SITE_NAME?(T.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",T.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",T.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?T.azfunction_appId=process.env.WEBSITE_HOSTNAME:v&&(this._isVM===void 0?(E=!0,this._getAzureComputeMetadata(v,function(){g._isVM&&Object.keys(g._vmData).length>0&&(T.azInst_vmId=g._vmData.vmId||"",T.azInst_subscriptionId=g._vmData.subscriptionId||"",T.azInst_osType=g._vmData.osType||"",g._azInst_vmId=g._vmData.vmId||"",g._azInst_subscriptionId=g._vmData.subscriptionId||"",g._azInst_osType=g._vmData.osType||""),g._client.trackMetric({name:r.HeartBeatMetricName,value:0,properties:T}),m()})):this._isVM&&(T.azInst_vmId=this._azInst_vmId,T.azInst_subscriptionId=this._azInst_subscriptionId,T.azInst_osType=this._azInst_osType)),E||(this._client.trackMetric({name:r.HeartBeatMetricName,value:0,properties:T}),m())},p.prototype.dispose=function(){p.INSTANCE=null,this.enable(!1),this._isInitialized=!1},p.prototype._getAzureComputeMetadata=function(v,m){var g,E=this,T=n+"?"+s+"&"+l,O=(g={method:"GET"},g[o.disableCollectionRequestOption]=!0,g.headers={Metadata:"True"},g),P=u.makeRequest(v,T,O,function(A){if(A.statusCode===200){E._isVM=!0;var M="";A.on("data",function(j){M+=j}),A.on("end",function(){E._vmData=E._isJSON(M)?JSON.parse(M):{},m()})}else m()});P&&(P.on("error",function(A){A&&A.message&&A.message.indexOf(d)>-1&&(E._isVM=!1),m()}),P.end())},p.prototype._isJSON=function(v){try{return JSON.parse(v)&&!!v}catch{return!1}},p}();i.exports=c}),Sl=x((e,i)=>{"use strict";var t=require("http"),r=require("https"),u=yr(),a=Gr(),o=yi(),n=gl(),s=$n(),l=Xa(),d=function(){function c(p){if(c.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");c.INSTANCE=this,this._client=p}return c.prototype.enable=function(p){this._isEnabled=p,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},c.prototype.useAutoCorrelation=function(p,v){p&&!this._isAutoCorrelating?s.CorrelationContextManager.enable(v):!p&&this._isAutoCorrelating&&s.CorrelationContextManager.disable(),this._isAutoCorrelating=p},c.prototype.isInitialized=function(){return this._isInitialized},c.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},c.prototype._generateCorrelationContext=function(p){if(this._isAutoCorrelating)return s.CorrelationContextManager.generateContextObject(p.getOperationId(this._client.context.tags),p.getRequestId(),p.getOperationName(this._client.context.tags),p.getCorrelationContextHeader(),p.getTraceparent(),p.getTracestate())},c.prototype._initialize=function(){var p=this;this._isInitialized=!0;var v=function(T){if(T){if(typeof T!="function")throw new Error("onRequest handler must be a function");return function(O,P){s.CorrelationContextManager.wrapEmitter(O),s.CorrelationContextManager.wrapEmitter(P);var A=O&&!O[c.alreadyAutoCollectedFlag];if(O&&A){var M=new n(O),j=p._generateCorrelationContext(M);s.CorrelationContextManager.runWithContext(j,function(){p._isEnabled&&(O[c.alreadyAutoCollectedFlag]=!0,c.trackRequest(p._client,{request:O,response:P},M)),typeof T=="function"&&T(O,P)})}else typeof T=="function"&&T(O,P)}}},m=function(T){var O=T.addListener.bind(T);T.addListener=function(P,A){switch(P){case"request":case"checkContinue":return O(P,v(A));default:return O(P,A)}},T.on=T.addListener},g=t.createServer;t.createServer=function(T,O){if(O&&typeof O=="function"){var P=g(T,v(O));return m(P),P}else{var P=g(v(T));return m(P),P}};var E=r.createServer;r.createServer=function(T,O){var P=E(T,v(O));return m(P),P}},c.trackRequestSync=function(p,v){if(!v.request||!v.response||!p){u.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!v.request,!v.response,!p);return}c.addResponseCorrelationIdHeader(p,v.response);var m=s.CorrelationContextManager.getCurrentContext(),g=new n(v.request,m&&m.operation.parentId);m&&(m.operation.id=g.getOperationId(p.context.tags)||m.operation.id,m.operation.name=g.getOperationName(p.context.tags)||m.operation.name,m.operation.parentId=g.getRequestId()||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),c.endRequest(p,g,v,v.duration,v.error)},c.trackRequest=function(p,v,m){if(!v.request||!v.response||!p){u.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!v.request,!v.response,!p);return}var g=s.CorrelationContextManager.getCurrentContext(),E=m||new n(v.request,g&&g.operation.parentId);a.canIncludeCorrelationHeader(p,E.getUrl())&&c.addResponseCorrelationIdHeader(p,v.response),g&&!m&&(g.operation.id=E.getOperationId(p.context.tags)||g.operation.id,g.operation.name=E.getOperationName(p.context.tags)||g.operation.name,g.operation.parentId=E.getOperationParentId(p.context.tags)||g.operation.parentId,g.customProperties.addHeaderData(E.getCorrelationContextHeader())),v.response.once&&v.response.once("finish",function(){c.endRequest(p,E,v,null,null)}),v.request.on&&v.request.on("error",function(T){c.endRequest(p,E,v,null,T)}),v.request.on&&v.request.on("aborted",function(){var T="The request has been aborted and the network socket has closed.";c.endRequest(p,E,v,null,T)})},c.addResponseCorrelationIdHeader=function(p,v){if(p.config&&p.config.correlationId&&v.getHeader&&v.setHeader&&!v.headersSent){var m=v.getHeader(o.requestContextHeader);a.safeIncludeCorrelationHeader(p,v,m)}},c.endRequest=function(p,v,m,g,E){E?v.onError(E,g):v.onResponse(m.response,g);var T=v.getRequestTelemetry(m);if(T.tagOverrides=v.getRequestTags(p.context.tags),m.tagOverrides)for(var O in m.tagOverrides)T.tagOverrides[O]=m.tagOverrides[O];var P=v.getLegacyRootId();P&&(T.properties.ai_legacyRootId=P),T.contextObjects=T.contextObjects||{},T.contextObjects["http.ServerRequest"]=m.request,T.contextObjects["http.ServerResponse"]=m.response,p.trackRequest(T)},c.prototype.dispose=function(){c.INSTANCE=null,this.enable(!1),this._isInitialized=!1,s.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},c.alreadyAutoCollectedFlag="_appInsightsAutoCollected",c}();i.exports=d}),sm=x((e,i)=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(d){for(var c,p=1,v=arguments.length;p<v;p++){c=arguments[p];for(var m in c)Object.prototype.hasOwnProperty.call(c,m)&&(d[m]=c[m])}return d},t.apply(this,arguments)},r=require("os"),u=Fr(),a=bn(),o=Gr(),n=yr(),s=o.w3cTraceId(),l=function(){function d(){}return d.createQuickPulseEnvelope=function(c,p,v,m){var g=r&&typeof r.hostname=="function"&&r.hostname()||"Unknown",E=m.tags&&m.keys&&m.keys.cloudRoleInstance&&m.tags[m.keys.cloudRoleInstance]||g,T=m.tags&&m.keys&&m.keys.cloudRole&&m.tags[m.keys.cloudRole]||null,O={Documents:p.length>0?p:null,InstrumentationKey:v.instrumentationKey||"",Metrics:c.length>0?c:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:m.tags[m.keys.internalSdkVersion],StreamId:s,MachineName:g,Instance:E,RoleName:T};return O},d.createQuickPulseMetric=function(c){var p;return p={Name:c.name,Value:c.value,Weight:c.count||1},p},d.telemetryEnvelopeToQuickPulseDocument=function(c){switch(c.data.baseType){case u.TelemetryTypeString.Event:return d.createQuickPulseEventDocument(c);case u.TelemetryTypeString.Exception:return d.createQuickPulseExceptionDocument(c);case u.TelemetryTypeString.Trace:return d.createQuickPulseTraceDocument(c);case u.TelemetryTypeString.Dependency:return d.createQuickPulseDependencyDocument(c);case u.TelemetryTypeString.Request:return d.createQuickPulseRequestDocument(c)}return null},d.createQuickPulseEventDocument=function(c){var p=d.createQuickPulseDocument(c),v=c.data.baseData.name,m=t(t({},p),{Name:v});return m},d.createQuickPulseTraceDocument=function(c){var p=d.createQuickPulseDocument(c),v=c.data.baseData.severityLevel||0,m=t(t({},p),{Message:c.data.baseData.message,SeverityLevel:u.SeverityLevel[v]});return m},d.createQuickPulseExceptionDocument=function(c){var p=d.createQuickPulseDocument(c),v=c.data.baseData.exceptions,m="",g="",E="";v&&v.length>0&&(v[0].parsedStack&&v[0].parsedStack.length>0?v[0].parsedStack.forEach(function(O){m+=O.assembly+`
`}):v[0].stack&&v[0].stack.length>0&&(m=v[0].stack),g=v[0].message,E=v[0].typeName);var T=t(t({},p),{Exception:m,ExceptionMessage:g,ExceptionType:E});return T},d.createQuickPulseRequestDocument=function(c){var p=d.createQuickPulseDocument(c),v=c.data.baseData,m=t(t({},p),{Name:v.name,Success:v.success,Duration:v.duration,ResponseCode:v.responseCode,OperationName:v.name});return m},d.createQuickPulseDependencyDocument=function(c){var p=d.createQuickPulseDocument(c),v=c.data.baseData,m=t(t({},p),{Name:v.name,Target:v.target,Success:v.success,Duration:v.duration,ResultCode:v.resultCode,CommandName:v.data,OperationName:p.OperationId,DependencyTypeName:v.type});return m},d.createQuickPulseDocument=function(c){var p,v,m,g;c.data.baseType?(v=a.TelemetryTypeStringToQuickPulseType[c.data.baseType],p=a.TelemetryTypeStringToQuickPulseDocumentType[c.data.baseType]):n.warn("Document type invalid; not sending live metric document",c.data.baseType),m=c.tags[d.keys.operationId],g=d.aggregateProperties(c);var E={DocumentType:p,__type:v,OperationId:m,Version:"1.0",Properties:g};return E},d.aggregateProperties=function(c){var p=[],v=c.data.baseData.measurements||{};for(var m in v)if(v.hasOwnProperty(m)){var g=v[m],E={key:m,value:g};p.push(E)}var T=c.data.baseData.properties||{};for(var m in T)if(T.hasOwnProperty(m)){var g=T[m],E={key:m,value:g};p.push(E)}return p},d.keys=new u.ContextTagKeys,d}();i.exports=l}),um=x((e,i)=>{"use strict";var t=function(){return(Date.now()+621355968e5)*1e4};i.exports={getTransmissionTime:t}}),cm=x((e,i)=>{"use strict";var t=e&&e.__awaiter||function(c,p,v,m){function g(E){return E instanceof v?E:new v(function(T){T(E)})}return new(v||(v=Promise))(function(E,T){function O(M){try{A(m.next(M))}catch(j){T(j)}}function P(M){try{A(m.throw(M))}catch(j){T(j)}}function A(M){M.done?E(M.value):g(M.value).then(O,P)}A((m=m.apply(c,p||[])).next())})},r=e&&e.__generator||function(c,p){var v={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},m,g,E,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(A){return function(M){return P([A,M])}}function P(A){if(m)throw new TypeError("Generator is already executing.");for(;v;)try{if(m=1,g&&(E=A[0]&2?g.return:A[0]?g.throw||((E=g.return)&&E.call(g),0):g.next)&&!(E=E.call(g,A[1])).done)return E;switch(g=0,E&&(A=[A[0]&2,E.value]),A[0]){case 0:case 1:E=A;break;case 4:return v.label++,{value:A[1],done:!1};case 5:v.label++,g=A[1],A=[0];continue;case 7:A=v.ops.pop(),v.trys.pop();continue;default:if(E=v.trys,!(E=E.length>0&&E[E.length-1])&&(A[0]===6||A[0]===2)){v=0;continue}if(A[0]===3&&(!E||A[1]>E[0]&&A[1]<E[3])){v.label=A[1];break}if(A[0]===6&&v.label<E[1]){v.label=E[1],E=A;break}if(E&&v.label<E[2]){v.label=E[2],v.ops.push(A);break}E[2]&&v.ops.pop(),v.trys.pop();continue}A=p.call(c,v)}catch(M){A=[6,M],g=0}finally{m=E=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},u=require("https"),a=Ei(),o=yr(),n=um(),s=Gr(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},d=function(){function c(p){this._config=p,this._consecutiveErrors=0}return c.prototype.ping=function(p,v,m){var g=[{name:l.streamId,value:p.StreamId},{name:l.machineName,value:p.MachineName},{name:l.roleName,value:p.RoleName},{name:l.instanceName,value:p.Instance},{name:l.invariantVersion,value:p.InvariantVersion.toString()}];this._submitData(p,v,m,"ping",g)},c.prototype.post=function(p,v,m){return t(this,void 0,void 0,function(){return r(this,function(g){switch(g.label){case 0:return[4,this._submitData([p],v,m,"post")];case 1:return g.sent(),[2]}})})},c.prototype._submitData=function(p,v,m,g,E){return t(this,void 0,void 0,function(){var T,O,P,A,M,j=this;return r(this,function(G){return T=JSON.stringify(p),O=(A={},A[a.disableCollectionRequestOption]=!0,A.host=v&&v.length>0?v:this._config.quickPulseHost,A.method=l.method,A.path="/QuickPulseService.svc/"+g+"?ikey="+this._config.instrumentationKey,A.headers=(M={Expect:"100-continue"},M[l.time]=n.getTransmissionTime(),M["Content-Type"]="application/json",M["Content-Length"]=Buffer.byteLength(T),M),A),E&&E.length>0&&E.forEach(function(B){return O.headers[B.name]=B.value}),this._config.httpsAgent?O.agent=this._config.httpsAgent:O.agent=s.tlsRestrictedAgent,P=u.request(O,function(B){if(B.statusCode==200){var Y=B.headers[l.subscribed]==="true",ne=B.headers[l.endpointRedirect]?B.headers[l.endpointRedirect].toString():null,ye=B.headers[l.pollingIntervalHint]?parseInt(B.headers[l.pollingIntervalHint].toString()):null;j._consecutiveErrors=0,m(Y,B,ne,ye)}else j._onError("StatusCode:"+B.statusCode+" StatusMessage:"+B.statusMessage),m()}),P.on("error",function(B){j._onError(B),m()}),P.write(T),P.end(),[2]})})},c.prototype._onError=function(p){this._consecutiveErrors++;var v="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%c.MAX_QPS_FAILURES_BEFORE_WARN===0?(v="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",o.warn(c.TAG,v,p)):o.info(c.TAG,v,p)},c.TAG="QuickPulseSender",c.MAX_QPS_FAILURES_BEFORE_WARN=25,c}();i.exports=d}),lm=x((e,i)=>{"use strict";var t=e&&e.__awaiter||function(d,c,p,v){function m(g){return g instanceof p?g:new p(function(E){E(g)})}return new(p||(p=Promise))(function(g,E){function T(A){try{P(v.next(A))}catch(M){E(M)}}function O(A){try{P(v.throw(A))}catch(M){E(M)}}function P(A){A.done?g(A.value):m(A.value).then(T,O)}P((v=v.apply(d,c||[])).next())})},r=e&&e.__generator||function(d,c){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},v,m,g,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(P){return function(A){return O([P,A])}}function O(P){if(v)throw new TypeError("Generator is already executing.");for(;p;)try{if(v=1,m&&(g=P[0]&2?m.return:P[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,P[1])).done)return g;switch(m=0,g&&(P=[P[0]&2,g.value]),P[0]){case 0:case 1:g=P;break;case 4:return p.label++,{value:P[1],done:!1};case 5:p.label++,m=P[1],P=[0];continue;case 7:P=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(P[0]===6||P[0]===2)){p=0;continue}if(P[0]===3&&(!g||P[1]>g[0]&&P[1]<g[3])){p.label=P[1];break}if(P[0]===6&&p.label<g[1]){p.label=g[1],g=P;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(P);break}g[2]&&p.ops.pop(),p.trys.pop();continue}P=c.call(d,p)}catch(A){P=[6,A],m=0}finally{v=g=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},u=yr(),a=sm(),o=cm(),n=bn(),s=io(),l=function(){function d(c,p){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=c,this.context=p||new s,this._sender=new o(this.config),this._isEnabled=!1}return d.prototype.addCollector=function(c){this._collectors.push(c)},d.prototype.trackMetric=function(c){this._addMetric(c)},d.prototype.addDocument=function(c){var p=a.telemetryEnvelopeToQuickPulseDocument(c);p&&this._documents.push(p)},d.prototype.enable=function(c){c&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!c&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},d.prototype.enableCollectors=function(c){this._collectors.forEach(function(p){p.enable(c)})},d.prototype._addMetric=function(c){var p=c.value,v=c.count||1,m=n.PerformanceToQuickPulseCounter[c.name];m&&(this._metrics[m]?(this._metrics[m].Value=(this._metrics[m].Value*this._metrics[m].Weight+p*v)/(this._metrics[m].Weight+v),this._metrics[m].Weight+=v):(this._metrics[m]=a.createQuickPulseMetric(c),this._metrics[m].Name=m,this._metrics[m].Weight=1))},d.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},d.prototype._goQuickPulse=function(){return t(this,void 0,void 0,function(){var c,p,v,m,g=this;return r(this,function(E){switch(E.label){case 0:return c=Object.keys(this._metrics).map(function(T){return g._metrics[T]}),p=a.createQuickPulseEnvelope(c,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(p)]:[3,2];case 1:return E.sent(),[3,3];case 2:this._ping(p),E.label=3;case 3:return v=this._pollingIntervalHint>0?this._pollingIntervalHint:d.PING_INTERVAL,m=this._isCollectingData?d.POST_INTERVAL:v,this._isCollectingData&&Date.now()-this._lastSuccessTime>=d.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,m=d.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=d.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(m=d.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),m),this._handle.unref(),[2]}})})},d.prototype._ping=function(c){this._sender.ping(c,this._redirectedHost,this._quickPulseDone.bind(this))},d.prototype._post=function(c){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this._sender.post(c,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return p.sent(),[2]}})})},d.prototype._quickPulseDone=function(c,p,v,m){c!=null?(this._isCollectingData!==c&&(u.info("Live Metrics sending data",c),this.enableCollectors(c)),this._isCollectingData=c,v&&v.length>0&&(this._redirectedHost=v,u.info("Redirecting endpoint to: ",v)),m&&m>0&&(this._pollingIntervalHint=m),p&&p.statusCode<300&&p.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},d.MAX_POST_WAIT_TIME=2e4,d.MAX_PING_WAIT_TIME=6e4,d.FALLBACK_INTERVAL=6e4,d.PING_INTERVAL=5e3,d.POST_INTERVAL=1e3,d}();i.exports=l}),dm=x((e,i)=>{"use strict";var t=bn(),r=function(){function u(){}return u.parse=function(a){if(!a)return{};var o=a.split(u._FIELDS_SEPARATOR),n=o.reduce(function(l,d){var c=d.split(u._FIELD_KEY_VALUE_SEPARATOR);if(c.length===2){var p=c[0].toLowerCase(),v=c[1];l[p]=v}return l},{});if(Object.keys(n).length>0){if(n.endpointsuffix){var s=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+s+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+s+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||t.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||t.DEFAULT_LIVEMETRICS_ENDPOINT}return n},u._FIELDS_SEPARATOR=";",u._FIELD_KEY_VALUE_SEPARATOR="=",u}();i.exports=r}),Tl=x((e,i)=>{"use strict";var t=Wn(),r=dm(),u=yr(),a=bn(),o=require("url"),n=function(){function s(l){var d=this;this.endpointBase=a.DEFAULT_BREEZE_ENDPOINT;var c=process.env[s.ENV_connectionString],p=r.parse(l),v=r.parse(c),m=!p.instrumentationkey&&Object.keys(p).length>0?null:l;this.instrumentationKey=p.instrumentationkey||m||v.instrumentationkey||s._getInstrumentationKey(),s._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(p.ingestionendpoint||v.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(g){return d.correlationId=g},this.proxyHttpUrl=process.env[s.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[s.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=p.ingestionendpoint||v.ingestionendpoint||process.env[s.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=p.liveendpoint||v.liveendpoint||process.env[s.ENV_quickPulseHost]||a.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=o.parse(this._quickPulseHost).host)}return Object.defineProperty(s.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){t.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=t.correlationIdPrefix,t.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),s._getInstrumentationKey=function(){var l=process.env[s.ENV_iKey]||process.env[s.ENV_azurePrefix+s.ENV_iKey]||process.env[s.legacy_ENV_iKey]||process.env[s.ENV_azurePrefix+s.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},s._validateInstrumentationKey=function(l){var d="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",c=new RegExp(d);return c.test(l)},s.ENV_azurePrefix="APPSETTING_",s.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",s.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",s.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",s.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",s.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",s.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",s.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",s.ENV_http_proxy="http_proxy",s.ENV_https_proxy="https_proxy",s}();i.exports=n}),fm=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(o){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var t=Tl(),r=io(),u=yr(),a=function(){function o(n){this._disabledMetrics={},o.INSTANCE&&o.INSTANCE.dispose(),o.INSTANCE=this,this._client=n}return o.isNodeVersionCompatible=function(){var n=process.versions.node.split(".");return parseInt(n[0])>=6},o.prototype.enable=function(n,s,l){var d=this;if(s===void 0&&(s={}),l===void 0&&(l=6e4),!!o.isNodeVersionCompatible()){if(o._metricsAvailable==null&&n&&!this._isInitialized)try{var c=require("applicationinsights-native-metrics");o._emitter=new c,o._metricsAvailable=!0,u.info("Native metrics module successfully loaded!")}catch{o._metricsAvailable=!1;return}this._isEnabled=n,this._disabledMetrics=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&o._emitter?(o._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return d._trackNativeMetrics()},l),this._handle.unref())):o._emitter&&(o._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},o.prototype.dispose=function(){this.enable(!1)},o.parseEnabled=function(n){var s=process.env[t.ENV_nativeMetricsDisableAll],l=process.env[t.ENV_nativeMetricsDisablers];if(s)return{isEnabled:!1,disabledMetrics:{}};if(l){var d=l.split(","),c={};if(d.length>0)for(var p=0,v=d;p<v.length;p++){var m=v[p];c[m]=!0}return typeof n=="object"?{isEnabled:!0,disabledMetrics:i(i({},n),c)}:{isEnabled:n,disabledMetrics:c}}return typeof n=="boolean"?{isEnabled:n,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:n}},o.prototype._trackNativeMetrics=function(){var n=!0;typeof this._isEnabled!="object"&&(n=this._isEnabled),n&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},o.prototype._trackGarbageCollection=function(){var n;if(!this._disabledMetrics.gc){var s=o._emitter.getGCData();for(var l in s){var d=s[l].metrics,c=l+" Garbage Collection Duration",p=Math.sqrt(d.sumSquares/d.count-Math.pow(d.total/d.count,2))||0;this._client.trackMetric({name:c,value:d.total,count:d.count,max:d.max,min:d.min,stdDev:p,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,n)})}}},o.prototype._trackEventLoop=function(){var n;if(!this._disabledMetrics.loop){var s=o._emitter.getLoopData(),l=s.loopUsage;if(l.count!=0){var d="Event Loop CPU Time",c=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:d,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:c,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,n)})}}},o.prototype._trackHeapUsage=function(){var n,s,l;if(!this._disabledMetrics.heap){var d=process.memoryUsage(),c=d.heapUsed,p=d.heapTotal,v=d.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:c,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,n)}),this._client.trackMetric({name:"Memory Total (Heap)",value:p,count:1,tagOverrides:(s={},s[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,s)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:v-p,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+r.sdkVersion,l)})}},o}();e.AutoCollectNativePerformance=a}),pm=x((e,i)=>{"use strict";var t=yr(),r=function(){function u(a,o,n,s){this._buffer=[],this._lastSend=0,this._isDisabled=a,this._getBatchSize=o,this._getBatchIntervalMs=n,this._sender=s}return u.prototype.setUseDiskRetryCaching=function(a,o,n){this._sender.setDiskRetryMode(a,o,n)},u.prototype.send=function(a){var o=this;if(!this._isDisabled()){if(!a){t.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(a),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){o._timeoutHandle=null,o.triggerSend(!1)},this._getBatchIntervalMs()))}},u.prototype.triggerSend=function(a,o){var n=this._buffer.length<1;n||(a?(this._sender.saveOnCrash(this._buffer),typeof o=="function"&&o("data saved on crash")):this._sender.send(this._buffer,o)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&typeof o=="function"&&o("no data to send")},u}();i.exports=r}),hm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0;function i(t,r){process.env.WEBSITE_SITE_NAME&&(t.tags[r.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}e.azureRoleEnvironmentTelemetryProcessor=i}),vm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var i=Fr();function t(u,a){var o=u.sampleRate,n=!1;return o==null||o>=100||u.data&&i.TelemetryType.Metric===i.baseTypeToTelemetryType(u.data.baseType)?!0:(a.correlationContext&&a.correlationContext.operation?n=r(a.correlationContext.operation.id)<o:n=Math.random()*100<o,n)}e.samplingTelemetryProcessor=t;function r(u){var a=-2147483648,o=2147483647,n=5381;if(!u)return 0;for(;u.length<8;)u=u+u;for(var s=0;s<u.length;s++)n=((n<<5)+n|0)+u.charCodeAt(s)|0;return n=n<=a?o:Math.abs(n),n/o*100}e.getSamplingHashCode=r}),mm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var i=Xa(),t=Fr();function r(u,a){switch(a&&a.addDocument(u),u.data.baseType){case t.TelemetryTypeString.Exception:i.countException();break;case t.TelemetryTypeString.Request:var o=u.data.baseData;i.countRequest(o.duration,o.success);break;case t.TelemetryTypeString.Dependency:var n=u.data.baseData;i.countDependency(n.duration,n.success);break}return!0}e.performanceMetricsTelemetryProcessor=r}),gm=x(e=>{"use strict";var i=e&&e.__assign||function(){return i=Object.assign||function(o){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var t=Fr(),r=bl(),u=Fr();function a(o,n){if(r.isEnabled())switch(o.data.baseType){case u.TelemetryTypeString.Exception:var s=o.data.baseData;s.properties=i(i({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:o.tags[n.keys.cloudRoleInstance],cloudRoleName:o.tags[n.keys.cloudRole]};r.countException(l);break;case u.TelemetryTypeString.Trace:var d=o.data.baseData;d.properties=i(i({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var c={cloudRoleInstance:o.tags[n.keys.cloudRoleInstance],cloudRoleName:o.tags[n.keys.cloudRole],traceSeverityLevel:t.SeverityLevel[d.severity]};r.countTrace(c);break;case u.TelemetryTypeString.Request:var p=o.data.baseData;p.properties=i(i({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var v={cloudRoleInstance:o.tags[n.keys.cloudRoleInstance],cloudRoleName:o.tags[n.keys.cloudRole],operationSynthetic:o.tags[n.keys.operationSyntheticSource],requestSuccess:p.success,requestResultCode:p.responseCode};r.countRequest(p.duration,v);break;case u.TelemetryTypeString.Dependency:var m=o.data.baseData;m.properties=i(i({},m.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var g={cloudRoleInstance:o.tags[n.keys.cloudRoleInstance],cloudRoleName:o.tags[n.keys.cloudRole],operationSynthetic:o.tags[n.keys.operationSyntheticSource],dependencySuccess:m.success,dependencyType:m.type,dependencyTarget:m.target,dependencyResultCode:m.resultCode};r.countDependency(m.duration,g);break}return!0}e.preAggregatedMetricsTelemetryProcessor=a}),_m=x(e=>{"use strict";var i=e&&e.__createBinding||(Object.create?function(r,u,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return u[a]}})}:function(r,u,a,o){o===void 0&&(o=a),r[o]=u[a]}),t=e&&e.__exportStar||function(r,u){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(u,a)&&i(u,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(hm(),e),t(vm(),e),t(mm(),e),t(gm(),e)}),ym=x((e,i)=>{"use strict";var t=e&&e.__awaiter||function(v,m,g,E){function T(O){return O instanceof g?O:new g(function(P){P(O)})}return new(g||(g=Promise))(function(O,P){function A(G){try{j(E.next(G))}catch(B){P(B)}}function M(G){try{j(E.throw(G))}catch(B){P(B)}}function j(G){G.done?O(G.value):T(G.value).then(A,M)}j((E=E.apply(v,m||[])).next())})},r=e&&e.__generator||function(v,m){var g={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},E,T,O,P;return P={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function A(j){return function(G){return M([j,G])}}function M(j){if(E)throw new TypeError("Generator is already executing.");for(;g;)try{if(E=1,T&&(O=j[0]&2?T.return:j[0]?T.throw||((O=T.return)&&O.call(T),0):T.next)&&!(O=O.call(T,j[1])).done)return O;switch(T=0,O&&(j=[j[0]&2,O.value]),j[0]){case 0:case 1:O=j;break;case 4:return g.label++,{value:j[1],done:!1};case 5:g.label++,T=j[1],j=[0];continue;case 7:j=g.ops.pop(),g.trys.pop();continue;default:if(O=g.trys,!(O=O.length>0&&O[O.length-1])&&(j[0]===6||j[0]===2)){g=0;continue}if(j[0]===3&&(!O||j[1]>O[0]&&j[1]<O[3])){g.label=j[1];break}if(j[0]===6&&g.label<O[1]){g.label=O[1],O=j;break}if(O&&g.label<O[2]){g.label=O[2],g.ops.push(j);break}O[2]&&g.ops.pop(),g.trys.pop();continue}j=m.call(v,g)}catch(G){j=[6,G],T=0}finally{E=O=0}if(j[0]&5)throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}},u=require("fs"),a=require("os"),o=require("path"),n=require("zlib"),s=require("child_process"),l=yr(),d=Ei(),c=Gr(),p=function(){function v(m,g,E){if(this._redirectedHost=null,this._config=m,this._onSuccess=g,this._onError=E,this._enableDiskRetryMode=!1,this._resendInterval=v.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=v.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=o.join(a.tmpdir(),v.TEMPDIR_PREFIX+this._config.instrumentationKey),!v.OS_PROVIDES_FILE_PROTECTION)if(v.USE_ICACLS){try{v.OS_PROVIDES_FILE_PROTECTION=u.existsSync(v.ICACLS_PATH)}catch{}v.OS_PROVIDES_FILE_PROTECTION||l.warn(v.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else v.OS_PROVIDES_FILE_PROTECTION=!0}return v.prototype.setDiskRetryMode=function(m,g,E){var T=this;this._enableDiskRetryMode=v.OS_PROVIDES_FILE_PROTECTION&&m,typeof g=="number"&&g>=0&&(this._resendInterval=Math.floor(g)),typeof E=="number"&&E>=0&&(this._maxBytesOnDisk=Math.floor(E)),m&&!v.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(v.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){T._fileCleanupTask()},v.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},v.prototype.send=function(m,g){return t(this,void 0,void 0,function(){var E,T,O,P,A=this;return r(this,function(M){return m&&(E=this._redirectedHost||this._config.endpointUrl,T={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},O="",m.forEach(function(j){var G=A._stringify(j);typeof G=="string"&&(O+=G+`
`)}),O.length>0&&(O=O.substring(0,O.length-1)),P=Buffer.from?Buffer.from(O):new Buffer(O),n.gzip(P,function(j,G){var B=G;j?(l.warn(j),B=P,T.headers["Content-Length"]=P.length.toString()):(T.headers["Content-Encoding"]="gzip",T.headers["Content-Length"]=G.length.toString()),l.info(v.TAG,T),T[d.disableCollectionRequestOption]=!0;var Y=function(ye){ye.setEncoding("utf-8");var Re="";ye.on("data",function(ut){Re+=ut}),ye.on("end",function(){if(A._numConsecutiveFailures=0,A._enableDiskRetryMode){if(ye.statusCode===200)A._resendTimer||(A._resendTimer=setTimeout(function(){A._resendTimer=null,A._sendFirstFileOnDisk()},A._resendInterval),A._resendTimer.unref());else if(A._isRetriable(ye.statusCode))try{var ut=JSON.parse(Re),ot=[];ut.errors.forEach(function(st){A._isRetriable(st.statusCode)&&ot.push(m[st.index])}),ot.length>0&&A._storeToDisk(ot)}catch{A._storeToDisk(m)}}if(ye.statusCode===307||ye.statusCode===308)if(A._numConsecutiveRedirects++,A._numConsecutiveRedirects<10){var xt=ye.headers.location?ye.headers.location.toString():null;xt&&(A._redirectedHost=xt,A.send(m,g))}else typeof g=="function"&&g("Error sending telemetry because of circular redirects.");else A._numConsecutiveRedirects=0,typeof g=="function"&&g(Re),l.info(v.TAG,Re),typeof A._onSuccess=="function"&&A._onSuccess(Re)})},ne=c.makeRequest(A._config,E,T,Y);ne.on("error",function(ye){if(A._numConsecutiveFailures++,!A._enableDiskRetryMode||A._numConsecutiveFailures>0&&A._numConsecutiveFailures%v.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var Re="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";A._enableDiskRetryMode&&(Re="Ingestion endpoint could not be reached "+A._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(v.TAG,Re,c.dumpObj(ye))}else{var Re="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(v.TAG,Re,c.dumpObj(ye))}A._onErrorHelper(ye),typeof g=="function"&&(ye&&g(c.dumpObj(ye)),g("Error sending telemetry")),A._enableDiskRetryMode&&A._storeToDisk(m)}),ne.write(B),ne.end()})),[2]})})},v.prototype.saveOnCrash=function(m){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(m))},v.prototype._isRetriable=function(m){return m===206||m===408||m===429||m===439||m===500||m===503},v.prototype._runICACLS=function(m,g){var E=s.spawn(v.ICACLS_PATH,m,{windowsHide:!0});E.on("error",function(T){return g(T)}),E.on("close",function(T,O){return g(T===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+T+")"))})},v.prototype._runICACLSSync=function(m){if(s.spawnSync){var g=s.spawnSync(v.ICACLS_PATH,m,{windowsHide:!0});if(g.error)throw g.error;if(g.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+g.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},v.prototype._getACLIdentity=function(m){if(v.ACL_IDENTITY)return m(null,v.ACL_IDENTITY);var g=s.spawn(v.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),E="";g.stdout.on("data",function(T){return E+=T}),g.on("error",function(T){return m(T,null)}),g.on("close",function(T,O){return v.ACL_IDENTITY=E&&E.trim(),m(T===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+T+")"),v.ACL_IDENTITY)})},v.prototype._getACLIdentitySync=function(){if(v.ACL_IDENTITY)return v.ACL_IDENTITY;if(s.spawnSync){var m=s.spawnSync(v.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(m.error)throw m.error;if(m.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+m.status+")");return v.ACL_IDENTITY=m.stdout&&m.stdout.toString().trim(),v.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},v.prototype._getACLArguments=function(m,g){return[m,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",g+":(OI)(CI)F","/inheritance:r"]},v.prototype._applyACLRules=function(m,g){var E=this;if(!v.USE_ICACLS)return g(null);if(v.ACLED_DIRECTORIES[m]===void 0)v.ACLED_DIRECTORIES[m]=!1,this._getACLIdentity(function(T,O){if(T)return v.ACLED_DIRECTORIES[m]=!1,g(T);E._runICACLS(E._getACLArguments(m,O),function(P){return v.ACLED_DIRECTORIES[m]=!P,g(P)})});else return g(v.ACLED_DIRECTORIES[m]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},v.prototype._applyACLRulesSync=function(m){if(v.USE_ICACLS){if(v.ACLED_DIRECTORIES[m]===void 0){this._runICACLSSync(this._getACLArguments(m,this._getACLIdentitySync())),v.ACLED_DIRECTORIES[m]=!0;return}else if(!v.ACLED_DIRECTORIES[m])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},v.prototype._confirmDirExists=function(m,g){var E=this;u.lstat(m,function(T,O){T&&T.code==="ENOENT"?u.mkdir(m,function(P){P&&P.code!=="EEXIST"?g(P):E._applyACLRules(m,g)}):!T&&O.isDirectory()?E._applyACLRules(m,g):g(T||new Error("Path existed but was not a directory"))})},v.prototype._getShallowDirectorySize=function(m,g){u.readdir(m,function(E,T){if(E)return g(E,-1);var O=null,P=0,A=0;if(T.length===0){g(null,0);return}for(var M=0;M<T.length;M++)u.stat(o.join(m,T[M]),function(j,G){A++,j?O=j:G.isFile()&&(P+=G.size),A===T.length&&(O?g(O,-1):g(O,P))})})},v.prototype._getShallowDirectorySizeSync=function(m){for(var g=u.readdirSync(m),E=0,T=0;T<g.length;T++)E+=u.statSync(o.join(m,g[T])).size;return E},v.prototype._storeToDisk=function(m){var g=this;l.info(v.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(E){if(E){l.warn(v.TAG,"Error while checking/creating directory: "+(E&&E.message)),g._onErrorHelper(E);return}g._getShallowDirectorySize(g._tempDir,function(T,O){if(T||O<0){l.warn(v.TAG,"Error while checking directory size: "+(T&&T.message)),g._onErrorHelper(T);return}else if(O>g._maxBytesOnDisk){l.warn(v.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+O);return}var P=new Date().getTime()+".ai.json",A=o.join(g._tempDir,P);l.info(v.TAG,"saving data to disk at: "+A),u.writeFile(A,g._stringify(m),{mode:384},function(M){return g._onErrorHelper(M)})})})},v.prototype._storeToDiskSync=function(m){try{l.info(v.TAG,"Checking existence of data storage directory: "+this._tempDir),u.existsSync(this._tempDir)||u.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var g=this._getShallowDirectorySizeSync(this._tempDir);if(g>this._maxBytesOnDisk){l.info(v.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+g);return}var E=new Date().getTime()+".ai.json",T=o.join(this._tempDir,E);l.info(v.TAG,"saving data before crash to disk at: "+T),u.writeFileSync(T,m,{mode:384})}catch(O){l.warn(v.TAG,"Error while saving data to disk: "+(O&&O.message)),this._onErrorHelper(O)}},v.prototype._sendFirstFileOnDisk=function(){var m=this;u.exists(this._tempDir,function(g){g&&u.readdir(m._tempDir,function(E,T){if(E)m._onErrorHelper(E);else if(T=T.filter(function(A){return o.basename(A).indexOf(".ai.json")>-1}),T.length>0){var O=T[0],P=o.join(m._tempDir,O);u.readFile(P,function(A,M){A?m._onErrorHelper(A):u.unlink(P,function(j){if(j)m._onErrorHelper(j);else try{var G=JSON.parse(M.toString());m.send(G)}catch(B){l.warn("Failed to read persisted file",B)}})})}})})},v.prototype._onErrorHelper=function(m){typeof this._onError=="function"&&this._onError(m)},v.prototype._stringify=function(m){try{return JSON.stringify(m)}catch(g){l.warn("Failed to serialize payload",g,m)}},v.prototype._fileCleanupTask=function(){var m=this;u.exists(this._tempDir,function(g){g&&u.readdir(m._tempDir,function(E,T){E?m._onErrorHelper(E):(T=T.filter(function(O){return o.basename(O).indexOf(".ai.json")>-1}),T.length>0&&T.forEach(function(O){var P=new Date(parseInt(O.split(".ai.json")[0])),A=new Date(+new Date-v.FILE_RETEMPTION_PERIOD)>P;if(A){var M=o.join(m._tempDir,O);u.unlink(M,function(j){j&&m._onErrorHelper(j)})}}))})})},v.TAG="Sender",v.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",v.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",v.ACLED_DIRECTORIES={},v.ACL_IDENTITY=null,v.WAIT_BETWEEN_RESEND=60*1e3,v.MAX_BYTES_ON_DISK=50*1024*1024,v.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,v.CLEANUP_TIMEOUT=60*60*1e3,v.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,v.TEMPDIR_PREFIX="appInsights-node",v.OS_PROVIDES_FILE_PROTECTION=!1,v.USE_ICACLS=a.type()==="Windows_NT",v}();i.exports=p}),Em=x((e,i)=>{"use strict";var t=Fr(),r=Gr(),u=$n(),a=function(){function n(){}return n.createEnvelope=function(s,l,d,c,p){var v=null;switch(l){case t.TelemetryType.Trace:v=n.createTraceData(s);break;case t.TelemetryType.Dependency:v=n.createDependencyData(s);break;case t.TelemetryType.Event:v=n.createEventData(s);break;case t.TelemetryType.Exception:v=n.createExceptionData(s);break;case t.TelemetryType.Request:v=n.createRequestData(s);break;case t.TelemetryType.Metric:v=n.createMetricData(s);break;case t.TelemetryType.Availability:v=n.createAvailabilityData(s);break;case t.TelemetryType.PageView:v=n.createPageViewData(s);break}if(d&&t.domainSupportsProperties(v.baseData)){if(v&&v.baseData)if(!v.baseData.properties)v.baseData.properties=d;else for(var m in d)v.baseData.properties[m]||(v.baseData.properties[m]=d[m]);v.baseData.properties=r.validateStringMap(v.baseData.properties)}var g=p&&p.instrumentationKey||"",E=new t.Envelope;return E.data=v,E.iKey=g,E.name="Microsoft.ApplicationInsights."+g.replace(/-/g,"")+"."+v.baseType.substr(0,v.baseType.length-4),E.tags=this.getTags(c,s.tagOverrides),E.time=new Date().toISOString(),E.ver=1,E.sampleRate=p?p.samplingPercentage:100,l===t.TelemetryType.Metric&&(E.sampleRate=100),E},n.createTraceData=function(s){var l=new t.MessageData;l.message=s.message,l.properties=s.properties,isNaN(s.severity)?l.severityLevel=t.SeverityLevel.Information:l.severityLevel=s.severity;var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Trace),d.baseData=l,d},n.createDependencyData=function(s){var l=new t.RemoteDependencyData;typeof s.name=="string"&&(l.name=s.name.length>1024?s.name.slice(0,1021)+"...":s.name),l.data=s.data,l.target=s.target,l.duration=r.msToTimeSpan(s.duration),l.success=s.success,l.type=s.dependencyTypeName,l.properties=s.properties,l.resultCode=s.resultCode?s.resultCode+"":"",s.id?l.id=s.id:l.id=r.w3cTraceId();var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Dependency),d.baseData=l,d},n.createEventData=function(s){var l=new t.EventData;l.name=s.name,l.properties=s.properties,l.measurements=s.measurements;var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Event),d.baseData=l,d},n.createExceptionData=function(s){var l=new t.ExceptionData;l.properties=s.properties,isNaN(s.severity)?l.severityLevel=t.SeverityLevel.Error:l.severityLevel=s.severity,l.measurements=s.measurements,l.exceptions=[];var d=s.exception.stack,c=new t.ExceptionDetails;c.message=s.exception.message,c.typeName=s.exception.name,c.parsedStack=this.parseStack(d),c.hasFullStack=r.isArray(c.parsedStack)&&c.parsedStack.length>0,l.exceptions.push(c);var p=new t.Data;return p.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Exception),p.baseData=l,p},n.createRequestData=function(s){var l=new t.RequestData;s.id?l.id=s.id:l.id=r.w3cTraceId(),l.name=s.name,l.url=s.url,l.source=s.source,l.duration=r.msToTimeSpan(s.duration),l.responseCode=s.resultCode?s.resultCode+"":"",l.success=s.success,l.properties=s.properties;var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Request),d.baseData=l,d},n.createMetricData=function(s){var l=new t.MetricData;l.metrics=[];var d=new t.DataPoint;d.count=isNaN(s.count)?1:s.count,d.kind=t.DataPointType.Aggregation,d.max=isNaN(s.max)?s.value:s.max,d.min=isNaN(s.min)?s.value:s.min,d.name=s.name,d.stdDev=isNaN(s.stdDev)?0:s.stdDev,d.value=s.value,l.metrics.push(d),l.properties=s.properties;var c=new t.Data;return c.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Metric),c.baseData=l,c},n.createAvailabilityData=function(s){var l=new t.AvailabilityData;s.id?l.id=s.id:l.id=r.w3cTraceId(),l.name=s.name,l.duration=r.msToTimeSpan(s.duration),l.success=s.success,l.runLocation=s.runLocation,l.message=s.message,l.measurements=s.measurements,l.properties=s.properties;var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.Availability),d.baseData=l,d},n.createPageViewData=function(s){var l=new t.PageViewData;l.name=s.name,l.duration=r.msToTimeSpan(s.duration),l.url=s.url,l.measurements=s.measurements,l.properties=s.properties;var d=new t.Data;return d.baseType=t.telemetryTypeToBaseType(t.TelemetryType.PageView),d.baseData=l,d},n.getTags=function(s,l){var d=u.CorrelationContextManager.getCurrentContext(),c={};if(s&&s.tags)for(var p in s.tags)c[p]=s.tags[p];if(l)for(var p in l)c[p]=l[p];return d&&(c[s.keys.operationId]=c[s.keys.operationId]||d.operation.id,c[s.keys.operationName]=c[s.keys.operationName]||d.operation.name,c[s.keys.operationParentId]=c[s.keys.operationParentId]||d.operation.parentId),c},n.parseStack=function(s){var l=void 0;if(typeof s=="string"){var d=s.split(`
`);l=[];for(var c=0,p=0,v=0;v<=d.length;v++){var m=d[v];if(o.regex.test(m)){var g=new o(d[v],c++);p+=g.sizeInBytes,l.push(g)}}var E=32*1024;if(p>E)for(var T=0,O=l.length-1,P=0,A=T,M=O;T<O;){var j=l[T].sizeInBytes,G=l[O].sizeInBytes;if(P+=j+G,P>E){var B=M-A+1;l.splice(A,B);break}A=T,M=O,T++,O--}}return l},n}(),o=function(){function n(s,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=r.trim(s);var d=s.match(n.regex);d&&d.length>=5&&(this.method=r.trim(d[2])||this.method,this.fileName=r.trim(d[4])||"<no_filename>",this.line=parseInt(d[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=n.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return n.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,n.baseSize=58,n}();i.exports=a}),bm=x((e,i)=>{"use strict";var t=require("url"),r=Tl(),u=io(),a=Fr(),o=pm(),n=_m(),s=$n(),l=ym(),d=Gr(),c=yr(),p=Em(),v=function(){function m(g){this._telemetryProcessors=[],this._enableAzureProperties=!1;var E=new r(g);this.config=E,this.context=new u,this.commonProperties={};var T=new l(this.config);this.channel=new o(function(){return E.disableAppInsights},function(){return E.maxBatchSize},function(){return E.maxBatchIntervalMs},T)}return m.prototype.trackAvailability=function(g){this.track(g,a.TelemetryType.Availability)},m.prototype.trackPageView=function(g){this.track(g,a.TelemetryType.PageView)},m.prototype.trackTrace=function(g){this.track(g,a.TelemetryType.Trace)},m.prototype.trackMetric=function(g){this.track(g,a.TelemetryType.Metric)},m.prototype.trackException=function(g){g&&g.exception&&!d.isError(g.exception)&&(g.exception=new Error(g.exception.toString())),this.track(g,a.TelemetryType.Exception)},m.prototype.trackEvent=function(g){this.track(g,a.TelemetryType.Event)},m.prototype.trackRequest=function(g){this.track(g,a.TelemetryType.Request)},m.prototype.trackDependency=function(g){g&&!g.target&&g.data&&(g.target=t.parse(g.data).host),this.track(g,a.TelemetryType.Dependency)},m.prototype.flush=function(g){this.channel.triggerSend(g?!!g.isAppCrashing:!1,g?g.callback:void 0)},m.prototype.track=function(g,E){if(g&&a.telemetryTypeToBaseType(E)){var T=p.createEnvelope(g,E,this.commonProperties,this.context,this.config);g.time&&(T.time=g.time.toISOString()),this._enableAzureProperties&&n.azureRoleEnvironmentTelemetryProcessor(T,this.context);var O=this.runTelemetryProcessors(T,g.contextObjects);O=O&&n.samplingTelemetryProcessor(T,{correlationContext:s.CorrelationContextManager.getCurrentContext()}),n.preAggregatedMetricsTelemetryProcessor(T,this.context),O&&(n.performanceMetricsTelemetryProcessor(T,this.quickPulseClient),this.channel.send(T))}else c.warn("track() requires telemetry object and telemetryType to be specified.")},m.prototype.setAutoPopulateAzureProperties=function(g){this._enableAzureProperties=g},m.prototype.addTelemetryProcessor=function(g){this._telemetryProcessors.push(g)},m.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},m.prototype.runTelemetryProcessors=function(g,E){var T=!0,O=this._telemetryProcessors.length;if(O===0)return T;E=E||{},E.correlationContext=s.CorrelationContextManager.getCurrentContext();for(var P=0;P<O;++P)try{var A=this._telemetryProcessors[P];if(A&&A.apply(null,[g,E])===!1){T=!1;break}}catch(M){T=!0,c.warn("One of telemetry processors failed, telemetry item will be sent.",M,g)}return T&&(g&&g.tags&&(g.tags=d.validateStringMap(g.tags)),g&&g.data&&g.data.baseData&&g.data.baseData.properties&&(g.data.baseData.properties=d.validateStringMap(g.data.baseData.properties))),T},m}();i.exports=v}),Sm=x((e,i)=>{"use strict";var t=e&&e.__extends||function(){var s=function(l,d){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(c[v]=p[v])},s(l,d)};return function(l,d){s(l,d);function c(){this.constructor=l}l.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}(),r=bm(),u=Sl(),a=Ei(),o=yr(),n=function(s){t(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(d){d&&d.request&&d.response&&d.duration?u.trackRequestSync(this,d):o.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(d){(d.duration||d.error)&&o.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),d&&d.request&&d.response?u.trackRequest(this,d):o.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(d){d&&d.request?a.trackRequest(this,d):o.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(r);i.exports=n}),Tm=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),Im=x(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var i=$n(),t=Xv(),r=Qv(),u=Xa(),a=bl(),o=am(),n=Ei(),s=Sl(),l=Wn(),d=yr(),c=lm(),p=fm();e.TelemetryClient=Sm(),e.Contracts=Fr(),e.azureFunctionsTypes=Tm();var v;(function(Ae){Ae[Ae.AI=0]="AI",Ae[Ae.AI_AND_W3C=1]="AI_AND_W3C"})(v=e.DistributedTracingModes||(e.DistributedTracingModes={}));var m=!0,g=!1,E=!0,T=!0,O=!0,P=!1,A=!0,M=!0,j=!0,G=!0,B,Y=!1,ne=!0,ye,Re=void 0,ut=void 0,ot,xt,st,oe,ge,le,Ue,X,Ee=!1,se;function We(Ae){return e.defaultClient?d.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(Ae),ot=new t(e.defaultClient),xt=new r(e.defaultClient),st=new u(e.defaultClient),oe=new a(e.defaultClient),ge=new o(e.defaultClient),Ue=new s(e.defaultClient),X=new n(e.defaultClient),le||(le=new p.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(j,Re,ut),ve}e.setup=We;function rt(){return e.defaultClient?(Ee=!0,ot.enable(m,g),xt.enable(E),st.enable(T),oe.enable(O),ge.enable(P,e.defaultClient.config),le.enable(ne,ye),Ue.useAutoCorrelation(G,B),Ue.enable(A),X.enable(M),e.liveMetricsClient&&Y&&e.liveMetricsClient.enable(Y)):d.warn("Start cannot be called before setup"),ve}e.start=rt;function $(){return G?i.CorrelationContextManager.getCurrentContext():null}e.getCorrelationContext=$;function ee(Ae,Ne){return i.CorrelationContextManager.startOperation(Ae,Ne)}e.startOperation=ee;function re(Ae,Ne){return i.CorrelationContextManager.wrapCallback(Ae,Ne)}e.wrapWithCorrelationContext=re;var ve=function(){function Ae(){}return Ae.setDistributedTracingMode=function(Ne){return l.w3cEnabled=Ne===v.AI_AND_W3C,Ae},Ae.setAutoCollectConsole=function(Ne,Qe){return Qe===void 0&&(Qe=!1),m=Ne,g=Qe,Ee&&ot.enable(Ne,Qe),Ae},Ae.setAutoCollectExceptions=function(Ne){return E=Ne,Ee&&xt.enable(Ne),Ae},Ae.setAutoCollectPerformance=function(Ne,Qe){Qe===void 0&&(Qe=!0),T=Ne;var Ot=p.AutoCollectNativePerformance.parseEnabled(Qe);return ne=Ot.isEnabled,ye=Ot.disabledMetrics,Ee&&(st.enable(Ne),le.enable(Ot.isEnabled,Ot.disabledMetrics)),Ae},Ae.setAutoCollectPreAggregatedMetrics=function(Ne){return O=Ne,Ee&&oe.enable(Ne),Ae},Ae.setAutoCollectHeartbeat=function(Ne){return P=Ne,Ee&&ge.enable(Ne,e.defaultClient.config),Ae},Ae.setAutoCollectRequests=function(Ne){return A=Ne,Ee&&Ue.enable(Ne),Ae},Ae.setAutoCollectDependencies=function(Ne){return M=Ne,Ee&&X.enable(Ne),Ae},Ae.setAutoDependencyCorrelation=function(Ne,Qe){return G=Ne,B=Qe,Ee&&Ue.useAutoCorrelation(Ne,Qe),Ae},Ae.setUseDiskRetryCaching=function(Ne,Qe,Ot){return j=Ne,Re=Qe,ut=Ot,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(Ne,Qe,Ot),Ae},Ae.setInternalLogging=function(Ne,Qe){return Ne===void 0&&(Ne=!1),Qe===void 0&&(Qe=!0),d.enableDebug=Ne,d.disableWarnings=!Qe,Ae},Ae.setSendLiveMetrics=function(Ne){return Ne===void 0&&(Ne=!1),e.defaultClient?(!e.liveMetricsClient&&Ne?(e.liveMetricsClient=new c(e.defaultClient.config,null),se=new u(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(se),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(Ne),Y=Ne,Ae):(d.warn("Live metrics client cannot be setup without the default client"),Ae)},Ae.start=rt,Ae}();e.Configuration=ve;function Ve(){l.w3cEnabled=!0,e.defaultClient=null,Ee=!1,ot&&ot.dispose(),xt&&xt.dispose(),st&&st.dispose(),oe&&oe.dispose(),ge&&ge.dispose(),le&&le.dispose(),Ue&&Ue.dispose(),X&&X.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),Y=!1,e.liveMetricsClient=void 0)}e.dispose=Ve}),Il={};rp(Il,{default:()=>Nm});wl.exports=np(Il);var Fa=to(require("os")),yn=to(require("vscode")),wm=to(require("https")),Xr=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",i="enableTelemetry";try{let t=this.vscodeAPI.env.telemetryConfiguration;return t.isUsageEnabled&&t.isErrorsEnabled&&t.isCrashEnabled?"on":t.isErrorsEnabled&&t.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(i)?"on":"off"}}static applyReplacements(e,i){for(let t of Object.keys(e))for(let r of i)r.lookup.test(t)&&(r.replacementString!==void 0?e[t]=r.replacementString:delete e[t])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Xr._instance||(Xr._instance=new Xr(e)),Xr._instance}},Am=class{constructor(e,i,t,r,u,a){this.extensionId=e,this.extensionVersion=i,this.telemetryAppender=t,this.osShim=r,this.vscodeAPI=u,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!a,this.updateUserOptStatus(),u.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(u.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(u.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(u.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Xr.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let i="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(t=>{e.indexOf(`${t}`)===0&&(i=t)}),i}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,i){if(e===null||typeof e!="object"||typeof i!="function")return e;let t={};for(let r in e)t[r]=i(r,e[r]);return t}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,i){let t;if(e==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let u=e;if(i){let a=[];for(let l of r)for(;(t=l.exec(e))&&t;)a.push([t.index,l.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,n=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,s=0;for(u="";(t=n.exec(e))&&t;)t[0]&&!o.test(t[0])&&a.every(([l,d])=>t.index<l||t.index>=d)&&(u+=e.substring(s,t.index)+"<REDACTED: user-file-path>",s=n.lastIndex);s<e.length&&(u+=e.substr(s))}for(let a of r)u=u.replace(a,"");return u}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let i={};for(let t of Object.keys(e)){let r=e[t];if(!r)continue;let u=/@[a-zA-Z0-9-.]+/,a=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;a.test(r.toLowerCase())?i[t]="<REDACTED: secret>":u.test(r)?i[t]="<REDACTED: email>":o.test(r)?i[t]="<REDACTED: token>":i[t]=r}return i}get telemetryLevel(){switch(Xr.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,i,t,r,u){if((this.userOptIn||u)&&e!==""){if(i=xn(xn({},i),this.getCommonProperties()),r){let a=this.cloneAndChange(i,(o,n)=>this.anonymizeFilePaths(n,this.firstParty));i=this.removePropertiesWithPossibleUserInfo(a)}i=i??{},t=t??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:i,measurements:t})}}sendTelemetryEvent(e,i,t){this.internalSendTelemetryEvent(e,i,t,!0,!1)}sendRawTelemetryEvent(e,i,t){this.internalSendTelemetryEvent(e,i,t,!1,!1)}sendDangerousTelemetryEvent(e,i,t,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,i,t,r,!0)}internalSendTelemetryErrorEvent(e,i,t,r,u){if((this.shouldSendErrorTelemetry()||u)&&e!==""){if(i=xn(xn({},i),this.getCommonProperties()),r){let a=this.cloneAndChange(i,(o,n)=>this.anonymizeFilePaths(n,this.firstParty));i=this.removePropertiesWithPossibleUserInfo(a)}i=i??{},t=t??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:i,measurements:t})}}sendTelemetryErrorEvent(e,i,t){this.internalSendTelemetryErrorEvent(e,i,t,!0,!1)}sendDangerousTelemetryErrorEvent(e,i,t,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,i,t,r,!0)}internalSendTelemetryException(e,i,t,r,u){if((this.shouldSendErrorTelemetry()||u)&&e){if(i=xn(xn({},i),this.getCommonProperties()),r){let a=this.cloneAndChange(i,(o,n)=>this.anonymizeFilePaths(n,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),i=this.removePropertiesWithPossibleUserInfo(a)}i=i??{},t=t??{},this.telemetryAppender.logException(e,{properties:i,measurements:t})}}sendTelemetryException(e,i,t){this.internalSendTelemetryException(e,i,t,!0,!1)}sendDangerousTelemetryException(e,i,t,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,i,t,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},Om=class{constructor(e,i){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=i,this._key=e}logEvent(e,i){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:i});return}this._telemetryClient.logEvent(e,i)}logException(e,i){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:i});return}this._telemetryClient.logException(e,i)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:i})=>this.logEvent(e,i)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:i})=>this.logException(e,i)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},Pm=async(e,i,t)=>{let r=await Promise.resolve().then(()=>Cr(ja())),u=await Promise.resolve().then(()=>Cr(xc())),a=new r.AppInsightsCore,o=new u.PostChannel,n={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){n.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};n.extensionConfig[o.identifier]=l}let s=i.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(n,[]),a.addTelemetryInitializer(l=>{!s||(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),a},Cm=async(e,i,t)=>{let r=await Pm(e,i,t);return{logEvent:(u,a)=>{try{r?.track({name:u,baseData:{name:u,properties:a?.properties,measurements:a?.measurements}})}catch(o){throw new Error(`Failed to log event to app insights!
`+o.message)}},logException:(u,a)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{r?.unload()}catch(u){throw new Error(`Failed to flush app insights!
`+u.message)}}}},Rm=async(e,i)=>{let t;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let r=await Promise.resolve().then(()=>to(Im()));r.defaultClient?(t=new r.TelemetryClient(e),t.channel.setUseDiskRetryCaching(!0)):(r.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),t=r.defaultClient),yn&&yn.env&&(t.context.tags[t.context.keys.userId]=yn.env.machineId,t.context.tags[t.context.keys.sessionId]=yn.env.sessionId,t.context.tags[t.context.keys.cloudRole]=yn.env.appName,t.context.tags[t.context.keys.cloudRoleInstance]=yn.env.appName),e&&e.indexOf("AIF-")===0&&(t.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(r){return Promise.reject(`Failed to initialize app insights!
`+r.message)}return i!=null&&i.length&&Dm(t,i),{logEvent:(r,u)=>{try{t?.trackEvent({name:r,properties:u?.properties,measurements:u?.measurements})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},logException:(r,u)=>{try{t?.trackException({exception:r,properties:u?.properties,measurements:u?.measurements})}catch(a){throw new Error(`Failed to log exception to app insights!
`+a.message)}},flush:async()=>{try{t?.flush()}catch(r){throw new Error(`Failed to flush app insights!
`+r.message)}}}};function Dm(e,i){e.addTelemetryProcessor(t=>(Array.isArray(t.tags)?t.tags.forEach(r=>Xr.applyReplacements(r,i)):t.tags&&Xr.applyReplacements(t.tags,i),t.data.baseData&&Xr.applyReplacements(t.data.baseData,i),!0))}function xm(){return{sendPOST:(e,i)=>{let t={method:"POST",headers:tp(xn({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let r=wm.request(e.urlString,t,u=>{u.on("data",function(a){i(u.statusCode??200,u.headers,a.toString())}),u.on("error",function(){i(0,{})})});r.write(e.data),r.end()}catch{i(0,{})}}}}var Nm=class extends Am{constructor(e,i,t,r,u){let a=n=>Rm(n,u);Xr.shouldUseOneDataSystemSDK(t)&&(a=n=>Cm(n,yn,xm()));let o=new Om(t,a);t&&(t.indexOf("AIF-")===0||Xr.shouldUseOneDataSystemSDK(t))&&(r=!0),super(e,i,o,{release:Fa.release(),platform:Fa.platform(),architecture:Fa.arch()},yn,r)}}});var es=Bt(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.ConstantBackoff=void 0;var Ja=class{constructor(i){this.interval=i}next(){return Km(this.interval)}};ho.ConstantBackoff=Ja;var Km=e=>({duration:e,next(){return this}})});var kl=Bt(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.DelegateBackoff=void 0;var ts=class{constructor(i){this.fn=i}next(i){return rs(this.fn).next(i)}};vo.DelegateBackoff=ts;var rs=(e,i,t=0)=>({duration:t,next(r){let u=e(r,i);return typeof u=="number"?rs(e,i,u):rs(e,u.state,u.delay)}})});var ns=Bt(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.decorrelatedJitterGenerator=Vr.halfJitterGenerator=Vr.fullJitterGenerator=Vr.noJitterGenerator=void 0;var Xm=(e=0,i)=>[Math.min(i.maxDelay,i.initialDelay*2**e),e+1];Vr.noJitterGenerator=Xm;var Qm=(e,i)=>{let[t,r]=(0,Vr.noJitterGenerator)(e,i);return[Math.floor(Math.random()*t),r]};Vr.fullJitterGenerator=Qm;var Ym=(e,i)=>{let[t,r]=(0,Vr.noJitterGenerator)(e,i);return[Math.floor((t+Math.random()*t)/2),r]};Vr.halfJitterGenerator=Ym;var Zm=4,Jm=1/1.4,eg=(e,i)=>{let[t,r]=e||[0,0],u=t+Math.random(),a=Math.pow(i.exponent,u)*Math.tanh(Math.sqrt(Zm*u)),o=Math.max(0,a-r);return[Math.min(o*Jm*i.initialDelay,i.maxDelay),[t+1,a]]};Vr.decorrelatedJitterGenerator=eg});var Fl=Bt(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.ExponentialBackoff=void 0;var tg=ns(),Ll={generator:tg.decorrelatedJitterGenerator,maxDelay:3e4,exponent:2,initialDelay:128},is=class{constructor(i){this.options=i?{...Ll,...i}:Ll}next(){return jl(this.options).next(void 0)}};mo.ExponentialBackoff=is;var jl=(e,i,t=0,r=-1)=>({duration:t,next(){let[u,a]=e.generator(i,e);return jl(e,a,u,r+1)}})});var Hl=Bt(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.IterableBackoff=void 0;var os=class{constructor(i){this.durations=i}next(){return Ul(this.durations,0)}};go.IterableBackoff=os;var Ul=(e,i)=>({duration:e[i],next(){return i===e.length-1?this:Ul(e,i+1)}})});var as=Bt(Yr=>{"use strict";var rg=Yr&&Yr.__createBinding||(Object.create?function(e,i,t,r){r===void 0&&(r=t);var u=Object.getOwnPropertyDescriptor(i,t);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,r,u)}:function(e,i,t,r){r===void 0&&(r=t),e[r]=i[t]}),Ti=Yr&&Yr.__exportStar||function(e,i){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&rg(i,e,t)};Object.defineProperty(Yr,"__esModule",{value:!0});Ti(es(),Yr);Ti(kl(),Yr);Ti(Fl(),Yr);Ti(ns(),Yr);Ti(Hl(),Yr)});var yo=Bt(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.TaskCancelledError=void 0;var ss=class extends Error{constructor(i="Operation cancelled"){super(i),this.message=i,this.isTaskCancelledError=!0}};_o.TaskCancelledError=ss});var Sn=Bt(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.MemorizingEventEmitter=Ar.EventEmitter=Ar.onAbort=Ar.Event=Ar.noopDisposable=void 0;var ql=yo();Ar.noopDisposable={dispose:()=>{}};var ng;(function(e){e.once=(i,t)=>{let r=!1,u;return u=i(a=>{t(a),u?u.dispose():r=!0}),r?(u.dispose(),Ar.noopDisposable):u},e.toPromise=(i,t)=>t?t.aborted?Promise.reject(new ql.TaskCancelledError):new Promise((r,u)=>{let a=(0,Ar.onAbort)(t)(()=>{o.dispose(),u(new ql.TaskCancelledError)}),o=e.once(i,n=>{a.dispose(),r(n)})}):new Promise(r=>e.once(i,r))})(ng=Ar.Event||(Ar.Event={}));var ig=e=>{let i=new cs;if(e.aborted)return i.emit(),i.addListener;let t=()=>{i.emit(),e.removeEventListener("abort",t)};return e.addEventListener("abort",t),i.addListener};Ar.onAbort=ig;var Ii=class{constructor(){this.addListener=i=>this.addListenerInner(i)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(i){if(this.listeners)if(typeof this.listeners=="function")this.listeners(i);else for(let t of this.listeners)t(i)}addListenerInner(i){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,i]:this.listeners.push(i):this.listeners=i,{dispose:()=>this.removeListener(i)}}removeListener(i){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===i&&(this.listeners=void 0);return}let t=this.listeners.indexOf(i);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}};Ar.EventEmitter=Ii;var us=class extends Ii{constructor(){super(...arguments),this.addListener=i=>{let t=this.addListenerInner(i);return this.lastValue&&i(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(i){this.lastValue={value:i},super.emit(i)}};Ar.MemorizingEventEmitter=us;var cs=class extends Ii{constructor(){super(...arguments),this.addListener=i=>this.lastValue?(i(this.lastValue.value),Ar.noopDisposable):this.addListenerInner(i)}emit(i){this.lastValue={value:i},super.emit(i),this.listeners=void 0}}});var Nn=Bt(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.deriveAbortController=ln.abortedSignal=ln.neverAbortedSignal=void 0;var og=Sn();ln.neverAbortedSignal=new AbortController().signal;var Bl=new AbortController;Bl.abort();ln.abortedSignal=Bl.signal;var ag=e=>{let i=new AbortController;if(!e)return i;if(e.aborted&&i.abort(),e!==ln.neverAbortedSignal){let t=new WeakRef(i);(0,og.onAbort)(e)(()=>t.deref()?.abort())}return i};ln.deriveAbortController=ag});var Xn=Bt(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.ExecuteWrapper=Kn.returnOrThrow=void 0;var Gl=Sn(),sg=e=>{if("error"in e)throw e.error;return"success"in e?e.success:e.value};Kn.returnOrThrow=sg;var ug=()=>{if(typeof performance<"u"){let e=performance.now();return()=>performance.now()-e}else{let e=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-e)/1e6}},ls=class e{constructor(i=()=>!1,t=()=>!1){this.errorFilter=i,this.resultFilter=t,this.successEmitter=new Gl.EventEmitter,this.failureEmitter=new Gl.EventEmitter,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new e(this.errorFilter,this.resultFilter)}async invoke(i,...t){let r=this.successEmitter.size||this.failureEmitter.size?ug():null;try{let u=await i(...t);return this.resultFilter(u)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:u}}),{value:u}):(r&&this.successEmitter.emit({duration:r()}),{success:u})}catch(u){let a=u,o=this.errorFilter(a);if(r&&this.failureEmitter.emit({duration:r(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}};Kn.ExecuteWrapper=ls});var fs=Bt(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.BrokenCircuitError=void 0;var ds=class extends Error{constructor(i="Execution prevented because the circuit breaker is open"){super(i),this.isBrokenCircuitError=!0}};Eo.BrokenCircuitError=ds});var hs=Bt(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.BulkheadRejectedError=void 0;var ps=class extends Error{constructor(i,t){super(`Bulkhead capacity exceeded (0/${i} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}};bo.BulkheadRejectedError=ps});var ms=Bt(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.IsolatedCircuitError=void 0;var cg=fs(),vs=class extends cg.BrokenCircuitError{constructor(){super("Execution prevented because the circuit breaker is open"),this.isIsolatedCircuitError=!0}};So.IsolatedCircuitError=vs});var Io=Bt(_r=>{"use strict";var lg=_r&&_r.__createBinding||(Object.create?function(e,i,t,r){r===void 0&&(r=t);var u=Object.getOwnPropertyDescriptor(i,t);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,r,u)}:function(e,i,t,r){r===void 0&&(r=t),e[r]=i[t]}),To=_r&&_r.__exportStar||function(e,i){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&lg(i,e,t)};Object.defineProperty(_r,"__esModule",{value:!0});_r.isTaskCancelledError=_r.isIsolatedCircuitError=_r.isBulkheadRejectedError=_r.isBrokenCircuitError=void 0;To(fs(),_r);To(hs(),_r);To(ms(),_r);To(yo(),_r);var dg=e=>!!e&&e instanceof Error&&"isBrokenCircuitError"in e;_r.isBrokenCircuitError=dg;var fg=e=>!!e&&e instanceof Error&&"isBulkheadRejectedError"in e;_r.isBulkheadRejectedError=fg;var pg=e=>!!e&&e instanceof Error&&"isBulkheadRejectedError"in e;_r.isIsolatedCircuitError=pg;var hg=e=>!!e&&e instanceof Error&&"isBulkheadRejectedError"in e;_r.isTaskCancelledError=hg});var Ao=Bt(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.CircuitBreakerPolicy=Mn.CircuitState=void 0;var vg=Nn(),wo=Sn(),Vl=Xn(),zl=Io(),mg=ms(),rr;(function(e){e[e.Closed=0]="Closed",e[e.Open=1]="Open",e[e.HalfOpen=2]="HalfOpen",e[e.Isolated=3]="Isolated"})(rr=Mn.CircuitState||(Mn.CircuitState={}));var gs=class{constructor(i,t){this.options=i,this.executor=t,this.breakEmitter=new wo.EventEmitter,this.resetEmitter=new wo.EventEmitter,this.halfOpenEmitter=new wo.EventEmitter,this.stateChangeEmitter=new wo.EventEmitter,this.innerState={value:rr.Closed},this.onBreak=this.breakEmitter.addListener,this.onReset=this.resetEmitter.addListener,this.onHalfOpen=this.halfOpenEmitter.addListener,this.onStateChange=this.stateChangeEmitter.addListener,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}get state(){return this.innerState.value}get lastFailure(){return this.innerLastFailure}isolate(){this.innerState.value!==rr.Isolated&&(this.innerState={value:rr.Isolated,counters:0},this.breakEmitter.emit({isolated:!0}),this.stateChangeEmitter.emit(rr.Isolated)),this.innerState.counters++;let i=!1;return{dispose:()=>{i||(i=!0,this.innerState.value===rr.Isolated&&!--this.innerState.counters&&(this.innerState={value:rr.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(rr.Closed)))}}}async execute(i,t=vg.neverAbortedSignal){let r=this.innerState;switch(r.value){case rr.Closed:let u=await this.executor.invoke(i,{signal:t});return"success"in u?this.options.breaker.success(r.value):(this.innerLastFailure=u,this.options.breaker.failure(r.value)&&this.open(u)),(0,Vl.returnOrThrow)(u);case rr.HalfOpen:if(await r.test.catch(()=>{}),this.state===rr.Closed&&t.aborted)throw new zl.TaskCancelledError;return this.execute(i);case rr.Open:if(Date.now()-r.openedAt<this.options.halfOpenAfter)throw new zl.BrokenCircuitError;let a=this.halfOpen(i,t);return this.innerState={value:rr.HalfOpen,test:a},this.stateChangeEmitter.emit(rr.HalfOpen),a;case rr.Isolated:throw new mg.IsolatedCircuitError;default:throw new Error(`Unexpected circuit state ${r}`)}}async halfOpen(i,t){this.halfOpenEmitter.emit();try{let r=await this.executor.invoke(i,{signal:t});return"success"in r?(this.options.breaker.success(rr.HalfOpen),this.close()):(this.innerLastFailure=r,this.options.breaker.failure(rr.HalfOpen),this.open(r)),(0,Vl.returnOrThrow)(r)}catch(r){throw this.close(),r}}open(i){this.state===rr.Isolated||this.state===rr.Open||(this.innerState={value:rr.Open,openedAt:Date.now()},this.breakEmitter.emit(i),this.stateChangeEmitter.emit(rr.Open))}close(){this.state===rr.HalfOpen&&(this.innerState={value:rr.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(rr.Closed))}};Mn.CircuitBreakerPolicy=gs});var $l=Bt(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.SamplingBreaker=void 0;var Wl=Ao(),_s=class{constructor({threshold:i,duration:t,minimumRps:r}){if(this.windows=[],this.currentWindow=0,this.currentFailures=0,this.currentSuccesses=0,i<=0||i>=1)throw new RangeError(`SamplingBreaker threshold should be between (0, 1), got ${i}`);this.threshold=i;let u=Math.max(5,Math.ceil(t/1e3));for(let a=0;a<u;a++)this.windows.push({startedAt:0,failures:0,successes:0});this.windowSize=Math.round(t/u),this.duration=this.windowSize*u,r?this.minimumRpms=r/1e3:this.minimumRpms=5/(i*1e3)}success(i){i===Wl.CircuitState.HalfOpen&&this.resetWindows(),this.push(!0)}failure(i){if(this.push(!1),i!==Wl.CircuitState.Closed)return!0;let t=this.currentSuccesses+this.currentFailures;return t<this.duration*this.minimumRpms?!1:this.currentFailures>this.threshold*t}resetWindows(){this.currentFailures=0,this.currentSuccesses=0;for(let i of this.windows)i.failures=0,i.successes=0,i.startedAt=0}rotateWindow(i){let t=(this.currentWindow+1)%this.windows.length;this.currentFailures-=this.windows[t].failures,this.currentSuccesses-=this.windows[t].successes;let r=this.windows[t]={failures:0,successes:0,startedAt:i};return this.currentWindow=t,r}push(i){let t=Date.now(),r=this.windows[this.currentWindow];t-r.startedAt>=this.windowSize&&(r=this.rotateWindow(t)),i?(r.successes++,this.currentSuccesses++):(r.failures++,this.currentFailures++)}};Oo.SamplingBreaker=_s});var Kl=Bt(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.ConsecutiveBreaker=void 0;var ys=class{constructor(i){this.threshold=i,this.count=0}success(){this.count=0}failure(){return++this.count>=this.threshold}};Po.ConsecutiveBreaker=ys});var Ql=Bt(Tn=>{"use strict";var gg=Tn&&Tn.__createBinding||(Object.create?function(e,i,t,r){r===void 0&&(r=t);var u=Object.getOwnPropertyDescriptor(i,t);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,r,u)}:function(e,i,t,r){r===void 0&&(r=t),e[r]=i[t]}),Xl=Tn&&Tn.__exportStar||function(e,i){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&gg(i,e,t)};Object.defineProperty(Tn,"__esModule",{value:!0});Xl($l(),Tn);Xl(Kl(),Tn)});var Yl=Bt(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.defer=void 0;var _g=()=>{let e,i,t=new Promise((r,u)=>{e=r,i=u});return{resolve:e,reject:i,promise:t}};Co.defer=_g});var bs=Bt(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.BulkheadPolicy=void 0;var yg=Nn(),Eg=Yl(),bg=Sn(),Sg=Xn(),Tg=hs(),Ig=Io(),Es=class{constructor(i,t){this.capacity=i,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new bg.EventEmitter,this.executor=new Sg.ExecuteWrapper,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(i,t=yg.neverAbortedSignal){if(t.aborted)throw new Ig.TaskCancelledError;if(this.active<this.capacity){this.active++;try{return await i({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){let{resolve:r,reject:u,promise:a}=(0,Eg.defer)();return this.queue.push({signal:t,fn:i,resolve:r,reject:u}),a}throw this.onRejectEmitter.emit(),new Tg.BulkheadRejectedError(this.capacity,this.queueCapacity)}dequeue(){let i=this.queue.shift();i&&Promise.resolve().then(()=>this.execute(i.fn,i.signal)).then(i.resolve).catch(i.reject)}};Ro.BulkheadPolicy=Es});var Ts=Bt(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.FallbackPolicy=void 0;var wg=Nn(),Ss=class{constructor(i,t){this.executor=i,this.value=t,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(i,t=wg.neverAbortedSignal){let r=await this.executor.invoke(i,{signal:t});return"success"in r?r.success:this.value()}};Do.FallbackPolicy=Ss});var ws=Bt(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.NoopPolicy=void 0;var Ag=Nn(),Zl=Xn(),Is=class{constructor(){this.executor=new Zl.ExecuteWrapper,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(i,t=Ag.neverAbortedSignal){return(0,Zl.returnOrThrow)(await this.executor.invoke(i,{signal:t}))}};xo.NoopPolicy=Is});var Os=Bt(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.RetryPolicy=void 0;var Og=es(),Pg=Nn(),Jl=Sn(),Cg=(e,i)=>new Promise(t=>{let r=setTimeout(t,e);i&&r.unref()}),As=class e{constructor(i,t){this.options=i,this.executor=t,this.onGiveUpEmitter=new Jl.EventEmitter,this.onRetryEmitter=new Jl.EventEmitter,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}dangerouslyUnref(){return new e({...this.options,unref:!0},this.executor.clone())}async execute(i,t=Pg.neverAbortedSignal){let r=this.options.backoff||new Og.ConstantBackoff(0),u;for(let a=0;;a++){let o=await this.executor.invoke(i,{attempt:a,signal:t});if("success"in o)return o.success;if(!t.aborted&&a<this.options.maxAttempts){let n={attempt:a+1,signal:t,result:o};u=u?u.next(n):r.next(n);let s=u.duration,l=Cg(s,!!this.options.unref);this.onRetryEmitter.emit({...o,delay:s}),await l;continue}if(this.onGiveUpEmitter.emit(o),"error"in o)throw o.error;return o.value}}};No.RetryPolicy=As});var Ds=Bt(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.TimeoutPolicy=kn.TimeoutStrategy=void 0;var Rg=Nn(),Ps=Sn(),Cs=Xn(),Dg=yo(),ed;(function(e){e.Cooperative="optimistic",e.Aggressive="aggressive"})(ed=kn.TimeoutStrategy||(kn.TimeoutStrategy={}));var Rs=class e{constructor(i,t,r=new Cs.ExecuteWrapper,u=!1){this.duration=i,this.options=t,this.executor=r,this.unref=u,this.timeoutEmitter=new Ps.EventEmitter,this.onTimeout=this.timeoutEmitter.addListener,this.onFailure=this.executor.onFailure,this.onSuccess=this.executor.onSuccess}dangerouslyUnref(){return new e(this.duration,this.options,this.executor,!0)}async execute(i,t){let r=(0,Rg.deriveAbortController)(t),u=setTimeout(()=>r.abort(),this.duration);this.unref&&u.unref();let a={signal:r.signal},o=(0,Ps.onAbort)(r.signal),n=o(()=>this.timeoutEmitter.emit());try{return this.options.strategy===ed.Cooperative?(0,Cs.returnOrThrow)(await this.executor.invoke(i,a,r.signal)):await this.executor.invoke(async()=>Promise.race([Promise.resolve(i(a,r.signal)),Ps.Event.toPromise(o).then(()=>{throw new Dg.TaskCancelledError(`Operation timed out after ${this.duration}ms`)})])).then(Cs.returnOrThrow)}finally{n.dispose(),this.options.abortOnReturn!==!1&&r.abort(),clearTimeout(u)}}};kn.TimeoutPolicy=Rs});var td=Bt(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fallback=Gt.circuitBreaker=Gt.retry=Gt.wrap=Gt.timeout=Gt.usePolicy=Gt.bulkhead=Gt.handleWhenResult=Gt.handleResultType=Gt.handleWhen=Gt.handleType=Gt.handleAll=Gt.noop=Gt.Policy=void 0;var xg=as(),Ng=bs(),Mg=Ao(),xs=Xn(),kg=Ts(),Lg=ws(),jg=Os(),Fg=Ds(),Mo=(e,i)=>i?t=>t instanceof e&&i(t):t=>t instanceof e,Ug=()=>!0,wi=()=>!1,In=class e{constructor(i){this.options=i}orType(i,t){let r=Mo(i,t);return new e({...this.options,errorFilter:u=>this.options.errorFilter(u)||r(u)})}orWhen(i){return new e({...this.options,errorFilter:t=>this.options.errorFilter(t)||i(t)})}orWhenResult(i){return new e({...this.options,resultFilter:t=>this.options.resultFilter(t)||i(t)})}orResultType(i,t){let r=Mo(i,t);return new e({...this.options,resultFilter:u=>this.options.resultFilter(u)||r(u)})}};Gt.Policy=In;Gt.noop=new Lg.NoopPolicy;Gt.handleAll=new In({errorFilter:Ug,resultFilter:wi});function Hg(e,i){return new In({errorFilter:Mo(e,i),resultFilter:wi})}Gt.handleType=Hg;function qg(e){return new In({errorFilter:e,resultFilter:wi})}Gt.handleWhen=qg;function Bg(e,i){return new In({errorFilter:wi,resultFilter:Mo(e,i)})}Gt.handleResultType=Bg;function Gg(e){return new In({errorFilter:wi,resultFilter:e})}Gt.handleWhenResult=Gg;function Vg(e,i=0){return new Ng.BulkheadPolicy(e,i)}Gt.bulkhead=Vg;function zg(e){return(i,t,r)=>{let u=r.value;if(typeof u!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof u}`);r.value=function(...a){let o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return e.execute(n=>u.apply(this,[...a,n]),o)}}}Gt.usePolicy=zg;function Wg(e,i){return new Fg.TimeoutPolicy(e,typeof i=="string"?{strategy:i}:i)}Gt.timeout=Wg;function $g(...e){return{_altReturn:void 0,onFailure:e[0].onFailure,onSuccess:e[0].onSuccess,wrapped:e,execute(i,t){let r=(u,a)=>a===e.length?i(u):e[a].execute(o=>r({...u,...o},a+1),u.signal);return Promise.resolve(r({signal:t},0))}}}Gt.wrap=$g;function Kg(e,i){return new jg.RetryPolicy({backoff:i.backoff||new xg.ConstantBackoff(0),maxAttempts:i.maxAttempts??1/0},new xs.ExecuteWrapper(e.options.errorFilter,e.options.resultFilter))}Gt.retry=Kg;function Xg(e,i){return new Mg.CircuitBreakerPolicy(i,new xs.ExecuteWrapper(e.options.errorFilter,e.options.resultFilter))}Gt.circuitBreaker=Xg;function Qg(e,i){return new kg.FallbackPolicy(new xs.ExecuteWrapper(e.options.errorFilter,e.options.resultFilter),typeof i=="function"?i:()=>i)}Gt.fallback=Qg});var Ns=Bt(lr=>{"use strict";var Yg=lr&&lr.__createBinding||(Object.create?function(e,i,t,r){r===void 0&&(r=t);var u=Object.getOwnPropertyDescriptor(i,t);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,r,u)}:function(e,i,t,r){r===void 0&&(r=t),e[r]=i[t]}),Jr=lr&&lr.__exportStar||function(e,i){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&Yg(i,e,t)};Object.defineProperty(lr,"__esModule",{value:!0});lr.EventEmitter=lr.Event=void 0;Jr(as(),lr);Jr(Ql(),lr);Jr(bs(),lr);Jr(Ao(),lr);var rd=Sn();Object.defineProperty(lr,"Event",{enumerable:!0,get:function(){return rd.Event}});Object.defineProperty(lr,"EventEmitter",{enumerable:!0,get:function(){return rd.EventEmitter}});Jr(Io(),lr);Jr(Ts(),lr);Jr(ws(),lr);Jr(td(),lr);Jr(Os(),lr);Jr(Ds(),lr)});var p_={};Wf(p_,{activate:()=>d_,deactivate:()=>f_});module.exports=$f(p_);var md=Cr(Al()),An=Cr(require("vscode"));var Ur=Cr(require("vscode"));var oo=class{constructor(i,t){this.messageHandler=i;this.postMessage=t;this.messageIdCounter=0;this.pendingMessages=new Map}sendEvent(i){this.postMessage({body:i,messageId:this.messageIdCounter++})}sendRequest(i){let t=this.messageIdCounter++;return this.postMessage({body:i,messageId:t}),new Promise((r,u)=>{this.pendingMessages.set(t,{resolve:r,reject:u})})}sendReply(i,t){this.postMessage({body:t,messageId:this.messageIdCounter++,inReplyTo:i.messageId})}handleMessage(i){i.inReplyTo!==void 0?(this.pendingMessages.get(i.inReplyTo)?.resolve(i.body),this.pendingMessages.delete(i.inReplyTo)):Promise.resolve(this.messageHandler(i.body)).then(t=>t&&this.sendReply(i,t))}};function Qa(e){for(;e.length;){let i=e.pop();i&&i.dispose()}}var Zr=class{constructor(){this._isDisposed=!1;this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,Qa(this._disposables))}_register(i){return this._isDisposed?i.dispose():this._disposables.push(i),i}get isDisposed(){return this._isDisposed}},ao=class{constructor(i){this._value=i}get value(){return this._value}set value(i){this._value!==i&&(this._value?.dispose(),this._value=i)}dispose(){this.value?.dispose()}};var Ol=require("vscode");function so(e=32){let i="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}var Ya=e=>e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(0,e.byteLength);var Pl=e=>{let i=0;for(let u of e)i+=u.byteLength;let t=new Uint8Array(i),r=0;for(let u of e)t.set(u,r),r+=u.byteLength;return t};var bi=class e extends Zr{constructor(t,r){super();this._extensionURI=t;this._register(r.onDidChangeActiveDocument(u=>{let o=Ur.workspace.getConfiguration("hexeditor").get("inspectorType")==="sidebar"&&!!u;Ur.commands.executeCommand("setContext","hexEditor:showSidebarInspector",o),o&&this.show({autoReveal:!0})}))}static{this.viewType="hexEditor.dataInspectorView"}resolveWebviewView(t,r,u){this._view=t,t.webview.options={enableScripts:!0,localResourceRoots:[this._extensionURI]},t.webview.html=this._getWebviewHTML(t.webview),t.webview.onDidReceiveMessage(a=>{a.type==="ready"&&t.show()}),this._view.onDidDispose(()=>this._view=void 0),t.onDidChangeVisibility(()=>{t.visible&&this._lastMessage&&t.webview.postMessage(this._lastMessage)}),this._lastMessage&&t.webview.postMessage(this._lastMessage)}handleEditorMessage(t){this._lastMessage=t,this._view?.webview.postMessage(t)}show(t){t?.autoReveal&&!Ur.workspace.getConfiguration("hexeditor.dataInspector").get("autoReveal",!1)||(this._view&&!t?.forceFocus?this._view.show():Ur.commands.executeCommand(`${e.viewType}.focus`),this._lastMessage&&this._view?.webview.postMessage(this._lastMessage))}_getWebviewHTML(t){let r=t.asWebviewUri(Ur.Uri.joinPath(this._extensionURI,"dist","inspector.js")),u=t.asWebviewUri(Ur.Uri.joinPath(this._extensionURI,"dist","inspector.css")),a=Ur.workspace.getConfiguration().get("hexeditor.defaultEndianness"),o=so();return`<!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <!--
                Use a content security policy to only allow loading images from https or from our extension directory,
                and only allow scripts that have a specific nonce.
              -->
              <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${t.cspSource}; script-src 'nonce-${o}';">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <link href="${u}" rel="stylesheet">

              <title>Data Inspector</title>
            </head>
            <body>
              <div id="data-inspector">
                <div class="grid-container">
									<!-- Input elements filled in by dataInspector.ts -->
                  <div class="grid-item endian-select">
                    <label for="endianness">Endianness</label>
                  </div>
                  <div class="grid-item endian-select">
                    <select id="endianness">
                      <option value="little" ${a==="little"?"selected":""}>${Ur.l10n.t("Little Endian")}</option>
                      <option value="big" ${a==="big"?"selected":""}>${Ur.l10n.t("Big Endian")}</option>
                    </select>
                  </div>
                </div>
              </div>
              <script nonce="${o}" src="${r}"></script>
            </body>
            </html>`}};var uo=Cr(require("vscode"));var km=/^0x[a-f0-9]+$/i,Lm=/^[0-9]+$/i,Cl=e=>{let i=uo.window.createInputBox();i.placeholder="Enter offset to go to",e.sendEvent({type:6});let t,r=!1;i.onDidChangeValue(u=>{if(!u)t=void 0;else if(km.test(u))t=parseInt(u.slice(2),16);else if(Lm.test(u))t=parseInt(u,10);else{i.validationMessage=uo.l10n.t("Offset must be provided as a decimal (12345) or hex (0x12345) address");return}i.validationMessage="",t!==void 0&&(i.validationMessage="",e.sendEvent({type:7,offset:t}))}),i.onDidAccept(()=>{r=!0,t!==void 0&&e.sendEvent({type:8,offset:t})}),i.onDidHide(()=>{r||e.sendEvent({type:11})}),i.show()};var jm=typeof atob=="function",Fm=typeof btoa=="function",fo=typeof Buffer=="function",J_=typeof TextDecoder=="function"?new TextDecoder:void 0,ey=typeof TextEncoder=="function"?new TextEncoder:void 0,Um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Si=Array.prototype.slice.call(Um),co=(e=>{let i={};return e.forEach((t,r)=>i[t]=r),i})(Si),Hm=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,lo=String.fromCharCode.bind(String),Rl=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,i=t=>t)=>new Uint8Array(Array.prototype.slice.call(e,0).map(i)),qm=e=>e.replace(/=/g,"").replace(/[+\/]/g,i=>i=="+"?"-":"_"),xl=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Bm=e=>{let i,t,r,u,a="",o=e.length%3;for(let n=0;n<e.length;){if((t=e.charCodeAt(n++))>255||(r=e.charCodeAt(n++))>255||(u=e.charCodeAt(n++))>255)throw new TypeError("invalid character found");i=t<<16|r<<8|u,a+=Si[i>>18&63]+Si[i>>12&63]+Si[i>>6&63]+Si[i&63]}return o?a.slice(0,o-3)+"===".substring(o):a},Gm=Fm?e=>btoa(e):fo?e=>Buffer.from(e,"binary").toString("base64"):Bm,Dl=fo?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,u=e.length;r<u;r+=4096)t.push(lo.apply(null,e.subarray(r,r+4096)));return Gm(t.join(""))},po=(e,i=!1)=>i?qm(Dl(e)):Dl(e);var Vm=e=>{if(e=e.replace(/\s+/g,""),!Hm.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let i,t="",r,u;for(let a=0;a<e.length;)i=co[e.charAt(a++)]<<18|co[e.charAt(a++)]<<12|(r=co[e.charAt(a++)])<<6|(u=co[e.charAt(a++)]),t+=r===64?lo(i>>16&255):u===64?lo(i>>16&255,i>>8&255):lo(i>>16&255,i>>8&255,i&255);return t},zm=jm?e=>atob(xl(e)):fo?e=>Buffer.from(e,"base64").toString("binary"):Vm,Wm=fo?e=>Rl(Buffer.from(e,"base64")):e=>Rl(zm(e),i=>i.charCodeAt(0)),Nl=e=>Wm($m(e));var $m=e=>xl(e.replace(/[-_]/g,i=>i=="-"?"+":"/"));var at=Cr(require("vscode"));var id=Cr(Ns());var nd=e=>(i,t)=>{let r,u=0,a=t.length-1;for(;u<=a;)r=Math.floor((u+a)/2),e(t[r])>=i?a=r-1:u=r+1;return u};var ko=Symbol("unset"),Ms=e=>{let i=ko,t=()=>(i===ko&&(i=e()),i);return t.getValue=()=>i===ko?void 0:i,t.forget=()=>{i=ko},t};var Zg=e=>e.op===0?{...e,op:1,previous:e.value}:e.op===1?{...e,op:0,value:e.previous}:{...e,value:e.previous,previous:e.value};var Ai=class{constructor(i){this.saveGuard=(0,id.bulkhead)(1,1/0);this._unsavedEditIndex=0;this.getSizeInner=Ms(()=>this.accessor.getSize());this.getEditTimeline=Ms(()=>e_(this._edits));this._edits=i.edits?i.edits.saved.concat(i.edits.unsaved):[],this._unsavedEditIndex=i.edits?.saved.length??0,this.supportsLengthChanges=i.supportsLengthChanges,this.isFiniteSize=i.isFiniteSize,this.accessor=i.accessor,this.pageSize=i.accessor.pageSize}get uri(){return this.accessor.uri}get isReadonly(){return!!this.accessor.isReadonly}async size(){if(!this.isFiniteSize)return;let i=await this.getSizeInner();if(i===void 0)return;let{sizeDelta:t}=this.getEditTimeline();return i+t}get edits(){return this._edits}get unsavedEdits(){return this._edits.slice(this.unsavedEditIndex)}get unsavedEditIndex(){return this._unsavedEditIndex}get isSynced(){return this.unsavedEditIndex===this.edits.length}readInto(i,t){return this.accessor.read(i,t)}readWithEdits(i=0,t=128*1024){return Jg(this.accessor,this.getEditTimeline().ranges,i,t)}save(){let i=this._edits.slice(this.unsavedEditIndex);return i.length===0?Promise.resolve():(this._unsavedEditIndex+=i.length,this.saveGuard.execute(async()=>{i.some(t=>t.op!==2||t.previous.length!==t.value.length)?await this.accessor.writeStream(this.readWithEdits()):await this.accessor.writeBulk(i.map(t=>({offset:t.offset,data:t.value}))),this.getSizeInner.forget()}))}revert(){this._unsavedEditIndex=0,this._edits=[],this.accessor.invalidate?.(),this.getEditTimeline.forget(),this.getSizeInner.forget()}makeEdits(i){let t=this._edits.length;return this._edits.push(...i),this.getEditTimeline.forget(),{undo:()=>(this.unsavedEditIndex<=t?this._edits.splice(t,i.length):this._edits.push(...i.map(Zg)),this.getEditTimeline.forget(),this._edits),redo:()=>(this._edits.push(...i),this.getEditTimeline.forget(),this._edits)}}dispose(){this.accessor.dispose()}};async function*Jg(e,i,t=0,r=1024){let u=new Uint8Array(r);for(let a=0;a<i.length;a++){let o=i[a];if(o.op===1)continue;if(o.op===2){let l=o.offset+o.value.length-t;if(l<=0)continue;let d=l<o.value.length?o.value.subarray(-l):o.value;d.length>0&&(yield d);continue}let n=o.roffset+(a+1<i.length?i[a+1].offset:1/0)-o.offset,s=o.roffset+Math.max(0,t-o.offset);for(;s<n;){let l=await e.read(s,u.subarray(0,Math.min(u.length,n-s)));if(l===0)break;yield u.subarray(0,l),s+=l}}}var e_=e=>{let i=[{op:0,editIndex:-1,roffset:0,offset:0}],t=(o,n,s)=>n.op===0?{before:{op:0,editIndex:o,roffset:n.roffset,offset:n.offset},after:{op:0,editIndex:o,roffset:n.roffset+s,offset:n.offset+s}}:n.op===1?{before:{op:1,editIndex:o,offset:n.offset},after:{op:1,editIndex:o,offset:n.offset+s}}:{before:{op:2,editIndex:o,offset:n.offset,value:n.value.subarray(0,s)},after:{op:2,editIndex:o,offset:n.offset+s,value:n.value.subarray(s)}},r=nd(o=>o.offset),u=0,a=(o,n)=>{for(u+=n;o<i.length;o++)i[o].offset+=n};for(let o=0;o<e.length;o++){let n=e[o],s=r(n.offset,i);(s===i.length||i[s].offset>n.offset)&&s--;let l=i[s];if(n.op===0){let{before:d,after:c}=t(o,l,n.offset-l.offset);i.splice(s,1,d,{op:2,editIndex:o,offset:n.offset,value:n.value},c),a(s+2,n.value.length)}else if(n.op===1||n.op===2){let{before:d}=t(o,l,n.offset-l.offset),c=r(n.offset+n.previous.length,i);(c===i.length||i[c].offset>n.offset)&&c--;let{after:p}=t(o,i[c],n.offset+n.previous.length-i[c].offset);i.splice(s,c-s+1,d,n.op===2?{op:2,editIndex:o,offset:n.offset,value:n.value}:{op:1,editIndex:o,offset:n.offset},p),a(s+2,(n.op===2?n.value.length:0)-n.previous.length)}}return{ranges:i,sizeDelta:u}};var od=e=>typeof e=="function"?e():e,Qn=class{constructor(){this.table=new Map}set(i,t){let r=r_(i),u=this.table.get(r);if(!u){let o={buf:i,value:od(t)};return this.table.set(r,[o]),o.value}for(let o of u)if(t_(o.buf,i))return o.value;let a={buf:i,value:od(t)};return u.push(a),a.value}*entries(){for(let i of this.table.values())for(let{buf:t,value:r}of i)yield[t,r]}*keys(){for(let i of this.table.values())for(let{buf:t}of i)yield t}*values(){for(let i of this.table.values())for(let{value:t}of i)yield t}};function t_(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==i[t])return!1;return!0}function r_(e,i=0){i=ad(149417,i);for(let t=0,r=e.length;t<r;t++)i=ad(e[t],i);return i}function ad(e,i){return(i<<5)-i+e|0}var Yn=e=>{let i=0,t=new Qn,r=o=>({offset:t.set(o,()=>{let s=i;return i+=o.length,s}),len:o.length}),u=[];for(let o of e)o.op===0?u.push({...o,value:r(o.value)}):o.op===1?u.push({...o,previous:r(o.previous)}):u.push({...o,previous:r(o.previous),value:r(o.value)});let a=new Uint8Array(i);for(let[o,n]of t.entries())a.set(o,n);return{data:a,edits:u}},ud=({edits:e,data:i})=>{let t=({offset:r,len:u})=>i.slice(r,r+u);return e.map(r=>r.op===0?{...r,value:t(r.value)}:r.op===1?{...r,previous:t(r.previous)}:{...r,previous:t(r.previous),value:t(r.value)})};var Lo="%1%";var en=Cr(require("vscode"));var ks=Cr(require("vscode")),n_=new TextEncoder,i_=new TextDecoder,Oi=class{constructor(i){this.uri=i}async write(i){let t=JSON.stringify(i,(r,u)=>u instanceof Uint8Array?{$u8:po(u)}:u);await ks.workspace.fs.writeFile(this.uri,n_.encode(t))}async read(){let i;try{i=i_.decode(await ks.workspace.fs.readFile(this.uri))}catch{return[]}return JSON.parse(i,(t,r)=>r&&typeof r=="object"&&"$u8"in r?Nl(r.$u8):r)}};var Zn=Cr(Ns()),Jt=Cr(require("vscode")),Hs=async(e,i)=>{if(e.scheme==="untitled")return new Fs(e,i??new Uint8Array);if(e.scheme==="vscode-debug-memory"){let{permissions:t=0}=await Jt.workspace.fs.stat(e);return new Us(e,!!(t&Jt.FilePermission.Readonly))}if(e.scheme==="file")try{let t=require("fs"),r=require("os"),u=await t.promises.stat(e.fsPath),{uid:a,gid:o}=r.userInfo(),n=a===-1||a===u.uid?!(u.mode&128):o===u.gid?!(u.mode&16):!(u.mode&2);if(u.isFile())return new js(e,n,t)}catch{}return new jo(e)},Ls=class{constructor(i,t,r){this.path=i;this.flags=t;this._fs=r;this.borrowQueue=[];this.disposed=!1}borrow(i){return this.disposed?Promise.reject(new Error("FileHandle was disposed")):new Promise((t,r)=>{this.borrowQueue.push(async u=>{if(u instanceof Error)return r(u);try{t(await i(u))}catch(a){r(a)}}),this.borrowQueue.length===1&&this.process()})}dispose(){this.disposed=!0,this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout),this.rejectAll(new Error("FileHandle was disposed"))}async close(){await this.handle?.close(),this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout)}rejectAll(i){for(;this.borrowQueue.length;)this.borrowQueue.pop()(i)}async process(){for(this.disposeTimeout&&clearTimeout(this.disposeTimeout);this.borrowQueue.length;){if(!this.handle)try{this.handle=await this._fs.promises.open(this.path,this.flags|this._fs.constants.O_CREAT)}catch(i){return this.rejectAll(i)}await this.borrowQueue[0]?.(this.handle),this.borrowQueue.shift()}this.handle&&(this.disposeTimeout=setTimeout(()=>{this.handle?.close(),this.handle=void 0},1e3))}},o_=(0,Zn.retry)((0,Zn.handleWhen)(e=>e.code==="ENOENT"),{maxAttempts:50,backoff:new Zn.ConstantBackoff(50)}),cd=128*1024,js=class{constructor(i,t,r){this.fs=r;this.supportsIncremetalAccess=!0;this.pageSize=cd;this.uri=i.toString(),this.isReadonly=t,this.handle=new Ls(i.fsPath,t?r.constants.O_RDONLY:r.constants.O_RDWR,r)}watch(i,t){return qs(this.uri,i,t)}async getSize(){return this.handle.borrow(async i=>(await i.stat()).size)}async read(i,t){return this.handle.borrow(async r=>{let{bytesRead:u}=await r.read(t,0,t.byteLength,i);return u})}writeBulk(i){return this.handle.borrow(async t=>{for(let{data:r,offset:u}of i)t.write(r,0,r.byteLength,u)})}async writeStream(i,t){let r=`${this.handle.path}.tmp`,u=await this.fs.promises.open(r,this.fs.constants.O_WRONLY|this.fs.constants.O_CREAT|this.fs.constants.O_TRUNC);try{let a=0;for await(let o of i){if(t?.isCancellationRequested)return;await u.write(o,0,o.byteLength,a),a+=o.byteLength}}finally{await u.close()}return await this.handle.borrow(async()=>{await this.handle.close(),await o_.execute(()=>this.fs.promises.rename(r,this.handle.path))}),this.handle.borrow(async a=>{if(t?.isCancellationRequested)return;let o=0;for await(let n of i){if(t?.isCancellationRequested)return;await a.write(n,0,n.byteLength,o),o+=n.byteLength}})}dispose(){this.handle.dispose()}},jo=class{constructor(i){this.pageSize=cd;this.uri=i.toString(),this.fsPath=i.fsPath,this.isReadonly=Jt.workspace.fs.isWritableFileSystem(this.uri)===!1}watch(i,t){return qs(this.uri,i,t)}async getSize(){return(await Jt.workspace.fs.stat(Jt.Uri.parse(this.uri))).size}async read(i,t){let r=await this.getContents(),u=Math.min(t.length,r.length-i);return t.set(r.subarray(i,u+i)),u}async writeStream(i,t){let r=0,u=[];for await(let n of i){if(t?.isCancellationRequested)throw new Jt.CancellationError;u.push(n),r+=n.length}let a=new Uint8Array(r),o=0;for(let n of u)a.set(n,o),o+=n.length;await Jt.workspace.fs.writeFile(Jt.Uri.parse(this.uri),a)}async writeBulk(i){let t=await this.getContents();for(let{data:r,offset:u}of i)t.set(r,u);return Jt.workspace.fs.writeFile(Jt.Uri.parse(this.uri),t)}invalidate(){this.contents=void 0}dispose(){this.contents=void 0}getContents(){return this.contents??=Jt.workspace.fs.readFile(Jt.Uri.parse(this.uri)),this.contents}},Fs=class extends jo{constructor(i,t){super(i),this.contents=t}getSize(){return Promise.resolve(this.contents.byteLength)}},Us=class{constructor(i,t){this.isReadonly=t;this.supportsIncremetalAccess=!0;this.pageSize=4*1024;this.uri=i.toString()}watch(i,t){return qs(this.uri,i,t)}async getSize(){}async read(i,t){let r=await Jt.workspace.fs.readFile(this.referenceRange(i,i+t.length)),u=Math.min(t.length,r.length);return t.set(r.subarray(0,u)),u}async writeStream(){throw new Error("Not supported")}async writeBulk(i){await Promise.all(i.map(t=>Jt.workspace.fs.writeFile(this.referenceRange(t.offset,t.offset+t.data.length),t.data)))}referenceRange(i,t){return Jt.Uri.parse(this.uri).with({query:`?range=${i}:${t}`})}invalidate(){}dispose(){}},qs=(e,i,t)=>{let r=e.split("/"),u=r.pop(),a=new Jt.RelativePattern(Jt.Uri.parse(r.join("/")),u),o=Jt.workspace.createFileSystemWatcher(a),n=o.onDidChange(i),s=o.onDidDelete(t);return new Jt.Disposable(()=>{n.dispose(),s.dispose(),o.dispose()})};var Fo=class{start(i,t){this._request?.dispose(),this._request=t,(async()=>{for await(let r of t.search())i.sendEvent({type:2,data:r})})()}cancel(){this._request?.dispose(),this._request=void 0}};var Uo=class e extends Zr{constructor(t,r,u){super();this.model=t;this.isLargeFile=r;this.baseAddress=u;this.lastSave=0;this._selectionState={selected:0};this.searchProvider=new Fo;this._onDidDispose=this._register(new en.EventEmitter);this.onDidDispose=this._onDidDispose.event;this._onDidChangeSelectionState=this._register(new en.EventEmitter);this.onDidChangeSelectionState=this._onDidChangeSelectionState.event;this._onDidRevert=this._register(new en.EventEmitter);this.onDidRevert=this._onDidRevert.event}static async create(t,{backupId:r,untitledDocumentData:u},a){let o=await Hs(t,u),n=new Ai({accessor:o,isFiniteSize:!0,supportsLengthChanges:!0,edits:r?{unsaved:await new Oi(en.Uri.parse(r)).read(),saved:[]}:void 0}),s=e.parseQuery(t.query),l=s.baseAddress?e.parseHexOrDecInt(s.baseAddress):0,d=await o.getSize();a.sendTelemetryEvent("fileOpen",{},{fileSize:d??0});let c=en.workspace.getConfiguration().get("hexeditor.maxFileSize")*1e6,p=!r&&!o.supportsIncremetalAccess&&(d??0)>c;return{document:new e(n,p,l),accessor:o}}get pageSize(){return this.model.pageSize}get isReadonly(){return this.model.isReadonly}get uri(){return en.Uri.parse(this.model.uri)}readWithEdits(t){return this.model.readWithEdits(t)}async readBufferWithEdits(t,r){let u=new Uint8Array(r),a=0;for await(let o of this.model.readWithEdits(t)){let n=Math.min(o.length,u.length-a);if(u.set(o.subarray(0,n),a),a+=n,a===r)return u}return u.slice(0,a)}async readBuffer(t,r){let u=new Uint8Array(r),a=await this.model.readInto(t,u);return a===r?u:u.slice(0,a)}dispose(){this._onDidDispose.fire(),this.model.dispose(),super.dispose()}get selectionState(){return this._selectionState}set selectionState(t){this._selectionState=t,this._onDidChangeSelectionState.fire(t)}get isSynced(){return this.model.isSynced}get edits(){return this.model.edits}get unsavedEditIndex(){return this.model.unsavedEditIndex}makeEdits(t){return this.model.makeEdits(t)}insert(t,r){return this.model.makeEdits([{op:0,offset:t,value:r}])}async replace(t,r){let u=await this.readBufferWithEdits(t,r.length);return u.length===r.length?this.makeEdits([{op:2,offset:t,value:r,previous:u}]):this.makeEdits([{op:2,offset:t,value:r.subarray(0,u.length),previous:u},{op:0,offset:t+u.length,value:r.subarray(u.length)}])}size(){return this.model.size()}async save(t){this.lastSave=Date.now(),await this.model.save(),this.lastSave=Date.now()}async saveAs(t,r){if(r&&r.isCancellationRequested)return;if(!this.model.isFiniteSize)throw new Error("Cannot save a document without a finite size");let u=await Hs(t);this.lastSave=Date.now(),await u.writeStream(this.model.readWithEdits()),this.lastSave=Date.now(),this.model.dispose(),this.model=new Ai({accessor:u,isFiniteSize:!0,supportsLengthChanges:!0})}async revert(t){this.model.revert(),this._onDidRevert.fire()}async backup(t){return await new Oi(t).write(this.model.unsavedEdits),{id:t.toString(),delete:async()=>{try{await en.workspace.fs.delete(t)}catch{}}}}static parseQuery(t){let r={};if(t){let u=(t[0]==="?"?t.substr(1):t).split("&");for(let a of u){let o=a.split("="),n=o.shift();n&&(r[n]=o.join("="))}}return r}static parseHexOrDecInt(t){return t=t.toLowerCase(),t.startsWith("0x")?parseInt(t.substring(2),16):parseInt(t,10)}};var Ho=Symbol("Wildcard"),ld=new Uint8Array(255);for(let e=0;e<255;e++)ld[e]=e;var Bs=new Uint8Array(255);for(let e=0;e<255;e++)Bs[e]=String.fromCharCode(e).toUpperCase().charCodeAt(0);var qo=class{constructor(i,t,r=ld){this.needle=i;this.onMatch=t;this.equivalencyTable=r;this.needleLen=0;this.index=0;this.usableBuffer=0;for(let u of i)u===Ho?this.needleLen++:this.needleLen+=u.length;this.buffer=new Uint8Array(this.needleLen)}push(i){let{needleLen:t,buffer:r}=this;for(let u=0;u<i.length;u++)r[this.index++%t]=i[u],this.usableBuffer++,this.attemptMatch()}attemptMatch(){let{needle:i,needleLen:t,buffer:r,index:u,equivalencyTable:a}=this;if(this.usableBuffer<t)return;let o=0;for(let s=0;s<i.length;s++){let l=i[s];if(l===Ho){o++;continue}for(let d=0;d<l.length;d++){if(a[l[d]]!==a[r[(u+o)%t]])return;o++}}this.matchTmpBuf||(this.matchTmpBuf=new Uint8Array(t));let n=this.index%t;this.matchTmpBuf.set(r.subarray(n),0),this.matchTmpBuf.set(r.subarray(0,n),t-n),this.onMatch(this.index-t,this.matchTmpBuf),this.usableBuffer=0}};var Bo=class e{constructor(i,t){this.filesize=i;this.cap=t;this.buffers=new Qn;this.fileOffset=0;this.lastYieldedTime=Date.now();this.results=[]}static{this.targetUpdateInterval=1e3}get capped(){return this.cap===0}push(i,t,r){let u=this.buffers.set(i,()=>new Uint8Array(i));this.cap===void 0?this.results.push({from:t,to:r,previous:u}):this.cap>0&&(this.results.push({from:t,to:r,previous:u}),this.cap--)}toYield(){let i=Date.now();if(i-this.lastYieldedTime>e.targetUpdateInterval){this.lastYieldedTime=i;let t=this.results;return this.results=[],{progress:this.filesize?this.fileOffset/this.filesize:0,results:t}}}final(){return{progress:1,capped:this.capped,results:this.results}}},Go=class{constructor(i,t,r,u){this.document=i;this.query=t;this.isCaseSensitive=r;this.cap=u;this.cancelled=!1}dispose(){this.cancelled=!0}async*search(){let{isCaseSensitive:i,query:t,document:r,cap:u}=this,a=new Bo(await r.size(),u),o=new qo(t.literal.map(n=>n==="*"?Ho:n),(n,s)=>a.push(s,n,n+s.length),i?void 0:Bs);for await(let n of r.readWithEdits(0)){if(this.cancelled||a.capped){yield a.final();return}o.push(n),a.fileOffset+=n.length;let s=a.toYield();s&&(yield s)}yield a.final()}},a_=8*1024,Vo=class{constructor(i,t,r,u){this.document=i;this.cap=u;this.cancelled=!1;this.re=new RegExp(t.re,r?"g":"ig")}dispose(){this.cancelled=!0}async*search(){let i="",t=0,{re:r,document:u}=this,a=new TextDecoder("ascii"),o=new TextEncoder,n=new Bo(await u.size(),this.cap);for await(let s of u.readWithEdits(0)){if(this.cancelled||n.capped){yield n.final();return}i+=a.decode(s);let l=0;for(let p of i.matchAll(r)){let v=t+i.slice(0,p.index).length,m=p[0].length;n.push(o.encode(p[0]),v,v+m),l=p.index+p[0].length}n.fileOffset+=s.length;let d=Math.max(i.length-a_,l);d>0&&(t+=d,r.lastIndex=0,i=i.slice(d));let c=n.toYield();c&&(yield c)}yield n.final()}};var fd={columnWidth:16,showDecodedText:!0,defaultEndianness:"little",inspectorType:"aside"},dd=Object.keys(fd),zo=class e{constructor(i,t,r,u){this._context=i;this._telemetryReporter=t;this._dataInspectorView=r;this._registry=u;this._onDidChangeCustomDocument=new at.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static register(i,t,r,u){return at.window.registerCustomEditorProvider(e.viewType,new e(i,t,r,u),{supportsMultipleEditorsPerDocument:!1})}static{this.viewType="hexEditor.hexedit"}async openCustomDocument(i,t,r){let{document:u,accessor:a}=await Uo.create(i,t,this._telemetryReporter),o=[];o.push(u.onDidRevert(async()=>{let d=await u.size()??null;for(let c of this._registry.getMessaging(u))c.sendEvent({type:3,edits:{edits:[],data:new Uint8Array},replaceFileSize:d}),c.sendEvent({type:5})}));let n=at.l10n.t("Overwrite"),s=async()=>{if(u.isSynced){Date.now()-u.lastSave<5e3||u.revert();return}let d=at.l10n.t("This file has changed on disk, but you have unsaved changes. Saving now will overwrite the file on disk with your changes."),c=at.l10n.t("Revert"),p=await at.window.showWarningMessage(d,n,c);p===n?at.commands.executeCommand("workbench.action.files.save"):p===c&&at.commands.executeCommand("workbench.action.files.revert")},l=()=>{for(let d of at.window.tabGroups.all)for(let c of d.tabs)c.input===u&&at.window.tabGroups.close(c,!0)};return o.push(a.watch(s,l)),u.onDidDispose(()=>Qa(o)),u}async resolveCustomEditor(i,t,r){let u=new oo(o=>this.onMessage(u,i,o),o=>t.webview.postMessage(o)),a=this._registry.add(i,u);t.onDidDispose(()=>a.dispose()),t.webview.options={enableScripts:!0},t.webview.html=this.getHtmlForWebview(t.webview),t.webview.onDidReceiveMessage(o=>u.handleMessage(o))}async saveCustomDocument(i,t){await i.save(t);for(let r of this._registry.getMessaging(i))r.sendEvent({type:4,unsavedEditIndex:i.unsavedEditIndex})}saveCustomDocumentAs(i,t,r){return i.saveAs(t,r)}revertCustomDocument(i,t){return i.revert(t)}backupCustomDocument(i,t,r){return i.backup(t.destination)}getHtmlForWebview(i){let t=i.asWebviewUri(at.Uri.joinPath(this._context.extensionUri,"dist","editor.js")),r=i.asWebviewUri(at.Uri.joinPath(this._context.extensionUri,"dist","editor.css")),u=so(),a={pasteAs:at.l10n.t("Paste as"),pasteMode:at.l10n.t("Paste mode"),replace:at.l10n.t("Replace"),insert:at.l10n.t("Insert"),bytes:at.l10n.t("bytes"),encodingError:at.l10n.t("Encoding Error"),decodedText:at.l10n.t("Decoded Text"),loadingUpper:at.l10n.t("LOADING"),loadingDotDotDot:at.l10n.t("Loading..."),littleEndian:at.l10n.t("Little Endian"),onlyHexChars:at.l10n.t("Only hexadecimal characters (0-9 and a-f) are allowed"),onlyHexCharsAndPlaceholders:at.l10n.t("Only hexadecimal characters (0-9, a-f, and ?? placeholders) are allowed"),toggleReplace:at.l10n.t("Toggle Replace"),findBytes:at.l10n.t("Find Bytes (hex)"),findText:at.l10n.t("Find Text"),regexSearch:at.l10n.t("Regular Expression Search"),searchInBinaryMode:at.l10n.t("Search in Binary Mode"),caseSensitive:at.l10n.t("Case Sensitive"),cancelSearch:at.l10n.t("Cancel Search"),previousMatch:at.l10n.t("Previous Match"),nextMatch:at.l10n.t("Next Match"),closeWidget:at.l10n.t("Close Widget (Esc)"),replaceAllMatches:at.l10n.t("Replace All Matches"),replaceSelectedMatch:at.l10n.t("Replace Selected Match"),resultOverflow:at.l10n.t("More than {0} results, click to find all",Lo),resultCount:at.l10n.t("{0} results",Lo),foundNResults:at.l10n.t("Found {0}...",Lo),noResults:at.l10n.t("No results"),openLargeFileWarning:at.l10n.t("Opening this large file may cause instability."),openAnyways:at.l10n.t("Open Anyways"),readonlyWarning:at.l10n.t("Cannot edit in read-only editor."),openSettings:at.l10n.t("Open Settings"),showDecodedText:at.l10n.t("Show Decoded Text"),bytesPerRow:at.l10n.t("Bytes per row"),close:at.l10n.t("Close")};return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${i.cspSource} blob:; font-src ${i.cspSource}; style-src ${i.cspSource}; script-src 'nonce-${u}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${r}" rel="stylesheet" />
				<script nonce="${u}">globalThis.LOC_STRINGS=${JSON.stringify(a)}</script>
				<script nonce="${u}" src="${t}" defer></script>

				<title>Hex Editor</title>
			</head>
			<body>
			</body>
			</html>`}readCodeSettings(){return{scrollBeyondLastLine:at.workspace.getConfiguration("editor").get("scrollBeyondLastLine",!0)}}readEditorSettings(){let i=at.workspace.getConfiguration("hexeditor"),t={...fd};for(let r of dd)i.has(r)&&(t[r]=i.get(r));return t}writeEditorSettings(i){let t=at.workspace.getConfiguration("hexeditor");for(let r of dd){let u=t.inspect(r),a=u?u.workspaceFolderValue!==void 0?at.ConfigurationTarget.WorkspaceFolder:u.workspaceValue!==void 0?at.ConfigurationTarget.Workspace:at.ConfigurationTarget.Global:at.ConfigurationTarget.Global;t.update(r,i[r],a)}}async onMessage(i,t,r){switch(r.type){case 13:return{type:0,initialOffset:t.baseAddress,editorSettings:this.readEditorSettings(),codeSettings:this.readCodeSettings(),edits:Yn(t.edits),unsavedEditIndex:t.unsavedEditIndex,fileSize:await t.size(),pageSize:t.pageSize,isLargeFile:t.isLargeFile,isReadonly:t.isReadonly};case 10:t.selectionState=r;break;case 15:let u=await t.readBuffer(r.offset,r.bytes);return{type:1,data:Ya(u)};case 16:this.publishEdit(i,t,t.makeEdits(ud(r.edits)));return;case 23:this.publishEdit(i,t,r.mode==="insert"?t.insert(r.offset,r.data):await t.replace(r.offset,r.data)),i.sendEvent({type:3,edits:Yn(t.edits)});return;case 24:{let o=await Promise.all(r.selections.sort((l,d)=>l[0]-d[0]).map(l=>t.readBuffer(l[0],l[1]-l[0]))),n=Pl(o),s=r.asText?new TextDecoder().decode(n):po(n);at.env.clipboard.writeText(s);return}case 17:{let n=(await Promise.all(r.deletes.map(s=>t.readBufferWithEdits(s.start,s.end-s.start)))).map((s,l)=>({op:1,previous:s,offset:r.deletes[l].start}));return i.sendEvent({type:3,edits:Yn(n),appendOnly:!0}),this.publishEdit(i,t,t.makeEdits(n)),{type:12}}case 19:t.searchProvider.cancel();return;case 18:let a;"re"in r.query?a=new Vo(t,r.query,r.caseSensitive,r.cap):a=new Go(t,r.query,r.caseSensitive,r.cap),t.searchProvider.start(i,a);return;case 20:this._dataInspectorView.handleEditorMessage({method:"reset"});break;case 21:this._dataInspectorView.handleEditorMessage({method:"update",data:Ya(await t.readBufferWithEdits(r.offset,8))});break;case 22:this.writeEditorSettings(r.editorSettings);break}}publishEdit(i,t,r){this._onDidChangeCustomDocument.fire({document:t,undo:()=>i.sendEvent({type:3,edits:Yn(r.undo())}),redo:()=>i.sendEvent({type:3,edits:Yn(r.redo())})})}};var tn=Cr(require("vscode"));var pd=[],Wo=class extends Zr{constructor(){super();this.docs=new Map;this.onChangeEmitter=new tn.EventEmitter;this.onDidChangeActiveDocument=this.onChangeEmitter.event;this._register(tn.window.tabGroups.onDidChangeTabs(this.onChangedTabs,this)),this._register(tn.window.tabGroups.onDidChangeTabGroups(this.onChangedTabs,this)),this.onChangedTabs()}get activeDocument(){return this._activeDocument}get activeMessaging(){return this._activeDocument&&this.docs.get(this._activeDocument)||pd}getMessaging(t){return this.docs.get(t)||pd}add(t,r){let u=this.docs.get(t);return u?u.add(r):(u=new Set([r]),this.docs.set(t,u)),this.onChangedTabs(),{dispose:()=>{u.delete(r),u.size===0&&this.docs.delete(t)}}}onChangedTabs(){let t=tn.window.tabGroups.activeTabGroup.activeTab?.input,r=t instanceof tn.TabInputCustom?t.uri:void 0,u;if(r){for(let a of this.docs.keys())if(a.uri.toString()===r.toString()){u=a;break}}u!==this._activeDocument&&(this._activeDocument=u,tn.commands.executeCommand("setContext","hexEditor:isActive",!!u),this.onChangeEmitter.fire(u))}};var Pi=Cr(require("vscode"));var s_=/^0x[a-f0-9]+$/i,u_=/^[0-9]+$/i,hd=async(e,i)=>{e.sendEvent({type:6});let t,r=i.activeDocument?.selectionState;r!==void 0&&r.selected>0&&r.focused!==void 0&&(t=`0x${r.focused.toString(16)}`);let u=await a(Pi.l10n.t("Enter offset to select from"),t);if(u!==void 0){let o=await a(Pi.l10n.t("Enter offset to select until"));o!==void 0&&e.sendEvent({type:9,startingOffset:u,endingOffset:o})}async function a(o,n){let s=[];try{return await new Promise((d,c)=>{let p=Pi.window.createInputBox();p.title=o,p.value=n||"",p.prompt=o,p.ignoreFocusOut=!0,p.placeholder=o,s.push(p.onDidAccept(()=>{let v=p.value;p.enabled=!1,p.busy=!0;let m=l(v);m!==void 0&&d(m),p.enabled=!0,p.busy=!1}),p.onDidChangeValue(v=>{let m=l(v);m===void 0?p.validationMessage="Offset must be provided as a decimal (12345) or hex (0x12345) address":(p.validationMessage="",e.sendEvent({type:7,offset:m}))}),p.onDidHide(()=>{e.sendEvent({type:11}),d(void 0)}),p),p.show()})}finally{s.forEach(d=>d.dispose())}function l(d){let c;return d?s_.test(d)?c=parseInt(d.slice(2),16):u_.test(d)&&(c=parseInt(d,10)):c=void 0,c}}};var wn=Cr(require("vscode"));var vd=new Intl.NumberFormat,Ci=class extends Zr{constructor(t){super();this.docChangeListener=this._register(new ao);this.item=this._register(wn.window.createStatusBarItem(wn.StatusBarAlignment.Right,100));let r=u=>{u?(this.docChangeListener.value=u.onDidChangeSelectionState(a=>this.update(a)),this.update(u.selectionState),this.show()):this.hide()};this._register(t.onDidChangeActiveDocument(r)),r(t.activeDocument)}update({focused:t,selected:r}){if(t===void 0&&r===0)return;let u=t!==void 0?vd.format(t):void 0,a=r>1?vd.format(r):void 0;if(u&&a)this.item.text=wn.l10n.t("Byte {0}/0x{1} ({2}/0x{3} selected)",u,t.toString(16).toUpperCase(),a,r.toString(16).toUpperCase());else if(a)this.item.text=wn.l10n.t("{0}/0x{1} selected",a,r.toString(16).toUpperCase());else if(u)this.item.text=wn.l10n.t("Byte {0}/0x{1}",u,t.toString(16).toUpperCase());else{this.item.hide();return}this.item.show()}show(){this.item.show()}hide(){this.item.hide()}};function c_(e){let i=e.packageJSON;return{extId:`${i.publisher}.${i.name}`,version:i.version,aiKey:i.aiKey}}function l_(){let e=An.window.tabGroups.activeTabGroup.activeTab?.input;e.uri&&An.commands.executeCommand("vscode.openWith",e.uri,"hexEditor.hexedit")}function d_(e){let i=new Wo,t=new bi(e.extensionUri,i),r=c_(e.extension);e.subscriptions.push(i,t,An.window.registerWebviewViewProvider(bi.viewType,t));let u=new md.default(r.extId,r.version,r.aiKey);e.subscriptions.push(u);let a=An.commands.registerCommand("hexEditor.openFile",l_),o=An.commands.registerCommand("hexEditor.goToOffset",()=>{let s=i.activeMessaging[Symbol.iterator]().next();s.value&&Cl(s.value)}),n=An.commands.registerCommand("hexEditor.selectBetweenOffsets",()=>{let s=i.activeMessaging[Symbol.iterator]().next();s.value&&hd(s.value,i)});e.subscriptions.push(new Ci(i)),e.subscriptions.push(o),e.subscriptions.push(n),e.subscriptions.push(a),e.subscriptions.push(u),e.subscriptions.push(zo.register(e,u,t,i))}function f_(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@microsoft/applicationinsights-shims/dist/umd/applicationinsights-shims.js:
  (*!
   * Microsoft Application Insights JavaScript SDK - Shim functions, 2.0.1
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-core-js/dist/applicationinsights-core-js.js:
  (*!
   * Application Insights JavaScript SDK - Core, 2.8.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/dynamicproto-js/lib/dist/node/dynamicproto-js.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.6
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/1ds-core-js/dist/ms.core.js:
  (*!
   * 1DS JS SDK Core, 3.2.3
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 3.2.3
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
*/
