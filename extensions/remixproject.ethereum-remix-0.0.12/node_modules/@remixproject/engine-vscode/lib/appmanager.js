"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VscodeAppManager = void 0;
const tslib_1 = require("tslib");
const engine_1 = require("@remixproject/engine");
const axios_1 = require("axios");
class VscodeAppManager extends engine_1.PluginManager {
    constructor() {
        super();
        this.pluginsDirectory = 'https://raw.githubusercontent.com/ethereum/remix-plugins-directory/master/build/metadata.json';
        this.target = "vscode";
    }
    registeredPluginData() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
            let plugins;
            try {
                plugins = yield axios_1.default.get(this.pluginsDirectory);
                return plugins.data.filter((p) => (p.targets && p.targets.includes(this.target)));
            }
            catch (e) {
                throw new Error("Could not fetch plugin profiles.");
            }
        });
    }
}
exports.VscodeAppManager = VscodeAppManager;
//# sourceMappingURL=appmanager.js.map