"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.relativePath = exports.absolutePath = void 0;
const path_1 = require("path");
const vscode_1 = require("vscode");
function absolutePath(path) {
    path = path.replace(/^\/browser\//, "").replace(/^browser\//, "");
    const root = vscode_1.workspace.workspaceFolders[0].uri.fsPath;
    // vscode API will never get permission to WriteFile outside of its workspace directory
    if (!root) {
        return path;
    }
    if (path.startsWith(root)) {
        path = path_1.relative(root, path);
    }
    const result = path_1.join(root, path);
    if (!result.startsWith(root)) {
        throw new Error(`Resolved path is should be inside the open workspace : "${root}". Got "${result}`);
    }
    return result;
}
exports.absolutePath = absolutePath;
function relativePath(path) {
    const root = vscode_1.workspace.workspaceFolders[0].uri.fsPath;
    // vscode API will never get permission to WriteFile outside of its workspace directory
    if (!root) {
        return path;
    }
    return path_1.relative(root, path);
}
exports.relativePath = relativePath;
//# sourceMappingURL=path.js.map