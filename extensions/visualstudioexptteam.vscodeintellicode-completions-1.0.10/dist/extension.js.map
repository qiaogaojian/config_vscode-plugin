{"version":3,"file":"extension.js","mappings":"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","sources":[".././node_modules/async-hook-jl/async-hook.js",".././node_modules/async-hook-jl/index.js",".././node_modules/async-hook-jl/patches/next-tick.js",".././node_modules/async-hook-jl/patches/promise.js",".././node_modules/async-hook-jl/patches/timers.js",".././node_modules/async-listener/es6-wrapped-promise.js",".././node_modules/async-listener/glue.js",".././node_modules/async-listener/index.js",".././node_modules/async-mutex/lib/Mutex.js",".././node_modules/async-mutex/lib/Semaphore.js",".././node_modules/async-mutex/lib/errors.js",".././node_modules/async-mutex/lib/index.js",".././node_modules/async-mutex/lib/tryAcquire.js",".././node_modules/async-mutex/lib/withTimeout.js",".././node_modules/async-mutex/node_modules/tslib/tslib.es6.js",".././node_modules/balanced-match/index.js",".././node_modules/big-integer/BigInteger.js",".././node_modules/binary/index.js",".././node_modules/binary/lib/vars.js",".././node_modules/brace-expansion/index.js",".././node_modules/buffer-indexof-polyfill/index.js",".././node_modules/buffer-indexof-polyfill/init-buffer.js",".././node_modules/buffers/index.js",".././node_modules/chainsaw/index.js",".././node_modules/cls-hooked/context-legacy.js",".././node_modules/cls-hooked/context.js",".././node_modules/cls-hooked/index.js",".././node_modules/concat-map/index.js",".././node_modules/continuation-local-storage/context.js",".././node_modules/core-util-is/lib/util.js",".././node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/console.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/index.js",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js",".././node_modules/diagnostic-channel-publishers/dist/src|sync|/^.*/lib/Connection$",".././node_modules/diagnostic-channel-publishers/dist/src|sync|/^.*/lib/Pool$",".././node_modules/diagnostic-channel/dist/src/channel.js",".././node_modules/diagnostic-channel/dist/src/patchRequire.js",".././node_modules/duplexer2/index.js",".././node_modules/emitter-listener/listener.js",".././node_modules/fs.realpath/index.js",".././node_modules/fs.realpath/old.js",".././node_modules/fstream/fstream.js",".././node_modules/fstream/lib/abstract.js",".././node_modules/fstream/lib/collect.js",".././node_modules/fstream/lib/dir-reader.js",".././node_modules/fstream/lib/dir-writer.js",".././node_modules/fstream/lib/file-reader.js",".././node_modules/fstream/lib/file-writer.js",".././node_modules/fstream/lib/get-type.js",".././node_modules/fstream/lib/link-reader.js",".././node_modules/fstream/lib/link-writer.js",".././node_modules/fstream/lib/proxy-reader.js",".././node_modules/fstream/lib/proxy-writer.js",".././node_modules/fstream/lib/reader.js",".././node_modules/fstream/lib/socket-reader.js",".././node_modules/fstream/lib/writer.js",".././node_modules/glob/common.js",".././node_modules/glob/glob.js",".././node_modules/glob/sync.js",".././node_modules/graceful-fs/clone.js",".././node_modules/graceful-fs/graceful-fs.js",".././node_modules/graceful-fs/legacy-streams.js",".././node_modules/graceful-fs/polyfills.js",".././node_modules/inflight/inflight.js",".././node_modules/inherits/inherits.js",".././node_modules/inherits/inherits_browser.js",".././node_modules/isarray/index.js",".././node_modules/listenercount/index.js",".././node_modules/lru-cache/index.js",".././node_modules/minimatch/minimatch.js",".././node_modules/mkdirp/index.js",".././node_modules/once/once.js",".././node_modules/path-is-absolute/index.js",".././node_modules/process-nextick-args/index.js",".././node_modules/readable-stream/lib/_stream_duplex.js",".././node_modules/readable-stream/lib/_stream_passthrough.js",".././node_modules/readable-stream/lib/_stream_readable.js",".././node_modules/readable-stream/lib/_stream_transform.js",".././node_modules/readable-stream/lib/_stream_writable.js",".././node_modules/readable-stream/lib/internal/streams/BufferList.js",".././node_modules/readable-stream/lib/internal/streams/destroy.js",".././node_modules/readable-stream/lib/internal/streams/stream.js",".././node_modules/readable-stream/readable.js",".././node_modules/rimraf/rimraf.js",".././node_modules/safe-buffer/index.js",".././node_modules/semver/semver.js",".././node_modules/setimmediate/setImmediate.js",".././node_modules/shimmer/index.js",".././node_modules/stack-chain/format.js",".././node_modules/stack-chain/index.js",".././node_modules/stack-chain/stack-chain.js",".././node_modules/string_decoder/lib/string_decoder.js",".././node_modules/traverse/index.js",".././src/@types/telemetry.ts",".././src/entry.ts",".././src/resolvedPath.ts",".././src/resultCache/completionState.ts",".././src/resultCache/hashTrie.ts",".././src/services/completion/abstractCompletionService.ts",".././src/services/completion/localLineCompletionService.ts",".././src/services/completion/workerThreadLineCompletionService.ts",".././src/services/logging/VSCodeOutputLogger.ts",".././src/services/logging/index.ts",".././src/services/logging/loggingService.ts",".././src/services/model/onnxModelWrapper.ts",".././src/services/normalization/index.ts",".././src/services/normalization/treeSitterManager.ts",".././src/services/normalization/treeSitterNormalizationService.ts",".././src/services/settings/settings.ts",".././src/services/settings/vscodeSettings.ts",".././src/services/survey/feedbackSurveyService.ts",".././src/services/survey/index.ts",".././src/services/syntacticFilter/treeSitterSyntacticFilter.ts",".././src/services/telemetry/vscodeTelemetry.ts",".././src/utils/awaitableMessageExchanger.ts",".././src/utils/common.ts",".././src/utils/document.ts",".././src/utils/inlineCompletionProvider/processCompletionItem.ts",".././src/utils/inlineCompletionProvider/validateCompletionItem.ts",".././src/utils/inlineCompletionProvider/walkingThePrediction.ts",".././src/utils/language.ts",".././src/utils/postProcRules.ts",".././src/utils/range/conversions.ts",".././src/utils/range/documentRange.ts",".././src/utils/tensor.ts",".././src/utils/vscodeEditor.ts",".././src/vscodeExtension/commands/createVisualizationCommands.ts",".././src/vscodeExtension/commands/ids.ts",".././src/vscodeExtension/commands/postAcceptanceCommand.ts",".././src/vscodeExtension/extensionFactory.ts",".././src/vscodeExtension/inlineCompletionProvider.ts",".././src/vscodeExtension/stubActivation.ts",".././src/vscodeExtension/visualization/content.ts",".././src/vscodeExtension/visualization/parsedCode.ts",".././src/vscodeExtension/visualization/window.ts",".././src/vscodeExtension/vscodeExtensionEntry.ts",".././src/workerThread/inferenceWorker.ts",".././src/workerThread/remotedServices/completionResultCallback.ts",".././src/workerThread/remotedServices/logging.ts",".././src/workerThread/remotedServices/settings.ts",".././src/workerThread/remotedServices/telemetry.ts",".././node_modules/unzipper/lib/Buffer.js",".././node_modules/unzipper/lib/BufferStream.js",".././node_modules/unzipper/lib/Decrypt.js",".././node_modules/unzipper/lib/NoopStream.js",".././node_modules/unzipper/lib/Open/directory.js",".././node_modules/unzipper/lib/Open/index.js",".././node_modules/unzipper/lib/Open/unzip.js",".././node_modules/unzipper/lib/PullStream.js",".././node_modules/unzipper/lib/extract.js",".././node_modules/unzipper/lib/parse.js",".././node_modules/unzipper/lib/parseDateTime.js",".././node_modules/unzipper/lib/parseExtraField.js",".././node_modules/unzipper/lib/parseOne.js",".././node_modules/unzipper/node_modules/bluebird/js/release/any.js",".././node_modules/unzipper/node_modules/bluebird/js/release/async.js",".././node_modules/unzipper/node_modules/bluebird/js/release/bind.js",".././node_modules/unzipper/node_modules/bluebird/js/release/bluebird.js",".././node_modules/unzipper/node_modules/bluebird/js/release/call_get.js",".././node_modules/unzipper/node_modules/bluebird/js/release/cancel.js",".././node_modules/unzipper/node_modules/bluebird/js/release/catch_filter.js",".././node_modules/unzipper/node_modules/bluebird/js/release/context.js",".././node_modules/unzipper/node_modules/bluebird/js/release/debuggability.js",".././node_modules/unzipper/node_modules/bluebird/js/release/direct_resolve.js",".././node_modules/unzipper/node_modules/bluebird/js/release/each.js",".././node_modules/unzipper/node_modules/bluebird/js/release/errors.js",".././node_modules/unzipper/node_modules/bluebird/js/release/es5.js",".././node_modules/unzipper/node_modules/bluebird/js/release/filter.js",".././node_modules/unzipper/node_modules/bluebird/js/release/finally.js",".././node_modules/unzipper/node_modules/bluebird/js/release/generators.js",".././node_modules/unzipper/node_modules/bluebird/js/release/join.js",".././node_modules/unzipper/node_modules/bluebird/js/release/map.js",".././node_modules/unzipper/node_modules/bluebird/js/release/method.js",".././node_modules/unzipper/node_modules/bluebird/js/release/nodeback.js",".././node_modules/unzipper/node_modules/bluebird/js/release/nodeify.js",".././node_modules/unzipper/node_modules/bluebird/js/release/promise.js",".././node_modules/unzipper/node_modules/bluebird/js/release/promise_array.js",".././node_modules/unzipper/node_modules/bluebird/js/release/promisify.js",".././node_modules/unzipper/node_modules/bluebird/js/release/props.js",".././node_modules/unzipper/node_modules/bluebird/js/release/queue.js",".././node_modules/unzipper/node_modules/bluebird/js/release/race.js",".././node_modules/unzipper/node_modules/bluebird/js/release/reduce.js",".././node_modules/unzipper/node_modules/bluebird/js/release/schedule.js",".././node_modules/unzipper/node_modules/bluebird/js/release/settle.js",".././node_modules/unzipper/node_modules/bluebird/js/release/some.js",".././node_modules/unzipper/node_modules/bluebird/js/release/synchronous_inspection.js",".././node_modules/unzipper/node_modules/bluebird/js/release/thenables.js",".././node_modules/unzipper/node_modules/bluebird/js/release/timers.js",".././node_modules/unzipper/node_modules/bluebird/js/release/using.js",".././node_modules/unzipper/node_modules/bluebird/js/release/util.js",".././node_modules/unzipper/unzip.js",".././node_modules/util-deprecate/node.js",".././node_modules/uuid/dist/esm-node/rng.js",".././node_modules/uuid/dist/esm-node/regex.js",".././node_modules/uuid/dist/esm-node/validate.js",".././node_modules/uuid/dist/esm-node/stringify.js",".././node_modules/uuid/dist/esm-node/v1.js",".././node_modules/uuid/dist/esm-node/parse.js",".././node_modules/uuid/dist/esm-node/v35.js",".././node_modules/uuid/dist/esm-node/md5.js",".././node_modules/uuid/dist/esm-node/v3.js",".././node_modules/uuid/dist/esm-node/v4.js",".././node_modules/uuid/dist/esm-node/v5.js",".././node_modules/uuid/dist/esm-node/sha1.js",".././node_modules/uuid/dist/esm-node/nil.js",".././node_modules/uuid/dist/esm-node/version.js",".././node_modules/vscode-extension-telemetry/lib/telemetryReporter.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Console.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Exceptions.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/HttpRequests.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/NativePerformance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/Performance.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/RequestParser.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Constants.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Constants.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Declarations/Contracts/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Channel.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Config.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Context.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/CorrelationIdManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/EnvelopeFactory.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Logging.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/NodeClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseSender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/QuickPulseStateManager.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/RequestResponseHeaders.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Sender.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/TelemetryClient.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Traceparent.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Tracestate.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/Library/Util.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/QuickPulseTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/TelemetryProcessors/index.js",".././node_modules/vscode-extension-telemetry/node_modules/applicationinsights/out/applicationinsights.js",".././node_modules/web-tree-sitter/tree-sitter.js",".././node_modules/wrappy/wrappy.js",".././node_modules/yallist/iterator.js",".././node_modules/yallist/yallist.js",".././src/lib/blingfire/blingfire.js",".././src/lib/blingfire/blingfire_wrapper.js","../external commonjs \"applicationinsights-native-metrics\"","../external commonjs \"onnxruntime-node\"","../external commonjs \"vscode\"","../external node-commonjs \"assert\"","../external node-commonjs \"async_hooks\"","../external node-commonjs \"buffer\"","../external node-commonjs \"child_process\"","../external node-commonjs \"console\"","../external node-commonjs \"constants\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"perf_hooks\"","../external node-commonjs \"process\"","../external node-commonjs \"stream\"","../external node-commonjs \"timers\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"worker_threads\"","../external node-commonjs \"zlib\"","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, releaser;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire()];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this._semaphore.runExclusive(function () { return callback(); });\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Mutex.prototype.release = function () {\n        this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_maxConcurrency, _cancelError) {\n        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }\n        this._maxConcurrency = _maxConcurrency;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        if (_maxConcurrency <= 0) {\n            throw new Error('semaphore must be initialized to a positive value');\n        }\n        this._value = _maxConcurrency;\n    }\n    Semaphore.prototype.acquire = function () {\n        var _this = this;\n        var locked = this.isLocked();\n        var ticketPromise = new Promise(function (resolve, reject) {\n            return _this._queue.push({ resolve: resolve, reject: reject });\n        });\n        if (!locked)\n            this._dispatch();\n        return ticketPromise;\n    };\n    Semaphore.prototype.runExclusive = function (callback) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, value, release;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire()];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Semaphore.prototype.release = function () {\n        if (this._maxConcurrency > 1) {\n            throw new Error('this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead');\n        }\n        if (this._currentReleaser) {\n            var releaser = this._currentReleaser;\n            this._currentReleaser = undefined;\n            releaser();\n        }\n    };\n    Semaphore.prototype.cancel = function () {\n        var _this = this;\n        this._queue.forEach(function (ticket) { return ticket.reject(_this._cancelError); });\n        this._queue = [];\n    };\n    Semaphore.prototype._dispatch = function () {\n        var _this = this;\n        var nextTicket = this._queue.shift();\n        if (!nextTicket)\n            return;\n        var released = false;\n        this._currentReleaser = function () {\n            if (released)\n                return;\n            released = true;\n            _this._value++;\n            _this._dispatch();\n        };\n        nextTicket.resolve([this._value--, this._currentReleaser]);\n    };\n    return Semaphore;\n}());\nexports.default = Semaphore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;\nexports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nexports.E_ALREADY_LOCKED = new Error('mutex already locked');\nexports.E_CANCELED = new Error('request for lock canceled');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Mutex_1 = require(\"./Mutex\");\nObject.defineProperty(exports, \"Mutex\", { enumerable: true, get: function () { return Mutex_1.default; } });\nvar Semaphore_1 = require(\"./Semaphore\");\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return Semaphore_1.default; } });\nvar withTimeout_1 = require(\"./withTimeout\");\nObject.defineProperty(exports, \"withTimeout\", { enumerable: true, get: function () { return withTimeout_1.withTimeout; } });\nvar tryAcquire_1 = require(\"./tryAcquire\");\nObject.defineProperty(exports, \"tryAcquire\", { enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } });\ntslib_1.__exportStar(require(\"./errors\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = void 0;\nvar errors_1 = require(\"./errors\");\nvar withTimeout_1 = require(\"./withTimeout\");\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError) {\n    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return withTimeout_1.withTimeout(sync, 0, alreadyAcquiredError);\n}\nexports.tryAcquire = tryAcquire;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTimeout = void 0;\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction withTimeout(sync, timeout, timeoutError) {\n    var _this = this;\n    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }\n    return {\n        acquire: function () {\n            return new Promise(function (resolve, reject) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                var isTimeout, handle, ticket, release, e_1;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            isTimeout = false;\n                            handle = setTimeout(function () {\n                                isTimeout = true;\n                                reject(timeoutError);\n                            }, timeout);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, sync.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (isTimeout) {\n                                release = Array.isArray(ticket) ? ticket[1] : ticket;\n                                release();\n                            }\n                            else {\n                                clearTimeout(handle);\n                                resolve(ticket);\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            if (!isTimeout) {\n                                clearTimeout(handle);\n                                reject(e_1);\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        },\n        runExclusive: function (callback) {\n            return tslib_1.__awaiter(this, void 0, void 0, function () {\n                var release, ticket;\n                return tslib_1.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            release = function () { return undefined; };\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, , 7, 8]);\n                            return [4 /*yield*/, this.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];\n                            release = ticket[1];\n                            return [4 /*yield*/, callback(ticket[0])];\n                        case 3: return [2 /*return*/, _a.sent()];\n                        case 4:\n                            release = ticket;\n                            return [4 /*yield*/, callback()];\n                        case 5: return [2 /*return*/, _a.sent()];\n                        case 6: return [3 /*break*/, 8];\n                        case 7:\n                            release();\n                            return [7 /*endfinally*/];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n        release: function () {\n            sync.release();\n        },\n        cancel: function () {\n            return sync.cancel();\n        },\n        isLocked: function () { return sync.isLocked(); },\n    };\n}\nexports.withTimeout = withTimeout;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var bigInt = (function (undefined) {\r\n    \"use strict\";\r\n\r\n    var BASE = 1e7,\r\n        LOG_BASE = 7,\r\n        MAX_INT = 9007199254740992,\r\n        MAX_INT_ARR = smallToArray(MAX_INT),\r\n        DEFAULT_ALPHABET = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n\r\n    var supportsNativeBigInt = typeof BigInt === \"function\";\r\n\r\n    function Integer(v, radix, alphabet, caseSensitive) {\r\n        if (typeof v === \"undefined\") return Integer[0];\r\n        if (typeof radix !== \"undefined\") return +radix === 10 && !alphabet ? parseValue(v) : parseBase(v, radix, alphabet, caseSensitive);\r\n        return parseValue(v);\r\n    }\r\n\r\n    function BigInteger(value, sign) {\r\n        this.value = value;\r\n        this.sign = sign;\r\n        this.isSmall = false;\r\n    }\r\n    BigInteger.prototype = Object.create(Integer.prototype);\r\n\r\n    function SmallInteger(value) {\r\n        this.value = value;\r\n        this.sign = value < 0;\r\n        this.isSmall = true;\r\n    }\r\n    SmallInteger.prototype = Object.create(Integer.prototype);\r\n\r\n    function NativeBigInt(value) {\r\n        this.value = value;\r\n    }\r\n    NativeBigInt.prototype = Object.create(Integer.prototype);\r\n\r\n    function isPrecise(n) {\r\n        return -MAX_INT < n && n < MAX_INT;\r\n    }\r\n\r\n    function smallToArray(n) { // For performance reasons doesn't reference BASE, need to change this function if BASE changes\r\n        if (n < 1e7)\r\n            return [n];\r\n        if (n < 1e14)\r\n            return [n % 1e7, Math.floor(n / 1e7)];\r\n        return [n % 1e7, Math.floor(n / 1e7) % 1e7, Math.floor(n / 1e14)];\r\n    }\r\n\r\n    function arrayToSmall(arr) { // If BASE changes this function may need to change\r\n        trim(arr);\r\n        var length = arr.length;\r\n        if (length < 4 && compareAbs(arr, MAX_INT_ARR) < 0) {\r\n            switch (length) {\r\n                case 0: return 0;\r\n                case 1: return arr[0];\r\n                case 2: return arr[0] + arr[1] * BASE;\r\n                default: return arr[0] + (arr[1] + arr[2] * BASE) * BASE;\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function trim(v) {\r\n        var i = v.length;\r\n        while (v[--i] === 0);\r\n        v.length = i + 1;\r\n    }\r\n\r\n    function createArray(length) { // function shamelessly stolen from Yaffle's library https://github.com/Yaffle/BigInteger\r\n        var x = new Array(length);\r\n        var i = -1;\r\n        while (++i < length) {\r\n            x[i] = 0;\r\n        }\r\n        return x;\r\n    }\r\n\r\n    function truncate(n) {\r\n        if (n > 0) return Math.floor(n);\r\n        return Math.ceil(n);\r\n    }\r\n\r\n    function add(a, b) { // assumes a and b are arrays with a.length >= b.length\r\n        var l_a = a.length,\r\n            l_b = b.length,\r\n            r = new Array(l_a),\r\n            carry = 0,\r\n            base = BASE,\r\n            sum, i;\r\n        for (i = 0; i < l_b; i++) {\r\n            sum = a[i] + b[i] + carry;\r\n            carry = sum >= base ? 1 : 0;\r\n            r[i] = sum - carry * base;\r\n        }\r\n        while (i < l_a) {\r\n            sum = a[i] + carry;\r\n            carry = sum === base ? 1 : 0;\r\n            r[i++] = sum - carry * base;\r\n        }\r\n        if (carry > 0) r.push(carry);\r\n        return r;\r\n    }\r\n\r\n    function addAny(a, b) {\r\n        if (a.length >= b.length) return add(a, b);\r\n        return add(b, a);\r\n    }\r\n\r\n    function addSmall(a, carry) { // assumes a is array, carry is number with 0 <= carry < MAX_INT\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            base = BASE,\r\n            sum, i;\r\n        for (i = 0; i < l; i++) {\r\n            sum = a[i] - base + carry;\r\n            carry = Math.floor(sum / base);\r\n            r[i] = sum - carry * base;\r\n            carry += 1;\r\n        }\r\n        while (carry > 0) {\r\n            r[i++] = carry % base;\r\n            carry = Math.floor(carry / base);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    BigInteger.prototype.add = function (v) {\r\n        var n = parseValue(v);\r\n        if (this.sign !== n.sign) {\r\n            return this.subtract(n.negate());\r\n        }\r\n        var a = this.value, b = n.value;\r\n        if (n.isSmall) {\r\n            return new BigInteger(addSmall(a, Math.abs(b)), this.sign);\r\n        }\r\n        return new BigInteger(addAny(a, b), this.sign);\r\n    };\r\n    BigInteger.prototype.plus = BigInteger.prototype.add;\r\n\r\n    SmallInteger.prototype.add = function (v) {\r\n        var n = parseValue(v);\r\n        var a = this.value;\r\n        if (a < 0 !== n.sign) {\r\n            return this.subtract(n.negate());\r\n        }\r\n        var b = n.value;\r\n        if (n.isSmall) {\r\n            if (isPrecise(a + b)) return new SmallInteger(a + b);\r\n            b = smallToArray(Math.abs(b));\r\n        }\r\n        return new BigInteger(addSmall(b, Math.abs(a)), a < 0);\r\n    };\r\n    SmallInteger.prototype.plus = SmallInteger.prototype.add;\r\n\r\n    NativeBigInt.prototype.add = function (v) {\r\n        return new NativeBigInt(this.value + parseValue(v).value);\r\n    }\r\n    NativeBigInt.prototype.plus = NativeBigInt.prototype.add;\r\n\r\n    function subtract(a, b) { // assumes a and b are arrays with a >= b\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            r = new Array(a_l),\r\n            borrow = 0,\r\n            base = BASE,\r\n            i, difference;\r\n        for (i = 0; i < b_l; i++) {\r\n            difference = a[i] - borrow - b[i];\r\n            if (difference < 0) {\r\n                difference += base;\r\n                borrow = 1;\r\n            } else borrow = 0;\r\n            r[i] = difference;\r\n        }\r\n        for (i = b_l; i < a_l; i++) {\r\n            difference = a[i] - borrow;\r\n            if (difference < 0) difference += base;\r\n            else {\r\n                r[i++] = difference;\r\n                break;\r\n            }\r\n            r[i] = difference;\r\n        }\r\n        for (; i < a_l; i++) {\r\n            r[i] = a[i];\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    function subtractAny(a, b, sign) {\r\n        var value;\r\n        if (compareAbs(a, b) >= 0) {\r\n            value = subtract(a, b);\r\n        } else {\r\n            value = subtract(b, a);\r\n            sign = !sign;\r\n        }\r\n        value = arrayToSmall(value);\r\n        if (typeof value === \"number\") {\r\n            if (sign) value = -value;\r\n            return new SmallInteger(value);\r\n        }\r\n        return new BigInteger(value, sign);\r\n    }\r\n\r\n    function subtractSmall(a, b, sign) { // assumes a is array, b is number with 0 <= b < MAX_INT\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            carry = -b,\r\n            base = BASE,\r\n            i, difference;\r\n        for (i = 0; i < l; i++) {\r\n            difference = a[i] + carry;\r\n            carry = Math.floor(difference / base);\r\n            difference %= base;\r\n            r[i] = difference < 0 ? difference + base : difference;\r\n        }\r\n        r = arrayToSmall(r);\r\n        if (typeof r === \"number\") {\r\n            if (sign) r = -r;\r\n            return new SmallInteger(r);\r\n        } return new BigInteger(r, sign);\r\n    }\r\n\r\n    BigInteger.prototype.subtract = function (v) {\r\n        var n = parseValue(v);\r\n        if (this.sign !== n.sign) {\r\n            return this.add(n.negate());\r\n        }\r\n        var a = this.value, b = n.value;\r\n        if (n.isSmall)\r\n            return subtractSmall(a, Math.abs(b), this.sign);\r\n        return subtractAny(a, b, this.sign);\r\n    };\r\n    BigInteger.prototype.minus = BigInteger.prototype.subtract;\r\n\r\n    SmallInteger.prototype.subtract = function (v) {\r\n        var n = parseValue(v);\r\n        var a = this.value;\r\n        if (a < 0 !== n.sign) {\r\n            return this.add(n.negate());\r\n        }\r\n        var b = n.value;\r\n        if (n.isSmall) {\r\n            return new SmallInteger(a - b);\r\n        }\r\n        return subtractSmall(b, Math.abs(a), a >= 0);\r\n    };\r\n    SmallInteger.prototype.minus = SmallInteger.prototype.subtract;\r\n\r\n    NativeBigInt.prototype.subtract = function (v) {\r\n        return new NativeBigInt(this.value - parseValue(v).value);\r\n    }\r\n    NativeBigInt.prototype.minus = NativeBigInt.prototype.subtract;\r\n\r\n    BigInteger.prototype.negate = function () {\r\n        return new BigInteger(this.value, !this.sign);\r\n    };\r\n    SmallInteger.prototype.negate = function () {\r\n        var sign = this.sign;\r\n        var small = new SmallInteger(-this.value);\r\n        small.sign = !sign;\r\n        return small;\r\n    };\r\n    NativeBigInt.prototype.negate = function () {\r\n        return new NativeBigInt(-this.value);\r\n    }\r\n\r\n    BigInteger.prototype.abs = function () {\r\n        return new BigInteger(this.value, false);\r\n    };\r\n    SmallInteger.prototype.abs = function () {\r\n        return new SmallInteger(Math.abs(this.value));\r\n    };\r\n    NativeBigInt.prototype.abs = function () {\r\n        return new NativeBigInt(this.value >= 0 ? this.value : -this.value);\r\n    }\r\n\r\n\r\n    function multiplyLong(a, b) {\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            l = a_l + b_l,\r\n            r = createArray(l),\r\n            base = BASE,\r\n            product, carry, i, a_i, b_j;\r\n        for (i = 0; i < a_l; ++i) {\r\n            a_i = a[i];\r\n            for (var j = 0; j < b_l; ++j) {\r\n                b_j = b[j];\r\n                product = a_i * b_j + r[i + j];\r\n                carry = Math.floor(product / base);\r\n                r[i + j] = product - carry * base;\r\n                r[i + j + 1] += carry;\r\n            }\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    function multiplySmall(a, b) { // assumes a is array, b is number with |b| < BASE\r\n        var l = a.length,\r\n            r = new Array(l),\r\n            base = BASE,\r\n            carry = 0,\r\n            product, i;\r\n        for (i = 0; i < l; i++) {\r\n            product = a[i] * b + carry;\r\n            carry = Math.floor(product / base);\r\n            r[i] = product - carry * base;\r\n        }\r\n        while (carry > 0) {\r\n            r[i++] = carry % base;\r\n            carry = Math.floor(carry / base);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    function shiftLeft(x, n) {\r\n        var r = [];\r\n        while (n-- > 0) r.push(0);\r\n        return r.concat(x);\r\n    }\r\n\r\n    function multiplyKaratsuba(x, y) {\r\n        var n = Math.max(x.length, y.length);\r\n\r\n        if (n <= 30) return multiplyLong(x, y);\r\n        n = Math.ceil(n / 2);\r\n\r\n        var b = x.slice(n),\r\n            a = x.slice(0, n),\r\n            d = y.slice(n),\r\n            c = y.slice(0, n);\r\n\r\n        var ac = multiplyKaratsuba(a, c),\r\n            bd = multiplyKaratsuba(b, d),\r\n            abcd = multiplyKaratsuba(addAny(a, b), addAny(c, d));\r\n\r\n        var product = addAny(addAny(ac, shiftLeft(subtract(subtract(abcd, ac), bd), n)), shiftLeft(bd, 2 * n));\r\n        trim(product);\r\n        return product;\r\n    }\r\n\r\n    // The following function is derived from a surface fit of a graph plotting the performance difference\r\n    // between long multiplication and karatsuba multiplication versus the lengths of the two arrays.\r\n    function useKaratsuba(l1, l2) {\r\n        return -0.012 * l1 - 0.012 * l2 + 0.000015 * l1 * l2 > 0;\r\n    }\r\n\r\n    BigInteger.prototype.multiply = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value, b = n.value,\r\n            sign = this.sign !== n.sign,\r\n            abs;\r\n        if (n.isSmall) {\r\n            if (b === 0) return Integer[0];\r\n            if (b === 1) return this;\r\n            if (b === -1) return this.negate();\r\n            abs = Math.abs(b);\r\n            if (abs < BASE) {\r\n                return new BigInteger(multiplySmall(a, abs), sign);\r\n            }\r\n            b = smallToArray(abs);\r\n        }\r\n        if (useKaratsuba(a.length, b.length)) // Karatsuba is only faster for certain array sizes\r\n            return new BigInteger(multiplyKaratsuba(a, b), sign);\r\n        return new BigInteger(multiplyLong(a, b), sign);\r\n    };\r\n\r\n    BigInteger.prototype.times = BigInteger.prototype.multiply;\r\n\r\n    function multiplySmallAndArray(a, b, sign) { // a >= 0\r\n        if (a < BASE) {\r\n            return new BigInteger(multiplySmall(b, a), sign);\r\n        }\r\n        return new BigInteger(multiplyLong(b, smallToArray(a)), sign);\r\n    }\r\n    SmallInteger.prototype._multiplyBySmall = function (a) {\r\n        if (isPrecise(a.value * this.value)) {\r\n            return new SmallInteger(a.value * this.value);\r\n        }\r\n        return multiplySmallAndArray(Math.abs(a.value), smallToArray(Math.abs(this.value)), this.sign !== a.sign);\r\n    };\r\n    BigInteger.prototype._multiplyBySmall = function (a) {\r\n        if (a.value === 0) return Integer[0];\r\n        if (a.value === 1) return this;\r\n        if (a.value === -1) return this.negate();\r\n        return multiplySmallAndArray(Math.abs(a.value), this.value, this.sign !== a.sign);\r\n    };\r\n    SmallInteger.prototype.multiply = function (v) {\r\n        return parseValue(v)._multiplyBySmall(this);\r\n    };\r\n    SmallInteger.prototype.times = SmallInteger.prototype.multiply;\r\n\r\n    NativeBigInt.prototype.multiply = function (v) {\r\n        return new NativeBigInt(this.value * parseValue(v).value);\r\n    }\r\n    NativeBigInt.prototype.times = NativeBigInt.prototype.multiply;\r\n\r\n    function square(a) {\r\n        //console.assert(2 * BASE * BASE < MAX_INT);\r\n        var l = a.length,\r\n            r = createArray(l + l),\r\n            base = BASE,\r\n            product, carry, i, a_i, a_j;\r\n        for (i = 0; i < l; i++) {\r\n            a_i = a[i];\r\n            carry = 0 - a_i * a_i;\r\n            for (var j = i; j < l; j++) {\r\n                a_j = a[j];\r\n                product = 2 * (a_i * a_j) + r[i + j] + carry;\r\n                carry = Math.floor(product / base);\r\n                r[i + j] = product - carry * base;\r\n            }\r\n            r[i + l] = carry;\r\n        }\r\n        trim(r);\r\n        return r;\r\n    }\r\n\r\n    BigInteger.prototype.square = function () {\r\n        return new BigInteger(square(this.value), false);\r\n    };\r\n\r\n    SmallInteger.prototype.square = function () {\r\n        var value = this.value * this.value;\r\n        if (isPrecise(value)) return new SmallInteger(value);\r\n        return new BigInteger(square(smallToArray(Math.abs(this.value))), false);\r\n    };\r\n\r\n    NativeBigInt.prototype.square = function (v) {\r\n        return new NativeBigInt(this.value * this.value);\r\n    }\r\n\r\n    function divMod1(a, b) { // Left over from previous version. Performs faster than divMod2 on smaller input sizes.\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            base = BASE,\r\n            result = createArray(b.length),\r\n            divisorMostSignificantDigit = b[b_l - 1],\r\n            // normalization\r\n            lambda = Math.ceil(base / (2 * divisorMostSignificantDigit)),\r\n            remainder = multiplySmall(a, lambda),\r\n            divisor = multiplySmall(b, lambda),\r\n            quotientDigit, shift, carry, borrow, i, l, q;\r\n        if (remainder.length <= a_l) remainder.push(0);\r\n        divisor.push(0);\r\n        divisorMostSignificantDigit = divisor[b_l - 1];\r\n        for (shift = a_l - b_l; shift >= 0; shift--) {\r\n            quotientDigit = base - 1;\r\n            if (remainder[shift + b_l] !== divisorMostSignificantDigit) {\r\n                quotientDigit = Math.floor((remainder[shift + b_l] * base + remainder[shift + b_l - 1]) / divisorMostSignificantDigit);\r\n            }\r\n            // quotientDigit <= base - 1\r\n            carry = 0;\r\n            borrow = 0;\r\n            l = divisor.length;\r\n            for (i = 0; i < l; i++) {\r\n                carry += quotientDigit * divisor[i];\r\n                q = Math.floor(carry / base);\r\n                borrow += remainder[shift + i] - (carry - q * base);\r\n                carry = q;\r\n                if (borrow < 0) {\r\n                    remainder[shift + i] = borrow + base;\r\n                    borrow = -1;\r\n                } else {\r\n                    remainder[shift + i] = borrow;\r\n                    borrow = 0;\r\n                }\r\n            }\r\n            while (borrow !== 0) {\r\n                quotientDigit -= 1;\r\n                carry = 0;\r\n                for (i = 0; i < l; i++) {\r\n                    carry += remainder[shift + i] - base + divisor[i];\r\n                    if (carry < 0) {\r\n                        remainder[shift + i] = carry + base;\r\n                        carry = 0;\r\n                    } else {\r\n                        remainder[shift + i] = carry;\r\n                        carry = 1;\r\n                    }\r\n                }\r\n                borrow += carry;\r\n            }\r\n            result[shift] = quotientDigit;\r\n        }\r\n        // denormalization\r\n        remainder = divModSmall(remainder, lambda)[0];\r\n        return [arrayToSmall(result), arrayToSmall(remainder)];\r\n    }\r\n\r\n    function divMod2(a, b) { // Implementation idea shamelessly stolen from Silent Matt's library http://silentmatt.com/biginteger/\r\n        // Performs faster than divMod1 on larger input sizes.\r\n        var a_l = a.length,\r\n            b_l = b.length,\r\n            result = [],\r\n            part = [],\r\n            base = BASE,\r\n            guess, xlen, highx, highy, check;\r\n        while (a_l) {\r\n            part.unshift(a[--a_l]);\r\n            trim(part);\r\n            if (compareAbs(part, b) < 0) {\r\n                result.push(0);\r\n                continue;\r\n            }\r\n            xlen = part.length;\r\n            highx = part[xlen - 1] * base + part[xlen - 2];\r\n            highy = b[b_l - 1] * base + b[b_l - 2];\r\n            if (xlen > b_l) {\r\n                highx = (highx + 1) * base;\r\n            }\r\n            guess = Math.ceil(highx / highy);\r\n            do {\r\n                check = multiplySmall(b, guess);\r\n                if (compareAbs(check, part) <= 0) break;\r\n                guess--;\r\n            } while (guess);\r\n            result.push(guess);\r\n            part = subtract(part, check);\r\n        }\r\n        result.reverse();\r\n        return [arrayToSmall(result), arrayToSmall(part)];\r\n    }\r\n\r\n    function divModSmall(value, lambda) {\r\n        var length = value.length,\r\n            quotient = createArray(length),\r\n            base = BASE,\r\n            i, q, remainder, divisor;\r\n        remainder = 0;\r\n        for (i = length - 1; i >= 0; --i) {\r\n            divisor = remainder * base + value[i];\r\n            q = truncate(divisor / lambda);\r\n            remainder = divisor - q * lambda;\r\n            quotient[i] = q | 0;\r\n        }\r\n        return [quotient, remainder | 0];\r\n    }\r\n\r\n    function divModAny(self, v) {\r\n        var value, n = parseValue(v);\r\n        if (supportsNativeBigInt) {\r\n            return [new NativeBigInt(self.value / n.value), new NativeBigInt(self.value % n.value)];\r\n        }\r\n        var a = self.value, b = n.value;\r\n        var quotient;\r\n        if (b === 0) throw new Error(\"Cannot divide by zero\");\r\n        if (self.isSmall) {\r\n            if (n.isSmall) {\r\n                return [new SmallInteger(truncate(a / b)), new SmallInteger(a % b)];\r\n            }\r\n            return [Integer[0], self];\r\n        }\r\n        if (n.isSmall) {\r\n            if (b === 1) return [self, Integer[0]];\r\n            if (b == -1) return [self.negate(), Integer[0]];\r\n            var abs = Math.abs(b);\r\n            if (abs < BASE) {\r\n                value = divModSmall(a, abs);\r\n                quotient = arrayToSmall(value[0]);\r\n                var remainder = value[1];\r\n                if (self.sign) remainder = -remainder;\r\n                if (typeof quotient === \"number\") {\r\n                    if (self.sign !== n.sign) quotient = -quotient;\r\n                    return [new SmallInteger(quotient), new SmallInteger(remainder)];\r\n                }\r\n                return [new BigInteger(quotient, self.sign !== n.sign), new SmallInteger(remainder)];\r\n            }\r\n            b = smallToArray(abs);\r\n        }\r\n        var comparison = compareAbs(a, b);\r\n        if (comparison === -1) return [Integer[0], self];\r\n        if (comparison === 0) return [Integer[self.sign === n.sign ? 1 : -1], Integer[0]];\r\n\r\n        // divMod1 is faster on smaller input sizes\r\n        if (a.length + b.length <= 200)\r\n            value = divMod1(a, b);\r\n        else value = divMod2(a, b);\r\n\r\n        quotient = value[0];\r\n        var qSign = self.sign !== n.sign,\r\n            mod = value[1],\r\n            mSign = self.sign;\r\n        if (typeof quotient === \"number\") {\r\n            if (qSign) quotient = -quotient;\r\n            quotient = new SmallInteger(quotient);\r\n        } else quotient = new BigInteger(quotient, qSign);\r\n        if (typeof mod === \"number\") {\r\n            if (mSign) mod = -mod;\r\n            mod = new SmallInteger(mod);\r\n        } else mod = new BigInteger(mod, mSign);\r\n        return [quotient, mod];\r\n    }\r\n\r\n    BigInteger.prototype.divmod = function (v) {\r\n        var result = divModAny(this, v);\r\n        return {\r\n            quotient: result[0],\r\n            remainder: result[1]\r\n        };\r\n    };\r\n    NativeBigInt.prototype.divmod = SmallInteger.prototype.divmod = BigInteger.prototype.divmod;\r\n\r\n\r\n    BigInteger.prototype.divide = function (v) {\r\n        return divModAny(this, v)[0];\r\n    };\r\n    NativeBigInt.prototype.over = NativeBigInt.prototype.divide = function (v) {\r\n        return new NativeBigInt(this.value / parseValue(v).value);\r\n    };\r\n    SmallInteger.prototype.over = SmallInteger.prototype.divide = BigInteger.prototype.over = BigInteger.prototype.divide;\r\n\r\n    BigInteger.prototype.mod = function (v) {\r\n        return divModAny(this, v)[1];\r\n    };\r\n    NativeBigInt.prototype.mod = NativeBigInt.prototype.remainder = function (v) {\r\n        return new NativeBigInt(this.value % parseValue(v).value);\r\n    };\r\n    SmallInteger.prototype.remainder = SmallInteger.prototype.mod = BigInteger.prototype.remainder = BigInteger.prototype.mod;\r\n\r\n    BigInteger.prototype.pow = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value,\r\n            value, x, y;\r\n        if (b === 0) return Integer[1];\r\n        if (a === 0) return Integer[0];\r\n        if (a === 1) return Integer[1];\r\n        if (a === -1) return n.isEven() ? Integer[1] : Integer[-1];\r\n        if (n.sign) {\r\n            return Integer[0];\r\n        }\r\n        if (!n.isSmall) throw new Error(\"The exponent \" + n.toString() + \" is too large.\");\r\n        if (this.isSmall) {\r\n            if (isPrecise(value = Math.pow(a, b)))\r\n                return new SmallInteger(truncate(value));\r\n        }\r\n        x = this;\r\n        y = Integer[1];\r\n        while (true) {\r\n            if (b & 1 === 1) {\r\n                y = y.times(x);\r\n                --b;\r\n            }\r\n            if (b === 0) break;\r\n            b /= 2;\r\n            x = x.square();\r\n        }\r\n        return y;\r\n    };\r\n    SmallInteger.prototype.pow = BigInteger.prototype.pow;\r\n\r\n    NativeBigInt.prototype.pow = function (v) {\r\n        var n = parseValue(v);\r\n        var a = this.value, b = n.value;\r\n        var _0 = BigInt(0), _1 = BigInt(1), _2 = BigInt(2);\r\n        if (b === _0) return Integer[1];\r\n        if (a === _0) return Integer[0];\r\n        if (a === _1) return Integer[1];\r\n        if (a === BigInt(-1)) return n.isEven() ? Integer[1] : Integer[-1];\r\n        if (n.isNegative()) return new NativeBigInt(_0);\r\n        var x = this;\r\n        var y = Integer[1];\r\n        while (true) {\r\n            if ((b & _1) === _1) {\r\n                y = y.times(x);\r\n                --b;\r\n            }\r\n            if (b === _0) break;\r\n            b /= _2;\r\n            x = x.square();\r\n        }\r\n        return y;\r\n    }\r\n\r\n    BigInteger.prototype.modPow = function (exp, mod) {\r\n        exp = parseValue(exp);\r\n        mod = parseValue(mod);\r\n        if (mod.isZero()) throw new Error(\"Cannot take modPow with modulus 0\");\r\n        var r = Integer[1],\r\n            base = this.mod(mod);\r\n        if (exp.isNegative()) {\r\n            exp = exp.multiply(Integer[-1]);\r\n            base = base.modInv(mod);\r\n        }\r\n        while (exp.isPositive()) {\r\n            if (base.isZero()) return Integer[0];\r\n            if (exp.isOdd()) r = r.multiply(base).mod(mod);\r\n            exp = exp.divide(2);\r\n            base = base.square().mod(mod);\r\n        }\r\n        return r;\r\n    };\r\n    NativeBigInt.prototype.modPow = SmallInteger.prototype.modPow = BigInteger.prototype.modPow;\r\n\r\n    function compareAbs(a, b) {\r\n        if (a.length !== b.length) {\r\n            return a.length > b.length ? 1 : -1;\r\n        }\r\n        for (var i = a.length - 1; i >= 0; i--) {\r\n            if (a[i] !== b[i]) return a[i] > b[i] ? 1 : -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    BigInteger.prototype.compareAbs = function (v) {\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (n.isSmall) return 1;\r\n        return compareAbs(a, b);\r\n    };\r\n    SmallInteger.prototype.compareAbs = function (v) {\r\n        var n = parseValue(v),\r\n            a = Math.abs(this.value),\r\n            b = n.value;\r\n        if (n.isSmall) {\r\n            b = Math.abs(b);\r\n            return a === b ? 0 : a > b ? 1 : -1;\r\n        }\r\n        return -1;\r\n    };\r\n    NativeBigInt.prototype.compareAbs = function (v) {\r\n        var a = this.value;\r\n        var b = parseValue(v).value;\r\n        a = a >= 0 ? a : -a;\r\n        b = b >= 0 ? b : -b;\r\n        return a === b ? 0 : a > b ? 1 : -1;\r\n    }\r\n\r\n    BigInteger.prototype.compare = function (v) {\r\n        // See discussion about comparison with Infinity:\r\n        // https://github.com/peterolson/BigInteger.js/issues/61\r\n        if (v === Infinity) {\r\n            return -1;\r\n        }\r\n        if (v === -Infinity) {\r\n            return 1;\r\n        }\r\n\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (this.sign !== n.sign) {\r\n            return n.sign ? 1 : -1;\r\n        }\r\n        if (n.isSmall) {\r\n            return this.sign ? -1 : 1;\r\n        }\r\n        return compareAbs(a, b) * (this.sign ? -1 : 1);\r\n    };\r\n    BigInteger.prototype.compareTo = BigInteger.prototype.compare;\r\n\r\n    SmallInteger.prototype.compare = function (v) {\r\n        if (v === Infinity) {\r\n            return -1;\r\n        }\r\n        if (v === -Infinity) {\r\n            return 1;\r\n        }\r\n\r\n        var n = parseValue(v),\r\n            a = this.value,\r\n            b = n.value;\r\n        if (n.isSmall) {\r\n            return a == b ? 0 : a > b ? 1 : -1;\r\n        }\r\n        if (a < 0 !== n.sign) {\r\n            return a < 0 ? -1 : 1;\r\n        }\r\n        return a < 0 ? 1 : -1;\r\n    };\r\n    SmallInteger.prototype.compareTo = SmallInteger.prototype.compare;\r\n\r\n    NativeBigInt.prototype.compare = function (v) {\r\n        if (v === Infinity) {\r\n            return -1;\r\n        }\r\n        if (v === -Infinity) {\r\n            return 1;\r\n        }\r\n        var a = this.value;\r\n        var b = parseValue(v).value;\r\n        return a === b ? 0 : a > b ? 1 : -1;\r\n    }\r\n    NativeBigInt.prototype.compareTo = NativeBigInt.prototype.compare;\r\n\r\n    BigInteger.prototype.equals = function (v) {\r\n        return this.compare(v) === 0;\r\n    };\r\n    NativeBigInt.prototype.eq = NativeBigInt.prototype.equals = SmallInteger.prototype.eq = SmallInteger.prototype.equals = BigInteger.prototype.eq = BigInteger.prototype.equals;\r\n\r\n    BigInteger.prototype.notEquals = function (v) {\r\n        return this.compare(v) !== 0;\r\n    };\r\n    NativeBigInt.prototype.neq = NativeBigInt.prototype.notEquals = SmallInteger.prototype.neq = SmallInteger.prototype.notEquals = BigInteger.prototype.neq = BigInteger.prototype.notEquals;\r\n\r\n    BigInteger.prototype.greater = function (v) {\r\n        return this.compare(v) > 0;\r\n    };\r\n    NativeBigInt.prototype.gt = NativeBigInt.prototype.greater = SmallInteger.prototype.gt = SmallInteger.prototype.greater = BigInteger.prototype.gt = BigInteger.prototype.greater;\r\n\r\n    BigInteger.prototype.lesser = function (v) {\r\n        return this.compare(v) < 0;\r\n    };\r\n    NativeBigInt.prototype.lt = NativeBigInt.prototype.lesser = SmallInteger.prototype.lt = SmallInteger.prototype.lesser = BigInteger.prototype.lt = BigInteger.prototype.lesser;\r\n\r\n    BigInteger.prototype.greaterOrEquals = function (v) {\r\n        return this.compare(v) >= 0;\r\n    };\r\n    NativeBigInt.prototype.geq = NativeBigInt.prototype.greaterOrEquals = SmallInteger.prototype.geq = SmallInteger.prototype.greaterOrEquals = BigInteger.prototype.geq = BigInteger.prototype.greaterOrEquals;\r\n\r\n    BigInteger.prototype.lesserOrEquals = function (v) {\r\n        return this.compare(v) <= 0;\r\n    };\r\n    NativeBigInt.prototype.leq = NativeBigInt.prototype.lesserOrEquals = SmallInteger.prototype.leq = SmallInteger.prototype.lesserOrEquals = BigInteger.prototype.leq = BigInteger.prototype.lesserOrEquals;\r\n\r\n    BigInteger.prototype.isEven = function () {\r\n        return (this.value[0] & 1) === 0;\r\n    };\r\n    SmallInteger.prototype.isEven = function () {\r\n        return (this.value & 1) === 0;\r\n    };\r\n    NativeBigInt.prototype.isEven = function () {\r\n        return (this.value & BigInt(1)) === BigInt(0);\r\n    }\r\n\r\n    BigInteger.prototype.isOdd = function () {\r\n        return (this.value[0] & 1) === 1;\r\n    };\r\n    SmallInteger.prototype.isOdd = function () {\r\n        return (this.value & 1) === 1;\r\n    };\r\n    NativeBigInt.prototype.isOdd = function () {\r\n        return (this.value & BigInt(1)) === BigInt(1);\r\n    }\r\n\r\n    BigInteger.prototype.isPositive = function () {\r\n        return !this.sign;\r\n    };\r\n    SmallInteger.prototype.isPositive = function () {\r\n        return this.value > 0;\r\n    };\r\n    NativeBigInt.prototype.isPositive = SmallInteger.prototype.isPositive;\r\n\r\n    BigInteger.prototype.isNegative = function () {\r\n        return this.sign;\r\n    };\r\n    SmallInteger.prototype.isNegative = function () {\r\n        return this.value < 0;\r\n    };\r\n    NativeBigInt.prototype.isNegative = SmallInteger.prototype.isNegative;\r\n\r\n    BigInteger.prototype.isUnit = function () {\r\n        return false;\r\n    };\r\n    SmallInteger.prototype.isUnit = function () {\r\n        return Math.abs(this.value) === 1;\r\n    };\r\n    NativeBigInt.prototype.isUnit = function () {\r\n        return this.abs().value === BigInt(1);\r\n    }\r\n\r\n    BigInteger.prototype.isZero = function () {\r\n        return false;\r\n    };\r\n    SmallInteger.prototype.isZero = function () {\r\n        return this.value === 0;\r\n    };\r\n    NativeBigInt.prototype.isZero = function () {\r\n        return this.value === BigInt(0);\r\n    }\r\n\r\n    BigInteger.prototype.isDivisibleBy = function (v) {\r\n        var n = parseValue(v);\r\n        if (n.isZero()) return false;\r\n        if (n.isUnit()) return true;\r\n        if (n.compareAbs(2) === 0) return this.isEven();\r\n        return this.mod(n).isZero();\r\n    };\r\n    NativeBigInt.prototype.isDivisibleBy = SmallInteger.prototype.isDivisibleBy = BigInteger.prototype.isDivisibleBy;\r\n\r\n    function isBasicPrime(v) {\r\n        var n = v.abs();\r\n        if (n.isUnit()) return false;\r\n        if (n.equals(2) || n.equals(3) || n.equals(5)) return true;\r\n        if (n.isEven() || n.isDivisibleBy(3) || n.isDivisibleBy(5)) return false;\r\n        if (n.lesser(49)) return true;\r\n        // we don't know if it's prime: let the other functions figure it out\r\n    }\r\n\r\n    function millerRabinTest(n, a) {\r\n        var nPrev = n.prev(),\r\n            b = nPrev,\r\n            r = 0,\r\n            d, t, i, x;\r\n        while (b.isEven()) b = b.divide(2), r++;\r\n        next: for (i = 0; i < a.length; i++) {\r\n            if (n.lesser(a[i])) continue;\r\n            x = bigInt(a[i]).modPow(b, n);\r\n            if (x.isUnit() || x.equals(nPrev)) continue;\r\n            for (d = r - 1; d != 0; d--) {\r\n                x = x.square().mod(n);\r\n                if (x.isUnit()) return false;\r\n                if (x.equals(nPrev)) continue next;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Set \"strict\" to true to force GRH-supported lower bound of 2*log(N)^2\r\n    BigInteger.prototype.isPrime = function (strict) {\r\n        var isPrime = isBasicPrime(this);\r\n        if (isPrime !== undefined) return isPrime;\r\n        var n = this.abs();\r\n        var bits = n.bitLength();\r\n        if (bits <= 64)\r\n            return millerRabinTest(n, [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37]);\r\n        var logN = Math.log(2) * bits.toJSNumber();\r\n        var t = Math.ceil((strict === true) ? (2 * Math.pow(logN, 2)) : logN);\r\n        for (var a = [], i = 0; i < t; i++) {\r\n            a.push(bigInt(i + 2));\r\n        }\r\n        return millerRabinTest(n, a);\r\n    };\r\n    NativeBigInt.prototype.isPrime = SmallInteger.prototype.isPrime = BigInteger.prototype.isPrime;\r\n\r\n    BigInteger.prototype.isProbablePrime = function (iterations, rng) {\r\n        var isPrime = isBasicPrime(this);\r\n        if (isPrime !== undefined) return isPrime;\r\n        var n = this.abs();\r\n        var t = iterations === undefined ? 5 : iterations;\r\n        for (var a = [], i = 0; i < t; i++) {\r\n            a.push(bigInt.randBetween(2, n.minus(2), rng));\r\n        }\r\n        return millerRabinTest(n, a);\r\n    };\r\n    NativeBigInt.prototype.isProbablePrime = SmallInteger.prototype.isProbablePrime = BigInteger.prototype.isProbablePrime;\r\n\r\n    BigInteger.prototype.modInv = function (n) {\r\n        var t = bigInt.zero, newT = bigInt.one, r = parseValue(n), newR = this.abs(), q, lastT, lastR;\r\n        while (!newR.isZero()) {\r\n            q = r.divide(newR);\r\n            lastT = t;\r\n            lastR = r;\r\n            t = newT;\r\n            r = newR;\r\n            newT = lastT.subtract(q.multiply(newT));\r\n            newR = lastR.subtract(q.multiply(newR));\r\n        }\r\n        if (!r.isUnit()) throw new Error(this.toString() + \" and \" + n.toString() + \" are not co-prime\");\r\n        if (t.compare(0) === -1) {\r\n            t = t.add(n);\r\n        }\r\n        if (this.isNegative()) {\r\n            return t.negate();\r\n        }\r\n        return t;\r\n    };\r\n\r\n    NativeBigInt.prototype.modInv = SmallInteger.prototype.modInv = BigInteger.prototype.modInv;\r\n\r\n    BigInteger.prototype.next = function () {\r\n        var value = this.value;\r\n        if (this.sign) {\r\n            return subtractSmall(value, 1, this.sign);\r\n        }\r\n        return new BigInteger(addSmall(value, 1), this.sign);\r\n    };\r\n    SmallInteger.prototype.next = function () {\r\n        var value = this.value;\r\n        if (value + 1 < MAX_INT) return new SmallInteger(value + 1);\r\n        return new BigInteger(MAX_INT_ARR, false);\r\n    };\r\n    NativeBigInt.prototype.next = function () {\r\n        return new NativeBigInt(this.value + BigInt(1));\r\n    }\r\n\r\n    BigInteger.prototype.prev = function () {\r\n        var value = this.value;\r\n        if (this.sign) {\r\n            return new BigInteger(addSmall(value, 1), true);\r\n        }\r\n        return subtractSmall(value, 1, this.sign);\r\n    };\r\n    SmallInteger.prototype.prev = function () {\r\n        var value = this.value;\r\n        if (value - 1 > -MAX_INT) return new SmallInteger(value - 1);\r\n        return new BigInteger(MAX_INT_ARR, true);\r\n    };\r\n    NativeBigInt.prototype.prev = function () {\r\n        return new NativeBigInt(this.value - BigInt(1));\r\n    }\r\n\r\n    var powersOfTwo = [1];\r\n    while (2 * powersOfTwo[powersOfTwo.length - 1] <= BASE) powersOfTwo.push(2 * powersOfTwo[powersOfTwo.length - 1]);\r\n    var powers2Length = powersOfTwo.length, highestPower2 = powersOfTwo[powers2Length - 1];\r\n\r\n    function shift_isSmall(n) {\r\n        return Math.abs(n) <= BASE;\r\n    }\r\n\r\n    BigInteger.prototype.shiftLeft = function (v) {\r\n        var n = parseValue(v).toJSNumber();\r\n        if (!shift_isSmall(n)) {\r\n            throw new Error(String(n) + \" is too large for shifting.\");\r\n        }\r\n        if (n < 0) return this.shiftRight(-n);\r\n        var result = this;\r\n        if (result.isZero()) return result;\r\n        while (n >= powers2Length) {\r\n            result = result.multiply(highestPower2);\r\n            n -= powers2Length - 1;\r\n        }\r\n        return result.multiply(powersOfTwo[n]);\r\n    };\r\n    NativeBigInt.prototype.shiftLeft = SmallInteger.prototype.shiftLeft = BigInteger.prototype.shiftLeft;\r\n\r\n    BigInteger.prototype.shiftRight = function (v) {\r\n        var remQuo;\r\n        var n = parseValue(v).toJSNumber();\r\n        if (!shift_isSmall(n)) {\r\n            throw new Error(String(n) + \" is too large for shifting.\");\r\n        }\r\n        if (n < 0) return this.shiftLeft(-n);\r\n        var result = this;\r\n        while (n >= powers2Length) {\r\n            if (result.isZero() || (result.isNegative() && result.isUnit())) return result;\r\n            remQuo = divModAny(result, highestPower2);\r\n            result = remQuo[1].isNegative() ? remQuo[0].prev() : remQuo[0];\r\n            n -= powers2Length - 1;\r\n        }\r\n        remQuo = divModAny(result, powersOfTwo[n]);\r\n        return remQuo[1].isNegative() ? remQuo[0].prev() : remQuo[0];\r\n    };\r\n    NativeBigInt.prototype.shiftRight = SmallInteger.prototype.shiftRight = BigInteger.prototype.shiftRight;\r\n\r\n    function bitwise(x, y, fn) {\r\n        y = parseValue(y);\r\n        var xSign = x.isNegative(), ySign = y.isNegative();\r\n        var xRem = xSign ? x.not() : x,\r\n            yRem = ySign ? y.not() : y;\r\n        var xDigit = 0, yDigit = 0;\r\n        var xDivMod = null, yDivMod = null;\r\n        var result = [];\r\n        while (!xRem.isZero() || !yRem.isZero()) {\r\n            xDivMod = divModAny(xRem, highestPower2);\r\n            xDigit = xDivMod[1].toJSNumber();\r\n            if (xSign) {\r\n                xDigit = highestPower2 - 1 - xDigit; // two's complement for negative numbers\r\n            }\r\n\r\n            yDivMod = divModAny(yRem, highestPower2);\r\n            yDigit = yDivMod[1].toJSNumber();\r\n            if (ySign) {\r\n                yDigit = highestPower2 - 1 - yDigit; // two's complement for negative numbers\r\n            }\r\n\r\n            xRem = xDivMod[0];\r\n            yRem = yDivMod[0];\r\n            result.push(fn(xDigit, yDigit));\r\n        }\r\n        var sum = fn(xSign ? 1 : 0, ySign ? 1 : 0) !== 0 ? bigInt(-1) : bigInt(0);\r\n        for (var i = result.length - 1; i >= 0; i -= 1) {\r\n            sum = sum.multiply(highestPower2).add(bigInt(result[i]));\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    BigInteger.prototype.not = function () {\r\n        return this.negate().prev();\r\n    };\r\n    NativeBigInt.prototype.not = SmallInteger.prototype.not = BigInteger.prototype.not;\r\n\r\n    BigInteger.prototype.and = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a & b; });\r\n    };\r\n    NativeBigInt.prototype.and = SmallInteger.prototype.and = BigInteger.prototype.and;\r\n\r\n    BigInteger.prototype.or = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a | b; });\r\n    };\r\n    NativeBigInt.prototype.or = SmallInteger.prototype.or = BigInteger.prototype.or;\r\n\r\n    BigInteger.prototype.xor = function (n) {\r\n        return bitwise(this, n, function (a, b) { return a ^ b; });\r\n    };\r\n    NativeBigInt.prototype.xor = SmallInteger.prototype.xor = BigInteger.prototype.xor;\r\n\r\n    var LOBMASK_I = 1 << 30, LOBMASK_BI = (BASE & -BASE) * (BASE & -BASE) | LOBMASK_I;\r\n    function roughLOB(n) { // get lowestOneBit (rough)\r\n        // SmallInteger: return Min(lowestOneBit(n), 1 << 30)\r\n        // BigInteger: return Min(lowestOneBit(n), 1 << 14) [BASE=1e7]\r\n        var v = n.value,\r\n            x = typeof v === \"number\" ? v | LOBMASK_I :\r\n                typeof v === \"bigint\" ? v | BigInt(LOBMASK_I) :\r\n                    v[0] + v[1] * BASE | LOBMASK_BI;\r\n        return x & -x;\r\n    }\r\n\r\n    function integerLogarithm(value, base) {\r\n        if (base.compareTo(value) <= 0) {\r\n            var tmp = integerLogarithm(value, base.square(base));\r\n            var p = tmp.p;\r\n            var e = tmp.e;\r\n            var t = p.multiply(base);\r\n            return t.compareTo(value) <= 0 ? { p: t, e: e * 2 + 1 } : { p: p, e: e * 2 };\r\n        }\r\n        return { p: bigInt(1), e: 0 };\r\n    }\r\n\r\n    BigInteger.prototype.bitLength = function () {\r\n        var n = this;\r\n        if (n.compareTo(bigInt(0)) < 0) {\r\n            n = n.negate().subtract(bigInt(1));\r\n        }\r\n        if (n.compareTo(bigInt(0)) === 0) {\r\n            return bigInt(0);\r\n        }\r\n        return bigInt(integerLogarithm(n, bigInt(2)).e).add(bigInt(1));\r\n    }\r\n    NativeBigInt.prototype.bitLength = SmallInteger.prototype.bitLength = BigInteger.prototype.bitLength;\r\n\r\n    function max(a, b) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        return a.greater(b) ? a : b;\r\n    }\r\n    function min(a, b) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        return a.lesser(b) ? a : b;\r\n    }\r\n    function gcd(a, b) {\r\n        a = parseValue(a).abs();\r\n        b = parseValue(b).abs();\r\n        if (a.equals(b)) return a;\r\n        if (a.isZero()) return b;\r\n        if (b.isZero()) return a;\r\n        var c = Integer[1], d, t;\r\n        while (a.isEven() && b.isEven()) {\r\n            d = min(roughLOB(a), roughLOB(b));\r\n            a = a.divide(d);\r\n            b = b.divide(d);\r\n            c = c.multiply(d);\r\n        }\r\n        while (a.isEven()) {\r\n            a = a.divide(roughLOB(a));\r\n        }\r\n        do {\r\n            while (b.isEven()) {\r\n                b = b.divide(roughLOB(b));\r\n            }\r\n            if (a.greater(b)) {\r\n                t = b; b = a; a = t;\r\n            }\r\n            b = b.subtract(a);\r\n        } while (!b.isZero());\r\n        return c.isUnit() ? a : a.multiply(c);\r\n    }\r\n    function lcm(a, b) {\r\n        a = parseValue(a).abs();\r\n        b = parseValue(b).abs();\r\n        return a.divide(gcd(a, b)).multiply(b);\r\n    }\r\n    function randBetween(a, b, rng) {\r\n        a = parseValue(a);\r\n        b = parseValue(b);\r\n        var usedRNG = rng || Math.random;\r\n        var low = min(a, b), high = max(a, b);\r\n        var range = high.subtract(low).add(1);\r\n        if (range.isSmall) return low.add(Math.floor(usedRNG() * range));\r\n        var digits = toBase(range, BASE).value;\r\n        var result = [], restricted = true;\r\n        for (var i = 0; i < digits.length; i++) {\r\n            var top = restricted ? digits[i] : BASE;\r\n            var digit = truncate(usedRNG() * top);\r\n            result.push(digit);\r\n            if (digit < top) restricted = false;\r\n        }\r\n        return low.add(Integer.fromArray(result, BASE, false));\r\n    }\r\n\r\n    var parseBase = function (text, base, alphabet, caseSensitive) {\r\n        alphabet = alphabet || DEFAULT_ALPHABET;\r\n        text = String(text);\r\n        if (!caseSensitive) {\r\n            text = text.toLowerCase();\r\n            alphabet = alphabet.toLowerCase();\r\n        }\r\n        var length = text.length;\r\n        var i;\r\n        var absBase = Math.abs(base);\r\n        var alphabetValues = {};\r\n        for (i = 0; i < alphabet.length; i++) {\r\n            alphabetValues[alphabet[i]] = i;\r\n        }\r\n        for (i = 0; i < length; i++) {\r\n            var c = text[i];\r\n            if (c === \"-\") continue;\r\n            if (c in alphabetValues) {\r\n                if (alphabetValues[c] >= absBase) {\r\n                    if (c === \"1\" && absBase === 1) continue;\r\n                    throw new Error(c + \" is not a valid digit in base \" + base + \".\");\r\n                }\r\n            }\r\n        }\r\n        base = parseValue(base);\r\n        var digits = [];\r\n        var isNegative = text[0] === \"-\";\r\n        for (i = isNegative ? 1 : 0; i < text.length; i++) {\r\n            var c = text[i];\r\n            if (c in alphabetValues) digits.push(parseValue(alphabetValues[c]));\r\n            else if (c === \"<\") {\r\n                var start = i;\r\n                do { i++; } while (text[i] !== \">\" && i < text.length);\r\n                digits.push(parseValue(text.slice(start + 1, i)));\r\n            }\r\n            else throw new Error(c + \" is not a valid character\");\r\n        }\r\n        return parseBaseFromArray(digits, base, isNegative);\r\n    };\r\n\r\n    function parseBaseFromArray(digits, base, isNegative) {\r\n        var val = Integer[0], pow = Integer[1], i;\r\n        for (i = digits.length - 1; i >= 0; i--) {\r\n            val = val.add(digits[i].times(pow));\r\n            pow = pow.times(base);\r\n        }\r\n        return isNegative ? val.negate() : val;\r\n    }\r\n\r\n    function stringify(digit, alphabet) {\r\n        alphabet = alphabet || DEFAULT_ALPHABET;\r\n        if (digit < alphabet.length) {\r\n            return alphabet[digit];\r\n        }\r\n        return \"<\" + digit + \">\";\r\n    }\r\n\r\n    function toBase(n, base) {\r\n        base = bigInt(base);\r\n        if (base.isZero()) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n            throw new Error(\"Cannot convert nonzero numbers to base 0.\");\r\n        }\r\n        if (base.equals(-1)) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n            if (n.isNegative())\r\n                return {\r\n                    value: [].concat.apply([], Array.apply(null, Array(-n.toJSNumber()))\r\n                        .map(Array.prototype.valueOf, [1, 0])\r\n                    ),\r\n                    isNegative: false\r\n                };\r\n\r\n            var arr = Array.apply(null, Array(n.toJSNumber() - 1))\r\n                .map(Array.prototype.valueOf, [0, 1]);\r\n            arr.unshift([1]);\r\n            return {\r\n                value: [].concat.apply([], arr),\r\n                isNegative: false\r\n            };\r\n        }\r\n\r\n        var neg = false;\r\n        if (n.isNegative() && base.isPositive()) {\r\n            neg = true;\r\n            n = n.abs();\r\n        }\r\n        if (base.isUnit()) {\r\n            if (n.isZero()) return { value: [0], isNegative: false };\r\n\r\n            return {\r\n                value: Array.apply(null, Array(n.toJSNumber()))\r\n                    .map(Number.prototype.valueOf, 1),\r\n                isNegative: neg\r\n            };\r\n        }\r\n        var out = [];\r\n        var left = n, divmod;\r\n        while (left.isNegative() || left.compareAbs(base) >= 0) {\r\n            divmod = left.divmod(base);\r\n            left = divmod.quotient;\r\n            var digit = divmod.remainder;\r\n            if (digit.isNegative()) {\r\n                digit = base.minus(digit).abs();\r\n                left = left.next();\r\n            }\r\n            out.push(digit.toJSNumber());\r\n        }\r\n        out.push(left.toJSNumber());\r\n        return { value: out.reverse(), isNegative: neg };\r\n    }\r\n\r\n    function toBaseString(n, base, alphabet) {\r\n        var arr = toBase(n, base);\r\n        return (arr.isNegative ? \"-\" : \"\") + arr.value.map(function (x) {\r\n            return stringify(x, alphabet);\r\n        }).join('');\r\n    }\r\n\r\n    BigInteger.prototype.toArray = function (radix) {\r\n        return toBase(this, radix);\r\n    };\r\n\r\n    SmallInteger.prototype.toArray = function (radix) {\r\n        return toBase(this, radix);\r\n    };\r\n\r\n    NativeBigInt.prototype.toArray = function (radix) {\r\n        return toBase(this, radix);\r\n    };\r\n\r\n    BigInteger.prototype.toString = function (radix, alphabet) {\r\n        if (radix === undefined) radix = 10;\r\n        if (radix !== 10) return toBaseString(this, radix, alphabet);\r\n        var v = this.value, l = v.length, str = String(v[--l]), zeros = \"0000000\", digit;\r\n        while (--l >= 0) {\r\n            digit = String(v[l]);\r\n            str += zeros.slice(digit.length) + digit;\r\n        }\r\n        var sign = this.sign ? \"-\" : \"\";\r\n        return sign + str;\r\n    };\r\n\r\n    SmallInteger.prototype.toString = function (radix, alphabet) {\r\n        if (radix === undefined) radix = 10;\r\n        if (radix != 10) return toBaseString(this, radix, alphabet);\r\n        return String(this.value);\r\n    };\r\n\r\n    NativeBigInt.prototype.toString = SmallInteger.prototype.toString;\r\n\r\n    NativeBigInt.prototype.toJSON = BigInteger.prototype.toJSON = SmallInteger.prototype.toJSON = function () { return this.toString(); }\r\n\r\n    BigInteger.prototype.valueOf = function () {\r\n        return parseInt(this.toString(), 10);\r\n    };\r\n    BigInteger.prototype.toJSNumber = BigInteger.prototype.valueOf;\r\n\r\n    SmallInteger.prototype.valueOf = function () {\r\n        return this.value;\r\n    };\r\n    SmallInteger.prototype.toJSNumber = SmallInteger.prototype.valueOf;\r\n    NativeBigInt.prototype.valueOf = NativeBigInt.prototype.toJSNumber = function () {\r\n        return parseInt(this.toString(), 10);\r\n    }\r\n\r\n    function parseStringValue(v) {\r\n        if (isPrecise(+v)) {\r\n            var x = +v;\r\n            if (x === truncate(x))\r\n                return supportsNativeBigInt ? new NativeBigInt(BigInt(x)) : new SmallInteger(x);\r\n            throw new Error(\"Invalid integer: \" + v);\r\n        }\r\n        var sign = v[0] === \"-\";\r\n        if (sign) v = v.slice(1);\r\n        var split = v.split(/e/i);\r\n        if (split.length > 2) throw new Error(\"Invalid integer: \" + split.join(\"e\"));\r\n        if (split.length === 2) {\r\n            var exp = split[1];\r\n            if (exp[0] === \"+\") exp = exp.slice(1);\r\n            exp = +exp;\r\n            if (exp !== truncate(exp) || !isPrecise(exp)) throw new Error(\"Invalid integer: \" + exp + \" is not a valid exponent.\");\r\n            var text = split[0];\r\n            var decimalPlace = text.indexOf(\".\");\r\n            if (decimalPlace >= 0) {\r\n                exp -= text.length - decimalPlace - 1;\r\n                text = text.slice(0, decimalPlace) + text.slice(decimalPlace + 1);\r\n            }\r\n            if (exp < 0) throw new Error(\"Cannot include negative exponent part for integers\");\r\n            text += (new Array(exp + 1)).join(\"0\");\r\n            v = text;\r\n        }\r\n        var isValid = /^([0-9][0-9]*)$/.test(v);\r\n        if (!isValid) throw new Error(\"Invalid integer: \" + v);\r\n        if (supportsNativeBigInt) {\r\n            return new NativeBigInt(BigInt(sign ? \"-\" + v : v));\r\n        }\r\n        var r = [], max = v.length, l = LOG_BASE, min = max - l;\r\n        while (max > 0) {\r\n            r.push(+v.slice(min, max));\r\n            min -= l;\r\n            if (min < 0) min = 0;\r\n            max -= l;\r\n        }\r\n        trim(r);\r\n        return new BigInteger(r, sign);\r\n    }\r\n\r\n    function parseNumberValue(v) {\r\n        if (supportsNativeBigInt) {\r\n            return new NativeBigInt(BigInt(v));\r\n        }\r\n        if (isPrecise(v)) {\r\n            if (v !== truncate(v)) throw new Error(v + \" is not an integer.\");\r\n            return new SmallInteger(v);\r\n        }\r\n        return parseStringValue(v.toString());\r\n    }\r\n\r\n    function parseValue(v) {\r\n        if (typeof v === \"number\") {\r\n            return parseNumberValue(v);\r\n        }\r\n        if (typeof v === \"string\") {\r\n            return parseStringValue(v);\r\n        }\r\n        if (typeof v === \"bigint\") {\r\n            return new NativeBigInt(v);\r\n        }\r\n        return v;\r\n    }\r\n    // Pre-define numbers in range [-999,999]\r\n    for (var i = 0; i < 1000; i++) {\r\n        Integer[i] = parseValue(i);\r\n        if (i > 0) Integer[-i] = parseValue(-i);\r\n    }\r\n    // Backwards compatibility\r\n    Integer.one = Integer[1];\r\n    Integer.zero = Integer[0];\r\n    Integer.minusOne = Integer[-1];\r\n    Integer.max = max;\r\n    Integer.min = min;\r\n    Integer.gcd = gcd;\r\n    Integer.lcm = lcm;\r\n    Integer.isInstance = function (x) { return x instanceof BigInteger || x instanceof SmallInteger || x instanceof NativeBigInt; };\r\n    Integer.randBetween = randBetween;\r\n\r\n    Integer.fromArray = function (digits, base, isNegative) {\r\n        return parseBaseFromArray(digits.map(parseValue), parseValue(base || 10), isNegative);\r\n    };\r\n\r\n    return Integer;\r\n})();\r\n\r\n// Node.js check\r\nif (typeof module !== \"undefined\" && module.hasOwnProperty(\"exports\")) {\r\n    module.exports = bigInt;\r\n}\r\n\r\n//amd check\r\nif (typeof define === \"function\" && define.amd) {\r\n    define( function () {\r\n        return bigInt;\r\n    });\r\n}\r\n","var Chainsaw = require('chainsaw');\nvar EventEmitter = require('events').EventEmitter;\nvar Buffers = require('buffers');\nvar Vars = require('./lib/vars.js');\nvar Stream = require('stream').Stream;\n\nexports = module.exports = function (bufOrEm, eventName) {\n    if (Buffer.isBuffer(bufOrEm)) {\n        return exports.parse(bufOrEm);\n    }\n    \n    var s = exports.stream();\n    if (bufOrEm && bufOrEm.pipe) {\n        bufOrEm.pipe(s);\n    }\n    else if (bufOrEm) {\n        bufOrEm.on(eventName || 'data', function (buf) {\n            s.write(buf);\n        });\n        \n        bufOrEm.on('end', function () {\n            s.end();\n        });\n    }\n    return s;\n};\n\nexports.stream = function (input) {\n    if (input) return exports.apply(null, arguments);\n    \n    var pending = null;\n    function getBytes (bytes, cb, skip) {\n        pending = {\n            bytes : bytes,\n            skip : skip,\n            cb : function (buf) {\n                pending = null;\n                cb(buf);\n            },\n        };\n        dispatch();\n    }\n    \n    var offset = null;\n    function dispatch () {\n        if (!pending) {\n            if (caughtEnd) done = true;\n            return;\n        }\n        if (typeof pending === 'function') {\n            pending();\n        }\n        else {\n            var bytes = offset + pending.bytes;\n            \n            if (buffers.length >= bytes) {\n                var buf;\n                if (offset == null) {\n                    buf = buffers.splice(0, bytes);\n                    if (!pending.skip) {\n                        buf = buf.slice();\n                    }\n                }\n                else {\n                    if (!pending.skip) {\n                        buf = buffers.slice(offset, bytes);\n                    }\n                    offset = bytes;\n                }\n                \n                if (pending.skip) {\n                    pending.cb();\n                }\n                else {\n                    pending.cb(buf);\n                }\n            }\n        }\n    }\n    \n    function builder (saw) {\n        function next () { if (!done) saw.next() }\n        \n        var self = words(function (bytes, cb) {\n            return function (name) {\n                getBytes(bytes, function (buf) {\n                    vars.set(name, cb(buf));\n                    next();\n                });\n            };\n        });\n        \n        self.tap = function (cb) {\n            saw.nest(cb, vars.store);\n        };\n        \n        self.into = function (key, cb) {\n            if (!vars.get(key)) vars.set(key, {});\n            var parent = vars;\n            vars = Vars(parent.get(key));\n            \n            saw.nest(function () {\n                cb.apply(this, arguments);\n                this.tap(function () {\n                    vars = parent;\n                });\n            }, vars.store);\n        };\n        \n        self.flush = function () {\n            vars.store = {};\n            next();\n        };\n        \n        self.loop = function (cb) {\n            var end = false;\n            \n            saw.nest(false, function loop () {\n                this.vars = vars.store;\n                cb.call(this, function () {\n                    end = true;\n                    next();\n                }, vars.store);\n                this.tap(function () {\n                    if (end) saw.next()\n                    else loop.call(this)\n                }.bind(this));\n            }, vars.store);\n        };\n        \n        self.buffer = function (name, bytes) {\n            if (typeof bytes === 'string') {\n                bytes = vars.get(bytes);\n            }\n            \n            getBytes(bytes, function (buf) {\n                vars.set(name, buf);\n                next();\n            });\n        };\n        \n        self.skip = function (bytes) {\n            if (typeof bytes === 'string') {\n                bytes = vars.get(bytes);\n            }\n            \n            getBytes(bytes, function () {\n                next();\n            });\n        };\n        \n        self.scan = function find (name, search) {\n            if (typeof search === 'string') {\n                search = new Buffer(search);\n            }\n            else if (!Buffer.isBuffer(search)) {\n                throw new Error('search must be a Buffer or a string');\n            }\n            \n            var taken = 0;\n            pending = function () {\n                var pos = buffers.indexOf(search, offset + taken);\n                var i = pos-offset-taken;\n                if (pos !== -1) {\n                    pending = null;\n                    if (offset != null) {\n                        vars.set(\n                            name,\n                            buffers.slice(offset, offset + taken + i)\n                        );\n                        offset += taken + i + search.length;\n                    }\n                    else {\n                        vars.set(\n                            name,\n                            buffers.slice(0, taken + i)\n                        );\n                        buffers.splice(0, taken + i + search.length);\n                    }\n                    next();\n                    dispatch();\n                } else {\n                    i = Math.max(buffers.length - search.length - offset - taken, 0);\n\t\t\t\t}\n                taken += i;\n            };\n            dispatch();\n        };\n        \n        self.peek = function (cb) {\n            offset = 0;\n            saw.nest(function () {\n                cb.call(this, vars.store);\n                this.tap(function () {\n                    offset = null;\n                });\n            });\n        };\n        \n        return self;\n    };\n    \n    var stream = Chainsaw.light(builder);\n    stream.writable = true;\n    \n    var buffers = Buffers();\n    \n    stream.write = function (buf) {\n        buffers.push(buf);\n        dispatch();\n    };\n    \n    var vars = Vars();\n    \n    var done = false, caughtEnd = false;\n    stream.end = function () {\n        caughtEnd = true;\n    };\n    \n    stream.pipe = Stream.prototype.pipe;\n    Object.getOwnPropertyNames(EventEmitter.prototype).forEach(function (name) {\n        stream[name] = EventEmitter.prototype[name];\n    });\n    \n    return stream;\n};\n\nexports.parse = function parse (buffer) {\n    var self = words(function (bytes, cb) {\n        return function (name) {\n            if (offset + bytes <= buffer.length) {\n                var buf = buffer.slice(offset, offset + bytes);\n                offset += bytes;\n                vars.set(name, cb(buf));\n            }\n            else {\n                vars.set(name, null);\n            }\n            return self;\n        };\n    });\n    \n    var offset = 0;\n    var vars = Vars();\n    self.vars = vars.store;\n    \n    self.tap = function (cb) {\n        cb.call(self, vars.store);\n        return self;\n    };\n    \n    self.into = function (key, cb) {\n        if (!vars.get(key)) {\n            vars.set(key, {});\n        }\n        var parent = vars;\n        vars = Vars(parent.get(key));\n        cb.call(self, vars.store);\n        vars = parent;\n        return self;\n    };\n    \n    self.loop = function (cb) {\n        var end = false;\n        var ender = function () { end = true };\n        while (end === false) {\n            cb.call(self, ender, vars.store);\n        }\n        return self;\n    };\n    \n    self.buffer = function (name, size) {\n        if (typeof size === 'string') {\n            size = vars.get(size);\n        }\n        var buf = buffer.slice(offset, Math.min(buffer.length, offset + size));\n        offset += size;\n        vars.set(name, buf);\n        \n        return self;\n    };\n    \n    self.skip = function (bytes) {\n        if (typeof bytes === 'string') {\n            bytes = vars.get(bytes);\n        }\n        offset += bytes;\n        \n        return self;\n    };\n    \n    self.scan = function (name, search) {\n        if (typeof search === 'string') {\n            search = new Buffer(search);\n        }\n        else if (!Buffer.isBuffer(search)) {\n            throw new Error('search must be a Buffer or a string');\n        }\n        vars.set(name, null);\n        \n        // simple but slow string search\n        for (var i = 0; i + offset <= buffer.length - search.length + 1; i++) {\n            for (\n                var j = 0;\n                j < search.length && buffer[offset+i+j] === search[j];\n                j++\n            );\n            if (j === search.length) break;\n        }\n        \n        vars.set(name, buffer.slice(offset, offset + i));\n        offset += i + search.length;\n        return self;\n    };\n    \n    self.peek = function (cb) {\n        var was = offset;\n        cb.call(self, vars.store);\n        offset = was;\n        return self;\n    };\n    \n    self.flush = function () {\n        vars.store = {};\n        return self;\n    };\n    \n    self.eof = function () {\n        return offset >= buffer.length;\n    };\n    \n    return self;\n};\n\n// convert byte strings to unsigned little endian numbers\nfunction decodeLEu (bytes) {\n    var acc = 0;\n    for (var i = 0; i < bytes.length; i++) {\n        acc += Math.pow(256,i) * bytes[i];\n    }\n    return acc;\n}\n\n// convert byte strings to unsigned big endian numbers\nfunction decodeBEu (bytes) {\n    var acc = 0;\n    for (var i = 0; i < bytes.length; i++) {\n        acc += Math.pow(256, bytes.length - i - 1) * bytes[i];\n    }\n    return acc;\n}\n\n// convert byte strings to signed big endian numbers\nfunction decodeBEs (bytes) {\n    var val = decodeBEu(bytes);\n    if ((bytes[0] & 0x80) == 0x80) {\n        val -= Math.pow(256, bytes.length);\n    }\n    return val;\n}\n\n// convert byte strings to signed little endian numbers\nfunction decodeLEs (bytes) {\n    var val = decodeLEu(bytes);\n    if ((bytes[bytes.length - 1] & 0x80) == 0x80) {\n        val -= Math.pow(256, bytes.length);\n    }\n    return val;\n}\n\nfunction words (decode) {\n    var self = {};\n    \n    [ 1, 2, 4, 8 ].forEach(function (bytes) {\n        var bits = bytes * 8;\n        \n        self['word' + bits + 'le']\n        = self['word' + bits + 'lu']\n        = decode(bytes, decodeLEu);\n        \n        self['word' + bits + 'ls']\n        = decode(bytes, decodeLEs);\n        \n        self['word' + bits + 'be']\n        = self['word' + bits + 'bu']\n        = decode(bytes, decodeBEu);\n        \n        self['word' + bits + 'bs']\n        = decode(bytes, decodeBEs);\n    });\n    \n    // word8be(n) == word8le(n) for all n\n    self.word8 = self.word8u = self.word8be;\n    self.word8s = self.word8bs;\n    \n    return self;\n}\n","module.exports = function (store) {\n    function getset (name, value) {\n        var node = vars.store;\n        var keys = name.split('.');\n        keys.slice(0,-1).forEach(function (k) {\n            if (node[k] === undefined) node[k] = {};\n            node = node[k]\n        });\n        var key = keys[keys.length - 1];\n        if (arguments.length == 1) {\n            return node[key];\n        }\n        else {\n            return node[key] = value;\n        }\n    }\n    \n    var vars = {\n        get : function (name) {\n            return getset(name);\n        },\n        set : function (name, value) {\n            return getset(name, value);\n        },\n        store : store || {},\n    };\n    return vars;\n};\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","\"use strict\";\nvar initBuffer = require(\"./init-buffer\");\n\nif (!Buffer.prototype.indexOf) {\n    Buffer.prototype.indexOf = function (value, offset) {\n        offset = offset || 0;\n\n        // Always wrap the input as a Buffer so that this method will support any\n        // data type such as array octet, string or buffer.\n        if (typeof value === \"string\" || value instanceof String) {\n            value = initBuffer(value);\n        } else if (typeof value === \"number\" || value instanceof Number) {\n            value = initBuffer([ value ]);\n        }\n\n        var len = value.length;\n\n        for (var i = offset; i <= this.length - len; i++) {\n            var mismatch = false;\n            for (var j = 0; j < len; j++) {\n                if (this[i + j] != value[j]) {\n                    mismatch = true;\n                    break;\n                }\n            }\n\n            if (!mismatch) {\n                return i;\n            }\n        }\n\n        return -1;\n    };\n}\n\nfunction bufferLastIndexOf (value, offset) {\n\n    // Always wrap the input as a Buffer so that this method will support any\n    // data type such as array octet, string or buffer.\n    if (typeof value === \"string\" || value instanceof String) {\n        value = initBuffer(value);\n    } else if (typeof value === \"number\" || value instanceof Number) {\n        value = initBuffer([ value ]);\n    }\n\n    var len = value.length;\n    offset = offset || this.length - len;\n\n    for (var i = offset; i >= 0; i--) {\n        var mismatch = false;\n        for (var j = 0; j < len; j++) {\n            if (this[i + j] != value[j]) {\n                mismatch = true;\n                break;\n            }\n        }\n\n        if (!mismatch) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\n\nif (Buffer.prototype.lastIndexOf) {\n    // check Buffer#lastIndexOf is usable: https://github.com/nodejs/node/issues/4604\n    if (initBuffer(\"ABC\").lastIndexOf (\"ABC\") === -1)\n        Buffer.prototype.lastIndexOf = bufferLastIndexOf;\n} else {\n    Buffer.prototype.lastIndexOf = bufferLastIndexOf;\n}\n","module.exports = function initBuffer(val) {\n  // assume old version\n    var nodeVersion = process && process.version ? process.version : \"v5.0.0\";\n    var major = nodeVersion.split(\".\")[0].replace(\"v\", \"\");\n    return major < 6\n      ? new Buffer(val)\n      : Buffer.from(val);\n};","module.exports = Buffers;\n\nfunction Buffers (bufs) {\n    if (!(this instanceof Buffers)) return new Buffers(bufs);\n    this.buffers = bufs || [];\n    this.length = this.buffers.reduce(function (size, buf) {\n        return size + buf.length\n    }, 0);\n}\n\nBuffers.prototype.push = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to push a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.push(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.unshift = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (!Buffer.isBuffer(arguments[i])) {\n            throw new TypeError('Tried to unshift a non-buffer');\n        }\n    }\n    \n    for (var i = 0; i < arguments.length; i++) {\n        var buf = arguments[i];\n        this.buffers.unshift(buf);\n        this.length += buf.length;\n    }\n    return this.length;\n};\n\nBuffers.prototype.copy = function (dst, dStart, start, end) {\n    return this.slice(start, end).copy(dst, dStart, 0, end - start);\n};\n\nBuffers.prototype.splice = function (i, howMany) {\n    var buffers = this.buffers;\n    var index = i >= 0 ? i : this.length - i;\n    var reps = [].slice.call(arguments, 2);\n    \n    if (howMany === undefined) {\n        howMany = this.length - index;\n    }\n    else if (howMany > this.length - index) {\n        howMany = this.length - index;\n    }\n    \n    for (var i = 0; i < reps.length; i++) {\n        this.length += reps[i].length;\n    }\n    \n    var removed = new Buffers();\n    var bytes = 0;\n    \n    var startBytes = 0;\n    for (\n        var ii = 0;\n        ii < buffers.length && startBytes + buffers[ii].length < index;\n        ii ++\n    ) { startBytes += buffers[ii].length }\n    \n    if (index - startBytes > 0) {\n        var start = index - startBytes;\n        \n        if (start + howMany < buffers[ii].length) {\n            removed.push(buffers[ii].slice(start, start + howMany));\n            \n            var orig = buffers[ii];\n            //var buf = new Buffer(orig.length - howMany);\n            var buf0 = new Buffer(start);\n            for (var i = 0; i < start; i++) {\n                buf0[i] = orig[i];\n            }\n            \n            var buf1 = new Buffer(orig.length - start - howMany);\n            for (var i = start + howMany; i < orig.length; i++) {\n                buf1[ i - howMany - start ] = orig[i]\n            }\n            \n            if (reps.length > 0) {\n                var reps_ = reps.slice();\n                reps_.unshift(buf0);\n                reps_.push(buf1);\n                buffers.splice.apply(buffers, [ ii, 1 ].concat(reps_));\n                ii += reps_.length;\n                reps = [];\n            }\n            else {\n                buffers.splice(ii, 1, buf0, buf1);\n                //buffers[ii] = buf;\n                ii += 2;\n            }\n        }\n        else {\n            removed.push(buffers[ii].slice(start));\n            buffers[ii] = buffers[ii].slice(0, start);\n            ii ++;\n        }\n    }\n    \n    if (reps.length > 0) {\n        buffers.splice.apply(buffers, [ ii, 0 ].concat(reps));\n        ii += reps.length;\n    }\n    \n    while (removed.length < howMany) {\n        var buf = buffers[ii];\n        var len = buf.length;\n        var take = Math.min(len, howMany - removed.length);\n        \n        if (take === len) {\n            removed.push(buf);\n            buffers.splice(ii, 1);\n        }\n        else {\n            removed.push(buf.slice(0, take));\n            buffers[ii] = buffers[ii].slice(take);\n        }\n    }\n    \n    this.length -= removed.length;\n    \n    return removed;\n};\n \nBuffers.prototype.slice = function (i, j) {\n    var buffers = this.buffers;\n    if (j === undefined) j = this.length;\n    if (i === undefined) i = 0;\n    \n    if (j > this.length) j = this.length;\n    \n    var startBytes = 0;\n    for (\n        var si = 0;\n        si < buffers.length && startBytes + buffers[si].length <= i;\n        si ++\n    ) { startBytes += buffers[si].length }\n    \n    var target = new Buffer(j - i);\n    \n    var ti = 0;\n    for (var ii = si; ti < j - i && ii < buffers.length; ii++) {\n        var len = buffers[ii].length;\n        \n        var start = ti === 0 ? i - startBytes : 0;\n        var end = ti + len >= j - i\n            ? Math.min(start + (j - i) - ti, len)\n            : len\n        ;\n        \n        buffers[ii].copy(target, ti, start, end);\n        ti += end - start;\n    }\n    \n    return target;\n};\n\nBuffers.prototype.pos = function (i) {\n    if (i < 0 || i >= this.length) throw new Error('oob');\n    var l = i, bi = 0, bu = null;\n    for (;;) {\n        bu = this.buffers[bi];\n        if (l < bu.length) {\n            return {buf: bi, offset: l};\n        } else {\n            l -= bu.length;\n        }\n        bi++;\n    }\n};\n\nBuffers.prototype.get = function get (i) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].get(pos.offset);\n};\n\nBuffers.prototype.set = function set (i, b) {\n    var pos = this.pos(i);\n\n    return this.buffers[pos.buf].set(pos.offset, b);\n};\n\nBuffers.prototype.indexOf = function (needle, offset) {\n    if (\"string\" === typeof needle) {\n        needle = new Buffer(needle);\n    } else if (needle instanceof Buffer) {\n        // already a buffer\n    } else {\n        throw new Error('Invalid type for a search string');\n    }\n\n    if (!needle.length) {\n        return 0;\n    }\n\n    if (!this.length) {\n        return -1;\n    }\n\n    var i = 0, j = 0, match = 0, mstart, pos = 0;\n\n    // start search from a particular point in the virtual buffer\n    if (offset) {\n        var p = this.pos(offset);\n        i = p.buf;\n        j = p.offset;\n        pos = offset;\n    }\n\n    // for each character in virtual buffer\n    for (;;) {\n        while (j >= this.buffers[i].length) {\n            j = 0;\n            i++;\n\n            if (i >= this.buffers.length) {\n                // search string not found\n                return -1;\n            }\n        }\n\n        var char = this.buffers[i][j];\n\n        if (char == needle[match]) {\n            // keep track where match started\n            if (match == 0) {\n                mstart = {\n                    i: i,\n                    j: j,\n                    pos: pos\n                };\n            }\n            match++;\n            if (match == needle.length) {\n                // full match\n                return mstart.pos;\n            }\n        } else if (match != 0) {\n            // a partial match ended, go back to match starting position\n            // this will continue the search at the next character\n            i = mstart.i;\n            j = mstart.j;\n            pos = mstart.pos;\n            match = 0;\n        }\n\n        j++;\n        pos++;\n    }\n};\n\nBuffers.prototype.toBuffer = function() {\n    return this.slice();\n}\n\nBuffers.prototype.toString = function(encoding, start, end) {\n    return this.slice(start, end).toString(encoding);\n}\n","var Traverse = require('traverse');\nvar EventEmitter = require('events').EventEmitter;\n\nmodule.exports = Chainsaw;\nfunction Chainsaw (builder) {\n    var saw = Chainsaw.saw(builder, {});\n    var r = builder.call(saw.handlers, saw);\n    if (r !== undefined) saw.handlers = r;\n    saw.record();\n    return saw.chain();\n};\n\nChainsaw.light = function ChainsawLight (builder) {\n    var saw = Chainsaw.saw(builder, {});\n    var r = builder.call(saw.handlers, saw);\n    if (r !== undefined) saw.handlers = r;\n    return saw.chain();\n};\n\nChainsaw.saw = function (builder, handlers) {\n    var saw = new EventEmitter;\n    saw.handlers = handlers;\n    saw.actions = [];\n\n    saw.chain = function () {\n        var ch = Traverse(saw.handlers).map(function (node) {\n            if (this.isRoot) return node;\n            var ps = this.path;\n\n            if (typeof node === 'function') {\n                this.update(function () {\n                    saw.actions.push({\n                        path : ps,\n                        args : [].slice.call(arguments)\n                    });\n                    return ch;\n                });\n            }\n        });\n\n        process.nextTick(function () {\n            saw.emit('begin');\n            saw.next();\n        });\n\n        return ch;\n    };\n\n    saw.pop = function () {\n        return saw.actions.shift();\n    };\n\n    saw.next = function () {\n        var action = saw.pop();\n\n        if (!action) {\n            saw.emit('end');\n        }\n        else if (!action.trap) {\n            var node = saw.handlers;\n            action.path.forEach(function (key) { node = node[key] });\n            node.apply(saw.handlers, action.args);\n        }\n    };\n\n    saw.nest = function (cb) {\n        var args = [].slice.call(arguments, 1);\n        var autonext = true;\n\n        if (typeof cb === 'boolean') {\n            var autonext = cb;\n            cb = args.shift();\n        }\n\n        var s = Chainsaw.saw(builder, {});\n        var r = builder.call(s.handlers, s);\n\n        if (r !== undefined) s.handlers = r;\n\n        // If we are recording...\n        if (\"undefined\" !== typeof saw.step) {\n            // ... our children should, too\n            s.record();\n        }\n\n        cb.apply(s.chain(), args);\n        if (autonext !== false) s.on('end', saw.next);\n    };\n\n    saw.record = function () {\n        upgradeChainsaw(saw);\n    };\n\n    ['trap', 'down', 'jump'].forEach(function (method) {\n        saw[method] = function () {\n            throw new Error(\"To use the trap, down and jump features, please \"+\n                            \"call record() first to start recording actions.\");\n        };\n    });\n\n    return saw;\n};\n\nfunction upgradeChainsaw(saw) {\n    saw.step = 0;\n\n    // override pop\n    saw.pop = function () {\n        return saw.actions[saw.step++];\n    };\n\n    saw.trap = function (name, cb) {\n        var ps = Array.isArray(name) ? name : [name];\n        saw.actions.push({\n            path : ps,\n            step : saw.step,\n            cb : cb,\n            trap : true\n        });\n    };\n\n    saw.down = function (name) {\n        var ps = (Array.isArray(name) ? name : [name]).join('/');\n        var i = saw.actions.slice(saw.step).map(function (x) {\n            if (x.trap && x.step <= saw.step) return false;\n            return x.path.join('/') == ps;\n        }).indexOf(true);\n\n        if (i >= 0) saw.step += i;\n        else saw.step = saw.actions.length;\n\n        var act = saw.actions[saw.step - 1];\n        if (act && act.trap) {\n            // It's a trap!\n            saw.step = act.step;\n            act.cb();\n        }\n        else saw.next();\n    };\n\n    saw.jump = function (step) {\n        saw.step = step;\n        saw.next();\n    };\n};\n","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 4694;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 420;\nmodule.exports = webpackEmptyContext;","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","\"use strict\";\n\nvar stream = require(\"readable-stream\");\n\nfunction DuplexWrapper(options, writable, readable) {\n  if (typeof readable === \"undefined\") {\n    readable = writable;\n    writable = options;\n    options = null;\n  }\n\n  stream.Duplex.call(this, options);\n\n  if (typeof readable.read !== \"function\") {\n    readable = (new stream.Readable(options)).wrap(readable);\n  }\n\n  this._writable = writable;\n  this._readable = readable;\n  this._waiting = false;\n\n  var self = this;\n\n  writable.once(\"finish\", function() {\n    self.end();\n  });\n\n  this.once(\"finish\", function() {\n    writable.end();\n  });\n\n  readable.on(\"readable\", function() {\n    if (self._waiting) {\n      self._waiting = false;\n      self._read();\n    }\n  });\n\n  readable.once(\"end\", function() {\n    self.push(null);\n  });\n\n  if (!options || typeof options.bubbleErrors === \"undefined\" || options.bubbleErrors) {\n    writable.on(\"error\", function(err) {\n      self.emit(\"error\", err);\n    });\n\n    readable.on(\"error\", function(err) {\n      self.emit(\"error\", err);\n    });\n  }\n}\n\nDuplexWrapper.prototype = Object.create(stream.Duplex.prototype, {constructor: {value: DuplexWrapper}});\n\nDuplexWrapper.prototype._write = function _write(input, encoding, done) {\n  this._writable.write(input, encoding, done);\n};\n\nDuplexWrapper.prototype._read = function _read() {\n  var buf;\n  var reads = 0;\n  while ((buf = this._readable.read()) !== null) {\n    this.push(buf);\n    reads++;\n  }\n  if (reads === 0) {\n    this._waiting = true;\n  }\n};\n\nmodule.exports = function duplex2(options, writable, readable) {\n  return new DuplexWrapper(options, writable, readable);\n};\n\nmodule.exports.DuplexWrapper = DuplexWrapper;\n","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","exports.Abstract = require('./lib/abstract.js')\nexports.Reader = require('./lib/reader.js')\nexports.Writer = require('./lib/writer.js')\n\nexports.File = {\n  Reader: require('./lib/file-reader.js'),\n  Writer: require('./lib/file-writer.js')\n}\n\nexports.Dir = {\n  Reader: require('./lib/dir-reader.js'),\n  Writer: require('./lib/dir-writer.js')\n}\n\nexports.Link = {\n  Reader: require('./lib/link-reader.js'),\n  Writer: require('./lib/link-writer.js')\n}\n\nexports.Proxy = {\n  Reader: require('./lib/proxy-reader.js'),\n  Writer: require('./lib/proxy-writer.js')\n}\n\nexports.Reader.Dir = exports.DirReader = exports.Dir.Reader\nexports.Reader.File = exports.FileReader = exports.File.Reader\nexports.Reader.Link = exports.LinkReader = exports.Link.Reader\nexports.Reader.Proxy = exports.ProxyReader = exports.Proxy.Reader\n\nexports.Writer.Dir = exports.DirWriter = exports.Dir.Writer\nexports.Writer.File = exports.FileWriter = exports.File.Writer\nexports.Writer.Link = exports.LinkWriter = exports.Link.Writer\nexports.Writer.Proxy = exports.ProxyWriter = exports.Proxy.Writer\n\nexports.collect = require('./lib/collect.js')\n","// the parent class for all fstreams.\n\nmodule.exports = Abstract\n\nvar Stream = require('stream').Stream\nvar inherits = require('inherits')\n\nfunction Abstract () {\n  Stream.call(this)\n}\n\ninherits(Abstract, Stream)\n\nAbstract.prototype.on = function (ev, fn) {\n  if (ev === 'ready' && this.ready) {\n    process.nextTick(fn.bind(this))\n  } else {\n    Stream.prototype.on.call(this, ev, fn)\n  }\n  return this\n}\n\nAbstract.prototype.abort = function () {\n  this._aborted = true\n  this.emit('abort')\n}\n\nAbstract.prototype.destroy = function () {}\n\nAbstract.prototype.warn = function (msg, code) {\n  var self = this\n  var er = decorate(msg, code, self)\n  if (!self.listeners('warn')) {\n    console.error('%s %s\\n' +\n    'path = %s\\n' +\n    'syscall = %s\\n' +\n    'fstream_type = %s\\n' +\n    'fstream_path = %s\\n' +\n    'fstream_unc_path = %s\\n' +\n    'fstream_class = %s\\n' +\n    'fstream_stack =\\n%s\\n',\n      code || 'UNKNOWN',\n      er.stack,\n      er.path,\n      er.syscall,\n      er.fstream_type,\n      er.fstream_path,\n      er.fstream_unc_path,\n      er.fstream_class,\n      er.fstream_stack.join('\\n'))\n  } else {\n    self.emit('warn', er)\n  }\n}\n\nAbstract.prototype.info = function (msg, code) {\n  this.emit('info', msg, code)\n}\n\nAbstract.prototype.error = function (msg, code, th) {\n  var er = decorate(msg, code, this)\n  if (th) throw er\n  else this.emit('error', er)\n}\n\nfunction decorate (er, code, self) {\n  if (!(er instanceof Error)) er = new Error(er)\n  er.code = er.code || code\n  er.path = er.path || self.path\n  er.fstream_type = er.fstream_type || self.type\n  er.fstream_path = er.fstream_path || self.path\n  if (self._path !== self.path) {\n    er.fstream_unc_path = er.fstream_unc_path || self._path\n  }\n  if (self.linkpath) {\n    er.fstream_linkpath = er.fstream_linkpath || self.linkpath\n  }\n  er.fstream_class = er.fstream_class || self.constructor.name\n  er.fstream_stack = er.fstream_stack ||\n    new Error().stack.split(/\\n/).slice(3).map(function (s) {\n      return s.replace(/^ {4}at /, '')\n    })\n\n  return er\n}\n","module.exports = collect\n\nfunction collect (stream) {\n  if (stream._collected) return\n\n  if (stream._paused) return stream.on('resume', collect.bind(null, stream))\n\n  stream._collected = true\n  stream.pause()\n\n  stream.on('data', save)\n  stream.on('end', save)\n  var buf = []\n  function save (b) {\n    if (typeof b === 'string') b = new Buffer(b)\n    if (Buffer.isBuffer(b) && !b.length) return\n    buf.push(b)\n  }\n\n  stream.on('entry', saveEntry)\n  var entryBuffer = []\n  function saveEntry (e) {\n    collect(e)\n    entryBuffer.push(e)\n  }\n\n  stream.on('proxy', proxyPause)\n  function proxyPause (p) {\n    p.pause()\n  }\n\n  // replace the pipe method with a new version that will\n  // unlock the buffered stuff.  if you just call .pipe()\n  // without a destination, then it'll re-play the events.\n  stream.pipe = (function (orig) {\n    return function (dest) {\n      // console.error(' === open the pipes', dest && dest.path)\n\n      // let the entries flow through one at a time.\n      // Once they're all done, then we can resume completely.\n      var e = 0\n      ;(function unblockEntry () {\n        var entry = entryBuffer[e++]\n        // console.error(\" ==== unblock entry\", entry && entry.path)\n        if (!entry) return resume()\n        entry.on('end', unblockEntry)\n        if (dest) dest.add(entry)\n        else stream.emit('entry', entry)\n      })()\n\n      function resume () {\n        stream.removeListener('entry', saveEntry)\n        stream.removeListener('data', save)\n        stream.removeListener('end', save)\n\n        stream.pipe = orig\n        if (dest) stream.pipe(dest)\n\n        buf.forEach(function (b) {\n          if (b) stream.emit('data', b)\n          else stream.emit('end')\n        })\n\n        stream.resume()\n      }\n\n      return dest\n    }\n  })(stream.pipe)\n}\n","// A thing that emits \"entry\" events with Reader objects\n// Pausing it causes it to stop emitting entry events, and also\n// pauses the current entry if there is one.\n\nmodule.exports = DirReader\n\nvar fs = require('graceful-fs')\nvar inherits = require('inherits')\nvar path = require('path')\nvar Reader = require('./reader.js')\nvar assert = require('assert').ok\n\ninherits(DirReader, Reader)\n\nfunction DirReader (props) {\n  var self = this\n  if (!(self instanceof DirReader)) {\n    throw new Error('DirReader must be called as constructor.')\n  }\n\n  // should already be established as a Directory type\n  if (props.type !== 'Directory' || !props.Directory) {\n    throw new Error('Non-directory type ' + props.type)\n  }\n\n  self.entries = null\n  self._index = -1\n  self._paused = false\n  self._length = -1\n\n  if (props.sort) {\n    this.sort = props.sort\n  }\n\n  Reader.call(this, props)\n}\n\nDirReader.prototype._getEntries = function () {\n  var self = this\n\n  // race condition.  might pause() before calling _getEntries,\n  // and then resume, and try to get them a second time.\n  if (self._gotEntries) return\n  self._gotEntries = true\n\n  fs.readdir(self._path, function (er, entries) {\n    if (er) return self.error(er)\n\n    self.entries = entries\n\n    self.emit('entries', entries)\n    if (self._paused) self.once('resume', processEntries)\n    else processEntries()\n\n    function processEntries () {\n      self._length = self.entries.length\n      if (typeof self.sort === 'function') {\n        self.entries = self.entries.sort(self.sort.bind(self))\n      }\n      self._read()\n    }\n  })\n}\n\n// start walking the dir, and emit an \"entry\" event for each one.\nDirReader.prototype._read = function () {\n  var self = this\n\n  if (!self.entries) return self._getEntries()\n\n  if (self._paused || self._currentEntry || self._aborted) {\n    // console.error('DR paused=%j, current=%j, aborted=%j', self._paused, !!self._currentEntry, self._aborted)\n    return\n  }\n\n  self._index++\n  if (self._index >= self.entries.length) {\n    if (!self._ended) {\n      self._ended = true\n      self.emit('end')\n      self.emit('close')\n    }\n    return\n  }\n\n  // ok, handle this one, then.\n\n  // save creating a proxy, by stat'ing the thing now.\n  var p = path.resolve(self._path, self.entries[self._index])\n  assert(p !== self._path)\n  assert(self.entries[self._index])\n\n  // set this to prevent trying to _read() again in the stat time.\n  self._currentEntry = p\n  fs[ self.props.follow ? 'stat' : 'lstat' ](p, function (er, stat) {\n    if (er) return self.error(er)\n\n    var who = self._proxy || self\n\n    stat.path = p\n    stat.basename = path.basename(p)\n    stat.dirname = path.dirname(p)\n    var childProps = self.getChildProps.call(who, stat)\n    childProps.path = p\n    childProps.basename = path.basename(p)\n    childProps.dirname = path.dirname(p)\n\n    var entry = Reader(childProps, stat)\n\n    // console.error(\"DR Entry\", p, stat.size)\n\n    self._currentEntry = entry\n\n    // \"entry\" events are for direct entries in a specific dir.\n    // \"child\" events are for any and all children at all levels.\n    // This nomenclature is not completely final.\n\n    entry.on('pause', function (who) {\n      if (!self._paused && !entry._disowned) {\n        self.pause(who)\n      }\n    })\n\n    entry.on('resume', function (who) {\n      if (self._paused && !entry._disowned) {\n        self.resume(who)\n      }\n    })\n\n    entry.on('stat', function (props) {\n      self.emit('_entryStat', entry, props)\n      if (entry._aborted) return\n      if (entry._paused) {\n        entry.once('resume', function () {\n          self.emit('entryStat', entry, props)\n        })\n      } else self.emit('entryStat', entry, props)\n    })\n\n    entry.on('ready', function EMITCHILD () {\n      // console.error(\"DR emit child\", entry._path)\n      if (self._paused) {\n        // console.error(\"  DR emit child - try again later\")\n        // pause the child, and emit the \"entry\" event once we drain.\n        // console.error(\"DR pausing child entry\")\n        entry.pause(self)\n        return self.once('resume', EMITCHILD)\n      }\n\n      // skip over sockets.  they can't be piped around properly,\n      // so there's really no sense even acknowledging them.\n      // if someone really wants to see them, they can listen to\n      // the \"socket\" events.\n      if (entry.type === 'Socket') {\n        self.emit('socket', entry)\n      } else {\n        self.emitEntry(entry)\n      }\n    })\n\n    var ended = false\n    entry.on('close', onend)\n    entry.on('disown', onend)\n    function onend () {\n      if (ended) return\n      ended = true\n      self.emit('childEnd', entry)\n      self.emit('entryEnd', entry)\n      self._currentEntry = null\n      if (!self._paused) {\n        self._read()\n      }\n    }\n\n    // XXX Remove this.  Works in node as of 0.6.2 or so.\n    // Long filenames should not break stuff.\n    entry.on('error', function (er) {\n      if (entry._swallowErrors) {\n        self.warn(er)\n        entry.emit('end')\n        entry.emit('close')\n      } else {\n        self.emit('error', er)\n      }\n    })\n\n    // proxy up some events.\n    ;[\n      'child',\n      'childEnd',\n      'warn'\n    ].forEach(function (ev) {\n      entry.on(ev, self.emit.bind(self, ev))\n    })\n  })\n}\n\nDirReader.prototype.disown = function (entry) {\n  entry.emit('beforeDisown')\n  entry._disowned = true\n  entry.parent = entry.root = null\n  if (entry === this._currentEntry) {\n    this._currentEntry = null\n  }\n  entry.emit('disown')\n}\n\nDirReader.prototype.getChildProps = function () {\n  return {\n    depth: this.depth + 1,\n    root: this.root || this,\n    parent: this,\n    follow: this.follow,\n    filter: this.filter,\n    sort: this.props.sort,\n    hardlinks: this.props.hardlinks\n  }\n}\n\nDirReader.prototype.pause = function (who) {\n  var self = this\n  if (self._paused) return\n  who = who || self\n  self._paused = true\n  if (self._currentEntry && self._currentEntry.pause) {\n    self._currentEntry.pause(who)\n  }\n  self.emit('pause', who)\n}\n\nDirReader.prototype.resume = function (who) {\n  var self = this\n  if (!self._paused) return\n  who = who || self\n\n  self._paused = false\n  // console.error('DR Emit Resume', self._path)\n  self.emit('resume', who)\n  if (self._paused) {\n    // console.error('DR Re-paused', self._path)\n    return\n  }\n\n  if (self._currentEntry) {\n    if (self._currentEntry.resume) self._currentEntry.resume(who)\n  } else self._read()\n}\n\nDirReader.prototype.emitEntry = function (entry) {\n  this.emit('entry', entry)\n  this.emit('child', entry)\n}\n","// It is expected that, when .add() returns false, the consumer\n// of the DirWriter will pause until a \"drain\" event occurs. Note\n// that this is *almost always going to be the case*, unless the\n// thing being written is some sort of unsupported type, and thus\n// skipped over.\n\nmodule.exports = DirWriter\n\nvar Writer = require('./writer.js')\nvar inherits = require('inherits')\nvar mkdir = require('mkdirp')\nvar path = require('path')\nvar collect = require('./collect.js')\n\ninherits(DirWriter, Writer)\n\nfunction DirWriter (props) {\n  var self = this\n  if (!(self instanceof DirWriter)) {\n    self.error('DirWriter must be called as constructor.', null, true)\n  }\n\n  // should already be established as a Directory type\n  if (props.type !== 'Directory' || !props.Directory) {\n    self.error('Non-directory type ' + props.type + ' ' +\n      JSON.stringify(props), null, true)\n  }\n\n  Writer.call(this, props)\n}\n\nDirWriter.prototype._create = function () {\n  var self = this\n  mkdir(self._path, Writer.dirmode, function (er) {\n    if (er) return self.error(er)\n    // ready to start getting entries!\n    self.ready = true\n    self.emit('ready')\n    self._process()\n  })\n}\n\n// a DirWriter has an add(entry) method, but its .write() doesn't\n// do anything.  Why a no-op rather than a throw?  Because this\n// leaves open the door for writing directory metadata for\n// gnu/solaris style dumpdirs.\nDirWriter.prototype.write = function () {\n  return true\n}\n\nDirWriter.prototype.end = function () {\n  this._ended = true\n  this._process()\n}\n\nDirWriter.prototype.add = function (entry) {\n  var self = this\n\n  // console.error('\\tadd', entry._path, '->', self._path)\n  collect(entry)\n  if (!self.ready || self._currentEntry) {\n    self._buffer.push(entry)\n    return false\n  }\n\n  // create a new writer, and pipe the incoming entry into it.\n  if (self._ended) {\n    return self.error('add after end')\n  }\n\n  self._buffer.push(entry)\n  self._process()\n\n  return this._buffer.length === 0\n}\n\nDirWriter.prototype._process = function () {\n  var self = this\n\n  // console.error('DW Process p=%j', self._processing, self.basename)\n\n  if (self._processing) return\n\n  var entry = self._buffer.shift()\n  if (!entry) {\n    // console.error(\"DW Drain\")\n    self.emit('drain')\n    if (self._ended) self._finish()\n    return\n  }\n\n  self._processing = true\n  // console.error(\"DW Entry\", entry._path)\n\n  self.emit('entry', entry)\n\n  // ok, add this entry\n  //\n  // don't allow recursive copying\n  var p = entry\n  var pp\n  do {\n    pp = p._path || p.path\n    if (pp === self.root._path || pp === self._path ||\n      (pp && pp.indexOf(self._path) === 0)) {\n      // console.error('DW Exit (recursive)', entry.basename, self._path)\n      self._processing = false\n      if (entry._collected) entry.pipe()\n      return self._process()\n    }\n    p = p.parent\n  } while (p)\n\n  // console.error(\"DW not recursive\")\n\n  // chop off the entry's root dir, replace with ours\n  var props = {\n    parent: self,\n    root: self.root || self,\n    type: entry.type,\n    depth: self.depth + 1\n  }\n\n  pp = entry._path || entry.path || entry.props.path\n  if (entry.parent) {\n    pp = pp.substr(entry.parent._path.length + 1)\n  }\n  // get rid of any ../../ shenanigans\n  props.path = path.join(self.path, path.join('/', pp))\n\n  // if i have a filter, the child should inherit it.\n  props.filter = self.filter\n\n  // all the rest of the stuff, copy over from the source.\n  Object.keys(entry.props).forEach(function (k) {\n    if (!props.hasOwnProperty(k)) {\n      props[k] = entry.props[k]\n    }\n  })\n\n  // not sure at this point what kind of writer this is.\n  var child = self._currentChild = new Writer(props)\n  child.on('ready', function () {\n    // console.error(\"DW Child Ready\", child.type, child._path)\n    // console.error(\"  resuming\", entry._path)\n    entry.pipe(child)\n    entry.resume()\n  })\n\n  // XXX Make this work in node.\n  // Long filenames should not break stuff.\n  child.on('error', function (er) {\n    if (child._swallowErrors) {\n      self.warn(er)\n      child.emit('end')\n      child.emit('close')\n    } else {\n      self.emit('error', er)\n    }\n  })\n\n  // we fire _end internally *after* end, so that we don't move on\n  // until any \"end\" listeners have had their chance to do stuff.\n  child.on('close', onend)\n  var ended = false\n  function onend () {\n    if (ended) return\n    ended = true\n    // console.error(\"* DW Child end\", child.basename)\n    self._currentChild = null\n    self._processing = false\n    self._process()\n  }\n}\n","// Basically just a wrapper around an fs.ReadStream\n\nmodule.exports = FileReader\n\nvar fs = require('graceful-fs')\nvar inherits = require('inherits')\nvar Reader = require('./reader.js')\nvar EOF = {EOF: true}\nvar CLOSE = {CLOSE: true}\n\ninherits(FileReader, Reader)\n\nfunction FileReader (props) {\n  // console.error(\"    FR create\", props.path, props.size, new Error().stack)\n  var self = this\n  if (!(self instanceof FileReader)) {\n    throw new Error('FileReader must be called as constructor.')\n  }\n\n  // should already be established as a File type\n  // XXX Todo: preserve hardlinks by tracking dev+inode+nlink,\n  // with a HardLinkReader class.\n  if (!((props.type === 'Link' && props.Link) ||\n    (props.type === 'File' && props.File))) {\n    throw new Error('Non-file type ' + props.type)\n  }\n\n  self._buffer = []\n  self._bytesEmitted = 0\n  Reader.call(self, props)\n}\n\nFileReader.prototype._getStream = function () {\n  var self = this\n  var stream = self._stream = fs.createReadStream(self._path, self.props)\n\n  if (self.props.blksize) {\n    stream.bufferSize = self.props.blksize\n  }\n\n  stream.on('open', self.emit.bind(self, 'open'))\n\n  stream.on('data', function (c) {\n    // console.error('\\t\\t%d %s', c.length, self.basename)\n    self._bytesEmitted += c.length\n    // no point saving empty chunks\n    if (!c.length) {\n      return\n    } else if (self._paused || self._buffer.length) {\n      self._buffer.push(c)\n      self._read()\n    } else self.emit('data', c)\n  })\n\n  stream.on('end', function () {\n    if (self._paused || self._buffer.length) {\n      // console.error('FR Buffering End', self._path)\n      self._buffer.push(EOF)\n      self._read()\n    } else {\n      self.emit('end')\n    }\n\n    if (self._bytesEmitted !== self.props.size) {\n      self.error(\"Didn't get expected byte count\\n\" +\n        'expect: ' + self.props.size + '\\n' +\n        'actual: ' + self._bytesEmitted)\n    }\n  })\n\n  stream.on('close', function () {\n    if (self._paused || self._buffer.length) {\n      // console.error('FR Buffering Close', self._path)\n      self._buffer.push(CLOSE)\n      self._read()\n    } else {\n      // console.error('FR close 1', self._path)\n      self.emit('close')\n    }\n  })\n\n  stream.on('error', function (e) {\n    self.emit('error', e)\n  })\n\n  self._read()\n}\n\nFileReader.prototype._read = function () {\n  var self = this\n  // console.error('FR _read', self._path)\n  if (self._paused) {\n    // console.error('FR _read paused', self._path)\n    return\n  }\n\n  if (!self._stream) {\n    // console.error('FR _getStream calling', self._path)\n    return self._getStream()\n  }\n\n  // clear out the buffer, if there is one.\n  if (self._buffer.length) {\n    // console.error('FR _read has buffer', self._buffer.length, self._path)\n    var buf = self._buffer\n    for (var i = 0, l = buf.length; i < l; i++) {\n      var c = buf[i]\n      if (c === EOF) {\n        // console.error('FR Read emitting buffered end', self._path)\n        self.emit('end')\n      } else if (c === CLOSE) {\n        // console.error('FR Read emitting buffered close', self._path)\n        self.emit('close')\n      } else {\n        // console.error('FR Read emitting buffered data', self._path)\n        self.emit('data', c)\n      }\n\n      if (self._paused) {\n        // console.error('FR Read Re-pausing at '+i, self._path)\n        self._buffer = buf.slice(i)\n        return\n      }\n    }\n    self._buffer.length = 0\n  }\n// console.error(\"FR _read done\")\n// that's about all there is to it.\n}\n\nFileReader.prototype.pause = function (who) {\n  var self = this\n  // console.error('FR Pause', self._path)\n  if (self._paused) return\n  who = who || self\n  self._paused = true\n  if (self._stream) self._stream.pause()\n  self.emit('pause', who)\n}\n\nFileReader.prototype.resume = function (who) {\n  var self = this\n  // console.error('FR Resume', self._path)\n  if (!self._paused) return\n  who = who || self\n  self.emit('resume', who)\n  self._paused = false\n  if (self._stream) self._stream.resume()\n  self._read()\n}\n","module.exports = FileWriter\n\nvar fs = require('graceful-fs')\nvar Writer = require('./writer.js')\nvar inherits = require('inherits')\nvar EOF = {}\n\ninherits(FileWriter, Writer)\n\nfunction FileWriter (props) {\n  var self = this\n  if (!(self instanceof FileWriter)) {\n    throw new Error('FileWriter must be called as constructor.')\n  }\n\n  // should already be established as a File type\n  if (props.type !== 'File' || !props.File) {\n    throw new Error('Non-file type ' + props.type)\n  }\n\n  self._buffer = []\n  self._bytesWritten = 0\n\n  Writer.call(this, props)\n}\n\nFileWriter.prototype._create = function () {\n  var self = this\n  if (self._stream) return\n\n  var so = {}\n  if (self.props.flags) so.flags = self.props.flags\n  so.mode = Writer.filemode\n  if (self._old && self._old.blksize) so.bufferSize = self._old.blksize\n\n  self._stream = fs.createWriteStream(self._path, so)\n\n  self._stream.on('open', function () {\n    // console.error(\"FW open\", self._buffer, self._path)\n    self.ready = true\n    self._buffer.forEach(function (c) {\n      if (c === EOF) self._stream.end()\n      else self._stream.write(c)\n    })\n    self.emit('ready')\n    // give this a kick just in case it needs it.\n    self.emit('drain')\n  })\n\n  self._stream.on('error', function (er) { self.emit('error', er) })\n\n  self._stream.on('drain', function () { self.emit('drain') })\n\n  self._stream.on('close', function () {\n    // console.error('\\n\\nFW Stream Close', self._path, self.size)\n    self._finish()\n  })\n}\n\nFileWriter.prototype.write = function (c) {\n  var self = this\n\n  self._bytesWritten += c.length\n\n  if (!self.ready) {\n    if (!Buffer.isBuffer(c) && typeof c !== 'string') {\n      throw new Error('invalid write data')\n    }\n    self._buffer.push(c)\n    return false\n  }\n\n  var ret = self._stream.write(c)\n  // console.error('\\t-- fw wrote, _stream says', ret, self._stream._queue.length)\n\n  // allow 2 buffered writes, because otherwise there's just too\n  // much stop and go bs.\n  if (ret === false && self._stream._queue) {\n    return self._stream._queue.length <= 2\n  } else {\n    return ret\n  }\n}\n\nFileWriter.prototype.end = function (c) {\n  var self = this\n\n  if (c) self.write(c)\n\n  if (!self.ready) {\n    self._buffer.push(EOF)\n    return false\n  }\n\n  return self._stream.end()\n}\n\nFileWriter.prototype._finish = function () {\n  var self = this\n  if (typeof self.size === 'number' && self._bytesWritten !== self.size) {\n    self.error(\n      'Did not get expected byte count.\\n' +\n      'expect: ' + self.size + '\\n' +\n      'actual: ' + self._bytesWritten)\n  }\n  Writer.prototype._finish.call(self)\n}\n","module.exports = getType\n\nfunction getType (st) {\n  var types = [\n    'Directory',\n    'File',\n    'SymbolicLink',\n    'Link', // special for hardlinks from tarballs\n    'BlockDevice',\n    'CharacterDevice',\n    'FIFO',\n    'Socket'\n  ]\n  var type\n\n  if (st.type && types.indexOf(st.type) !== -1) {\n    st[st.type] = true\n    return st.type\n  }\n\n  for (var i = 0, l = types.length; i < l; i++) {\n    type = types[i]\n    var is = st[type] || st['is' + type]\n    if (typeof is === 'function') is = is.call(st)\n    if (is) {\n      st[type] = true\n      st.type = type\n      return type\n    }\n  }\n\n  return null\n}\n","// Basically just a wrapper around an fs.readlink\n//\n// XXX: Enhance this to support the Link type, by keeping\n// a lookup table of {<dev+inode>:<path>}, so that hardlinks\n// can be preserved in tarballs.\n\nmodule.exports = LinkReader\n\nvar fs = require('graceful-fs')\nvar inherits = require('inherits')\nvar Reader = require('./reader.js')\n\ninherits(LinkReader, Reader)\n\nfunction LinkReader (props) {\n  var self = this\n  if (!(self instanceof LinkReader)) {\n    throw new Error('LinkReader must be called as constructor.')\n  }\n\n  if (!((props.type === 'Link' && props.Link) ||\n    (props.type === 'SymbolicLink' && props.SymbolicLink))) {\n    throw new Error('Non-link type ' + props.type)\n  }\n\n  Reader.call(self, props)\n}\n\n// When piping a LinkReader into a LinkWriter, we have to\n// already have the linkpath property set, so that has to\n// happen *before* the \"ready\" event, which means we need to\n// override the _stat method.\nLinkReader.prototype._stat = function (currentStat) {\n  var self = this\n  fs.readlink(self._path, function (er, linkpath) {\n    if (er) return self.error(er)\n    self.linkpath = self.props.linkpath = linkpath\n    self.emit('linkpath', linkpath)\n    Reader.prototype._stat.call(self, currentStat)\n  })\n}\n\nLinkReader.prototype._read = function () {\n  var self = this\n  if (self._paused) return\n  // basically just a no-op, since we got all the info we need\n  // from the _stat method\n  if (!self._ended) {\n    self.emit('end')\n    self.emit('close')\n    self._ended = true\n  }\n}\n","module.exports = LinkWriter\n\nvar fs = require('graceful-fs')\nvar Writer = require('./writer.js')\nvar inherits = require('inherits')\nvar path = require('path')\nvar rimraf = require('rimraf')\n\ninherits(LinkWriter, Writer)\n\nfunction LinkWriter (props) {\n  var self = this\n  if (!(self instanceof LinkWriter)) {\n    throw new Error('LinkWriter must be called as constructor.')\n  }\n\n  // should already be established as a Link type\n  if (!((props.type === 'Link' && props.Link) ||\n    (props.type === 'SymbolicLink' && props.SymbolicLink))) {\n    throw new Error('Non-link type ' + props.type)\n  }\n\n  if (props.linkpath === '') props.linkpath = '.'\n  if (!props.linkpath) {\n    self.error('Need linkpath property to create ' + props.type)\n  }\n\n  Writer.call(this, props)\n}\n\nLinkWriter.prototype._create = function () {\n  // console.error(\" LW _create\")\n  var self = this\n  var hard = self.type === 'Link' || process.platform === 'win32'\n  var link = hard ? 'link' : 'symlink'\n  var lp = hard ? path.resolve(self.dirname, self.linkpath) : self.linkpath\n\n  // can only change the link path by clobbering\n  // For hard links, let's just assume that's always the case, since\n  // there's no good way to read them if we don't already know.\n  if (hard) return clobber(self, lp, link)\n\n  fs.readlink(self._path, function (er, p) {\n    // only skip creation if it's exactly the same link\n    if (p && p === lp) return finish(self)\n    clobber(self, lp, link)\n  })\n}\n\nfunction clobber (self, lp, link) {\n  rimraf(self._path, function (er) {\n    if (er) return self.error(er)\n    create(self, lp, link)\n  })\n}\n\nfunction create (self, lp, link) {\n  fs[link](lp, self._path, function (er) {\n    // if this is a hard link, and we're in the process of writing out a\n    // directory, it's very possible that the thing we're linking to\n    // doesn't exist yet (especially if it was intended as a symlink),\n    // so swallow ENOENT errors here and just soldier in.\n    // Additionally, an EPERM or EACCES can happen on win32 if it's trying\n    // to make a link to a directory.  Again, just skip it.\n    // A better solution would be to have fs.symlink be supported on\n    // windows in some nice fashion.\n    if (er) {\n      if ((er.code === 'ENOENT' ||\n        er.code === 'EACCES' ||\n        er.code === 'EPERM') && process.platform === 'win32') {\n        self.ready = true\n        self.emit('ready')\n        self.emit('end')\n        self.emit('close')\n        self.end = self._finish = function () {}\n      } else return self.error(er)\n    }\n    finish(self)\n  })\n}\n\nfunction finish (self) {\n  self.ready = true\n  self.emit('ready')\n  if (self._ended && !self._finished) self._finish()\n}\n\nLinkWriter.prototype.end = function () {\n  // console.error(\"LW finish in end\")\n  this._ended = true\n  if (this.ready) {\n    this._finished = true\n    this._finish()\n  }\n}\n","// A reader for when we don't yet know what kind of thing\n// the thing is.\n\nmodule.exports = ProxyReader\n\nvar Reader = require('./reader.js')\nvar getType = require('./get-type.js')\nvar inherits = require('inherits')\nvar fs = require('graceful-fs')\n\ninherits(ProxyReader, Reader)\n\nfunction ProxyReader (props) {\n  var self = this\n  if (!(self instanceof ProxyReader)) {\n    throw new Error('ProxyReader must be called as constructor.')\n  }\n\n  self.props = props\n  self._buffer = []\n  self.ready = false\n\n  Reader.call(self, props)\n}\n\nProxyReader.prototype._stat = function () {\n  var self = this\n  var props = self.props\n  // stat the thing to see what the proxy should be.\n  var stat = props.follow ? 'stat' : 'lstat'\n\n  fs[stat](props.path, function (er, current) {\n    var type\n    if (er || !current) {\n      type = 'File'\n    } else {\n      type = getType(current)\n    }\n\n    props[type] = true\n    props.type = self.type = type\n\n    self._old = current\n    self._addProxy(Reader(props, current))\n  })\n}\n\nProxyReader.prototype._addProxy = function (proxy) {\n  var self = this\n  if (self._proxyTarget) {\n    return self.error('proxy already set')\n  }\n\n  self._proxyTarget = proxy\n  proxy._proxy = self\n\n  ;[\n    'error',\n    'data',\n    'end',\n    'close',\n    'linkpath',\n    'entry',\n    'entryEnd',\n    'child',\n    'childEnd',\n    'warn',\n    'stat'\n  ].forEach(function (ev) {\n    // console.error('~~ proxy event', ev, self.path)\n    proxy.on(ev, self.emit.bind(self, ev))\n  })\n\n  self.emit('proxy', proxy)\n\n  proxy.on('ready', function () {\n    // console.error(\"~~ proxy is ready!\", self.path)\n    self.ready = true\n    self.emit('ready')\n  })\n\n  var calls = self._buffer\n  self._buffer.length = 0\n  calls.forEach(function (c) {\n    proxy[c[0]].apply(proxy, c[1])\n  })\n}\n\nProxyReader.prototype.pause = function () {\n  return this._proxyTarget ? this._proxyTarget.pause() : false\n}\n\nProxyReader.prototype.resume = function () {\n  return this._proxyTarget ? this._proxyTarget.resume() : false\n}\n","// A writer for when we don't know what kind of thing\n// the thing is.  That is, it's not explicitly set,\n// so we're going to make it whatever the thing already\n// is, or \"File\"\n//\n// Until then, collect all events.\n\nmodule.exports = ProxyWriter\n\nvar Writer = require('./writer.js')\nvar getType = require('./get-type.js')\nvar inherits = require('inherits')\nvar collect = require('./collect.js')\nvar fs = require('fs')\n\ninherits(ProxyWriter, Writer)\n\nfunction ProxyWriter (props) {\n  var self = this\n  if (!(self instanceof ProxyWriter)) {\n    throw new Error('ProxyWriter must be called as constructor.')\n  }\n\n  self.props = props\n  self._needDrain = false\n\n  Writer.call(self, props)\n}\n\nProxyWriter.prototype._stat = function () {\n  var self = this\n  var props = self.props\n  // stat the thing to see what the proxy should be.\n  var stat = props.follow ? 'stat' : 'lstat'\n\n  fs[stat](props.path, function (er, current) {\n    var type\n    if (er || !current) {\n      type = 'File'\n    } else {\n      type = getType(current)\n    }\n\n    props[type] = true\n    props.type = self.type = type\n\n    self._old = current\n    self._addProxy(Writer(props, current))\n  })\n}\n\nProxyWriter.prototype._addProxy = function (proxy) {\n  // console.error(\"~~ set proxy\", this.path)\n  var self = this\n  if (self._proxy) {\n    return self.error('proxy already set')\n  }\n\n  self._proxy = proxy\n  ;[\n    'ready',\n    'error',\n    'close',\n    'pipe',\n    'drain',\n    'warn'\n  ].forEach(function (ev) {\n    proxy.on(ev, self.emit.bind(self, ev))\n  })\n\n  self.emit('proxy', proxy)\n\n  var calls = self._buffer\n  calls.forEach(function (c) {\n    // console.error(\"~~ ~~ proxy buffered call\", c[0], c[1])\n    proxy[c[0]].apply(proxy, c[1])\n  })\n  self._buffer.length = 0\n  if (self._needsDrain) self.emit('drain')\n}\n\nProxyWriter.prototype.add = function (entry) {\n  // console.error(\"~~ proxy add\")\n  collect(entry)\n\n  if (!this._proxy) {\n    this._buffer.push(['add', [entry]])\n    this._needDrain = true\n    return false\n  }\n  return this._proxy.add(entry)\n}\n\nProxyWriter.prototype.write = function (c) {\n  // console.error('~~ proxy write')\n  if (!this._proxy) {\n    this._buffer.push(['write', [c]])\n    this._needDrain = true\n    return false\n  }\n  return this._proxy.write(c)\n}\n\nProxyWriter.prototype.end = function (c) {\n  // console.error('~~ proxy end')\n  if (!this._proxy) {\n    this._buffer.push(['end', [c]])\n    return false\n  }\n  return this._proxy.end(c)\n}\n","module.exports = Reader\n\nvar fs = require('graceful-fs')\nvar Stream = require('stream').Stream\nvar inherits = require('inherits')\nvar path = require('path')\nvar getType = require('./get-type.js')\nvar hardLinks = Reader.hardLinks = {}\nvar Abstract = require('./abstract.js')\n\n// Must do this *before* loading the child classes\ninherits(Reader, Abstract)\n\nvar LinkReader = require('./link-reader.js')\n\nfunction Reader (props, currentStat) {\n  var self = this\n  if (!(self instanceof Reader)) return new Reader(props, currentStat)\n\n  if (typeof props === 'string') {\n    props = { path: props }\n  }\n\n  // polymorphism.\n  // call fstream.Reader(dir) to get a DirReader object, etc.\n  // Note that, unlike in the Writer case, ProxyReader is going\n  // to be the *normal* state of affairs, since we rarely know\n  // the type of a file prior to reading it.\n\n  var type\n  var ClassType\n\n  if (props.type && typeof props.type === 'function') {\n    type = props.type\n    ClassType = type\n  } else {\n    type = getType(props)\n    ClassType = Reader\n  }\n\n  if (currentStat && !type) {\n    type = getType(currentStat)\n    props[type] = true\n    props.type = type\n  }\n\n  switch (type) {\n    case 'Directory':\n      ClassType = require('./dir-reader.js')\n      break\n\n    case 'Link':\n    // XXX hard links are just files.\n    // However, it would be good to keep track of files' dev+inode\n    // and nlink values, and create a HardLinkReader that emits\n    // a linkpath value of the original copy, so that the tar\n    // writer can preserve them.\n    // ClassType = HardLinkReader\n    // break\n\n    case 'File':\n      ClassType = require('./file-reader.js')\n      break\n\n    case 'SymbolicLink':\n      ClassType = LinkReader\n      break\n\n    case 'Socket':\n      ClassType = require('./socket-reader.js')\n      break\n\n    case null:\n      ClassType = require('./proxy-reader.js')\n      break\n  }\n\n  if (!(self instanceof ClassType)) {\n    return new ClassType(props)\n  }\n\n  Abstract.call(self)\n\n  if (!props.path) {\n    self.error('Must provide a path', null, true)\n  }\n\n  self.readable = true\n  self.writable = false\n\n  self.type = type\n  self.props = props\n  self.depth = props.depth = props.depth || 0\n  self.parent = props.parent || null\n  self.root = props.root || (props.parent && props.parent.root) || self\n\n  self._path = self.path = path.resolve(props.path)\n  if (process.platform === 'win32') {\n    self.path = self._path = self.path.replace(/\\?/g, '_')\n    if (self._path.length >= 260) {\n      // how DOES one create files on the moon?\n      // if the path has spaces in it, then UNC will fail.\n      self._swallowErrors = true\n      // if (self._path.indexOf(\" \") === -1) {\n      self._path = '\\\\\\\\?\\\\' + self.path.replace(/\\//g, '\\\\')\n    // }\n    }\n  }\n  self.basename = props.basename = path.basename(self.path)\n  self.dirname = props.dirname = path.dirname(self.path)\n\n  // these have served their purpose, and are now just noisy clutter\n  props.parent = props.root = null\n\n  // console.error(\"\\n\\n\\n%s setting size to\", props.path, props.size)\n  self.size = props.size\n  self.filter = typeof props.filter === 'function' ? props.filter : null\n  if (props.sort === 'alpha') props.sort = alphasort\n\n  // start the ball rolling.\n  // this will stat the thing, and then call self._read()\n  // to start reading whatever it is.\n  // console.error(\"calling stat\", props.path, currentStat)\n  self._stat(currentStat)\n}\n\nfunction alphasort (a, b) {\n  return a === b ? 0\n    : a.toLowerCase() > b.toLowerCase() ? 1\n      : a.toLowerCase() < b.toLowerCase() ? -1\n        : a > b ? 1\n          : -1\n}\n\nReader.prototype._stat = function (currentStat) {\n  var self = this\n  var props = self.props\n  var stat = props.follow ? 'stat' : 'lstat'\n  // console.error(\"Reader._stat\", self._path, currentStat)\n  if (currentStat) process.nextTick(statCb.bind(null, null, currentStat))\n  else fs[stat](self._path, statCb)\n\n  function statCb (er, props_) {\n    // console.error(\"Reader._stat, statCb\", self._path, props_, props_.nlink)\n    if (er) return self.error(er)\n\n    Object.keys(props_).forEach(function (k) {\n      props[k] = props_[k]\n    })\n\n    // if it's not the expected size, then abort here.\n    if (undefined !== self.size && props.size !== self.size) {\n      return self.error('incorrect size')\n    }\n    self.size = props.size\n\n    var type = getType(props)\n    var handleHardlinks = props.hardlinks !== false\n\n    // special little thing for handling hardlinks.\n    if (handleHardlinks && type !== 'Directory' && props.nlink && props.nlink > 1) {\n      var k = props.dev + ':' + props.ino\n      // console.error(\"Reader has nlink\", self._path, k)\n      if (hardLinks[k] === self._path || !hardLinks[k]) {\n        hardLinks[k] = self._path\n      } else {\n        // switch into hardlink mode.\n        type = self.type = self.props.type = 'Link'\n        self.Link = self.props.Link = true\n        self.linkpath = self.props.linkpath = hardLinks[k]\n        // console.error(\"Hardlink detected, switching mode\", self._path, self.linkpath)\n        // Setting __proto__ would arguably be the \"correct\"\n        // approach here, but that just seems too wrong.\n        self._stat = self._read = LinkReader.prototype._read\n      }\n    }\n\n    if (self.type && self.type !== type) {\n      self.error('Unexpected type: ' + type)\n    }\n\n    // if the filter doesn't pass, then just skip over this one.\n    // still have to emit end so that dir-walking can move on.\n    if (self.filter) {\n      var who = self._proxy || self\n      // special handling for ProxyReaders\n      if (!self.filter.call(who, who, props)) {\n        if (!self._disowned) {\n          self.abort()\n          self.emit('end')\n          self.emit('close')\n        }\n        return\n      }\n    }\n\n    // last chance to abort or disown before the flow starts!\n    var events = ['_stat', 'stat', 'ready']\n    var e = 0\n    ;(function go () {\n      if (self._aborted) {\n        self.emit('end')\n        self.emit('close')\n        return\n      }\n\n      if (self._paused && self.type !== 'Directory') {\n        self.once('resume', go)\n        return\n      }\n\n      var ev = events[e++]\n      if (!ev) {\n        return self._read()\n      }\n      self.emit(ev, props)\n      go()\n    })()\n  }\n}\n\nReader.prototype.pipe = function (dest) {\n  var self = this\n  if (typeof dest.add === 'function') {\n    // piping to a multi-compatible, and we've got directory entries.\n    self.on('entry', function (entry) {\n      var ret = dest.add(entry)\n      if (ret === false) {\n        self.pause()\n      }\n    })\n  }\n\n  // console.error(\"R Pipe apply Stream Pipe\")\n  return Stream.prototype.pipe.apply(this, arguments)\n}\n\nReader.prototype.pause = function (who) {\n  this._paused = true\n  who = who || this\n  this.emit('pause', who)\n  if (this._stream) this._stream.pause(who)\n}\n\nReader.prototype.resume = function (who) {\n  this._paused = false\n  who = who || this\n  this.emit('resume', who)\n  if (this._stream) this._stream.resume(who)\n  this._read()\n}\n\nReader.prototype._read = function () {\n  this.error('Cannot read unknown type: ' + this.type)\n}\n","// Just get the stats, and then don't do anything.\n// You can't really \"read\" from a socket.  You \"connect\" to it.\n// Mostly, this is here so that reading a dir with a socket in it\n// doesn't blow up.\n\nmodule.exports = SocketReader\n\nvar inherits = require('inherits')\nvar Reader = require('./reader.js')\n\ninherits(SocketReader, Reader)\n\nfunction SocketReader (props) {\n  var self = this\n  if (!(self instanceof SocketReader)) {\n    throw new Error('SocketReader must be called as constructor.')\n  }\n\n  if (!(props.type === 'Socket' && props.Socket)) {\n    throw new Error('Non-socket type ' + props.type)\n  }\n\n  Reader.call(self, props)\n}\n\nSocketReader.prototype._read = function () {\n  var self = this\n  if (self._paused) return\n  // basically just a no-op, since we got all the info we have\n  // from the _stat method\n  if (!self._ended) {\n    self.emit('end')\n    self.emit('close')\n    self._ended = true\n  }\n}\n","module.exports = Writer\n\nvar fs = require('graceful-fs')\nvar inherits = require('inherits')\nvar rimraf = require('rimraf')\nvar mkdir = require('mkdirp')\nvar path = require('path')\nvar umask = process.platform === 'win32' ? 0 : process.umask()\nvar getType = require('./get-type.js')\nvar Abstract = require('./abstract.js')\n\n// Must do this *before* loading the child classes\ninherits(Writer, Abstract)\n\nWriter.dirmode = parseInt('0777', 8) & (~umask)\nWriter.filemode = parseInt('0666', 8) & (~umask)\n\nvar DirWriter = require('./dir-writer.js')\nvar LinkWriter = require('./link-writer.js')\nvar FileWriter = require('./file-writer.js')\nvar ProxyWriter = require('./proxy-writer.js')\n\n// props is the desired state.  current is optionally the current stat,\n// provided here so that subclasses can avoid statting the target\n// more than necessary.\nfunction Writer (props, current) {\n  var self = this\n\n  if (typeof props === 'string') {\n    props = { path: props }\n  }\n\n  // polymorphism.\n  // call fstream.Writer(dir) to get a DirWriter object, etc.\n  var type = getType(props)\n  var ClassType = Writer\n\n  switch (type) {\n    case 'Directory':\n      ClassType = DirWriter\n      break\n    case 'File':\n      ClassType = FileWriter\n      break\n    case 'Link':\n    case 'SymbolicLink':\n      ClassType = LinkWriter\n      break\n    case null:\n    default:\n      // Don't know yet what type to create, so we wrap in a proxy.\n      ClassType = ProxyWriter\n      break\n  }\n\n  if (!(self instanceof ClassType)) return new ClassType(props)\n\n  // now get down to business.\n\n  Abstract.call(self)\n\n  if (!props.path) self.error('Must provide a path', null, true)\n\n  // props is what we want to set.\n  // set some convenience properties as well.\n  self.type = props.type\n  self.props = props\n  self.depth = props.depth || 0\n  self.clobber = props.clobber === false ? props.clobber : true\n  self.parent = props.parent || null\n  self.root = props.root || (props.parent && props.parent.root) || self\n\n  self._path = self.path = path.resolve(props.path)\n  if (process.platform === 'win32') {\n    self.path = self._path = self.path.replace(/\\?/g, '_')\n    if (self._path.length >= 260) {\n      self._swallowErrors = true\n      self._path = '\\\\\\\\?\\\\' + self.path.replace(/\\//g, '\\\\')\n    }\n  }\n  self.basename = path.basename(props.path)\n  self.dirname = path.dirname(props.path)\n  self.linkpath = props.linkpath || null\n\n  props.parent = props.root = null\n\n  // console.error(\"\\n\\n\\n%s setting size to\", props.path, props.size)\n  self.size = props.size\n\n  if (typeof props.mode === 'string') {\n    props.mode = parseInt(props.mode, 8)\n  }\n\n  self.readable = false\n  self.writable = true\n\n  // buffer until ready, or while handling another entry\n  self._buffer = []\n  self.ready = false\n\n  self.filter = typeof props.filter === 'function' ? props.filter : null\n\n  // start the ball rolling.\n  // this checks what's there already, and then calls\n  // self._create() to call the impl-specific creation stuff.\n  self._stat(current)\n}\n\n// Calling this means that it's something we can't create.\n// Just assert that it's already there, otherwise raise a warning.\nWriter.prototype._create = function () {\n  var self = this\n  fs[self.props.follow ? 'stat' : 'lstat'](self._path, function (er) {\n    if (er) {\n      return self.warn('Cannot create ' + self._path + '\\n' +\n        'Unsupported type: ' + self.type, 'ENOTSUP')\n    }\n    self._finish()\n  })\n}\n\nWriter.prototype._stat = function (current) {\n  var self = this\n  var props = self.props\n  var stat = props.follow ? 'stat' : 'lstat'\n  var who = self._proxy || self\n\n  if (current) statCb(null, current)\n  else fs[stat](self._path, statCb)\n\n  function statCb (er, current) {\n    if (self.filter && !self.filter.call(who, who, current)) {\n      self._aborted = true\n      self.emit('end')\n      self.emit('close')\n      return\n    }\n\n    // if it's not there, great.  We'll just create it.\n    // if it is there, then we'll need to change whatever differs\n    if (er || !current) {\n      return create(self)\n    }\n\n    self._old = current\n    var currentType = getType(current)\n\n    // if it's a type change, then we need to clobber or error.\n    // if it's not a type change, then let the impl take care of it.\n    if (currentType !== self.type || self.type === 'File' && current.nlink > 1) {\n      return rimraf(self._path, function (er) {\n        if (er) return self.error(er)\n        self._old = null\n        create(self)\n      })\n    }\n\n    // otherwise, just handle in the app-specific way\n    // this creates a fs.WriteStream, or mkdir's, or whatever\n    create(self)\n  }\n}\n\nfunction create (self) {\n  // console.error(\"W create\", self._path, Writer.dirmode)\n\n  // XXX Need to clobber non-dirs that are in the way,\n  // unless { clobber: false } in the props.\n  mkdir(path.dirname(self._path), Writer.dirmode, function (er, made) {\n    // console.error(\"W created\", path.dirname(self._path), er)\n    if (er) return self.error(er)\n\n    // later on, we have to set the mode and owner for these\n    self._madeDir = made\n    return self._create()\n  })\n}\n\nfunction endChmod (self, want, current, path, cb) {\n  var wantMode = want.mode\n  var chmod = want.follow || self.type !== 'SymbolicLink'\n    ? 'chmod' : 'lchmod'\n\n  if (!fs[chmod]) return cb()\n  if (typeof wantMode !== 'number') return cb()\n\n  var curMode = current.mode & parseInt('0777', 8)\n  wantMode = wantMode & parseInt('0777', 8)\n  if (wantMode === curMode) return cb()\n\n  fs[chmod](path, wantMode, cb)\n}\n\nfunction endChown (self, want, current, path, cb) {\n  // Don't even try it unless root.  Too easy to EPERM.\n  if (process.platform === 'win32') return cb()\n  if (!process.getuid || process.getuid() !== 0) return cb()\n  if (typeof want.uid !== 'number' &&\n    typeof want.gid !== 'number') return cb()\n\n  if (current.uid === want.uid &&\n    current.gid === want.gid) return cb()\n\n  var chown = (self.props.follow || self.type !== 'SymbolicLink')\n    ? 'chown' : 'lchown'\n  if (!fs[chown]) return cb()\n\n  if (typeof want.uid !== 'number') want.uid = current.uid\n  if (typeof want.gid !== 'number') want.gid = current.gid\n\n  fs[chown](path, want.uid, want.gid, cb)\n}\n\nfunction endUtimes (self, want, current, path, cb) {\n  if (!fs.utimes || process.platform === 'win32') return cb()\n\n  var utimes = (want.follow || self.type !== 'SymbolicLink')\n    ? 'utimes' : 'lutimes'\n\n  if (utimes === 'lutimes' && !fs[utimes]) {\n    utimes = 'utimes'\n  }\n\n  if (!fs[utimes]) return cb()\n\n  var curA = current.atime\n  var curM = current.mtime\n  var meA = want.atime\n  var meM = want.mtime\n\n  if (meA === undefined) meA = curA\n  if (meM === undefined) meM = curM\n\n  if (!isDate(meA)) meA = new Date(meA)\n  if (!isDate(meM)) meA = new Date(meM)\n\n  if (meA.getTime() === curA.getTime() &&\n    meM.getTime() === curM.getTime()) return cb()\n\n  fs[utimes](path, meA, meM, cb)\n}\n\n// XXX This function is beastly.  Break it up!\nWriter.prototype._finish = function () {\n  var self = this\n\n  if (self._finishing) return\n  self._finishing = true\n\n  // console.error(\" W Finish\", self._path, self.size)\n\n  // set up all the things.\n  // At this point, we're already done writing whatever we've gotta write,\n  // adding files to the dir, etc.\n  var todo = 0\n  var errState = null\n  var done = false\n\n  if (self._old) {\n    // the times will almost *certainly* have changed.\n    // adds the utimes syscall, but remove another stat.\n    self._old.atime = new Date(0)\n    self._old.mtime = new Date(0)\n    // console.error(\" W Finish Stale Stat\", self._path, self.size)\n    setProps(self._old)\n  } else {\n    var stat = self.props.follow ? 'stat' : 'lstat'\n    // console.error(\" W Finish Stating\", self._path, self.size)\n    fs[stat](self._path, function (er, current) {\n      // console.error(\" W Finish Stated\", self._path, self.size, current)\n      if (er) {\n        // if we're in the process of writing out a\n        // directory, it's very possible that the thing we're linking to\n        // doesn't exist yet (especially if it was intended as a symlink),\n        // so swallow ENOENT errors here and just soldier on.\n        if (er.code === 'ENOENT' &&\n          (self.type === 'Link' || self.type === 'SymbolicLink') &&\n          process.platform === 'win32') {\n          self.ready = true\n          self.emit('ready')\n          self.emit('end')\n          self.emit('close')\n          self.end = self._finish = function () {}\n          return\n        } else return self.error(er)\n      }\n      setProps(self._old = current)\n    })\n  }\n\n  return\n\n  function setProps (current) {\n    todo += 3\n    endChmod(self, self.props, current, self._path, next('chmod'))\n    endChown(self, self.props, current, self._path, next('chown'))\n    endUtimes(self, self.props, current, self._path, next('utimes'))\n  }\n\n  function next (what) {\n    return function (er) {\n      // console.error(\"   W Finish\", what, todo)\n      if (errState) return\n      if (er) {\n        er.fstream_finish_call = what\n        return self.error(errState = er)\n      }\n      if (--todo > 0) return\n      if (done) return\n      done = true\n\n      // we may still need to set the mode/etc. on some parent dirs\n      // that were created previously.  delay end/close until then.\n      if (!self._madeDir) return end()\n      else endMadeDir(self, self._path, end)\n\n      function end (er) {\n        if (er) {\n          er.fstream_finish_call = 'setupMadeDir'\n          return self.error(er)\n        }\n        // all the props have been set, so we're completely done.\n        self.emit('end')\n        self.emit('close')\n      }\n    }\n  }\n}\n\nfunction endMadeDir (self, p, cb) {\n  var made = self._madeDir\n  // everything *between* made and path.dirname(self._path)\n  // needs to be set up.  Note that this may just be one dir.\n  var d = path.dirname(p)\n\n  endMadeDir_(self, d, function (er) {\n    if (er) return cb(er)\n    if (d === made) {\n      return cb()\n    }\n    endMadeDir(self, d, cb)\n  })\n}\n\nfunction endMadeDir_ (self, p, cb) {\n  var dirProps = {}\n  Object.keys(self.props).forEach(function (k) {\n    dirProps[k] = self.props[k]\n\n    // only make non-readable dirs if explicitly requested.\n    if (k === 'mode' && self.type !== 'Directory') {\n      dirProps[k] = dirProps[k] | parseInt('0111', 8)\n    }\n  })\n\n  var todo = 3\n  var errState = null\n  fs.stat(p, function (er, current) {\n    if (er) return cb(errState = er)\n    endChmod(self, dirProps, current, p, next)\n    endChown(self, dirProps, current, p, next)\n    endUtimes(self, dirProps, current, p, next)\n  })\n\n  function next (er) {\n    if (errState) return\n    if (er) return cb(errState = er)\n    if (--todo === 0) return cb()\n  }\n}\n\nWriter.prototype.pipe = function () {\n  this.error(\"Can't pipe from writable stream\")\n}\n\nWriter.prototype.add = function () {\n  this.error(\"Can't add to non-Directory type\")\n}\n\nWriter.prototype.write = function () {\n  return true\n}\n\nfunction objectToString (d) {\n  return Object.prototype.toString.call(d)\n}\n\nfunction isDate (d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]'\n}\n","exports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar fs = require(\"fs\")\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b, 'en')\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n  self.fs = options.fs || fs\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    self.fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  self.fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    self.fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return self.fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) || isAbsolute(pattern.join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = this.fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, this.fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = this.fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = this.fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readdir(path, options, cb)\n\n    function go$readdir (path, options, cb, startTime) {\n      return fs$readdir(path, options, function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readdir, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      })\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict'\n\nvar listenerCount = require('events').listenerCount\n// listenerCount isn't in node 0.10, so here's a basic polyfill\nlistenerCount = listenerCount || function (ee, event) {\n  var listeners = ee && ee._events && ee._events[event]\n  if (Array.isArray(listeners)) {\n    return listeners.length\n  } else if (typeof listeners === 'function') {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nmodule.exports = listenerCount\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = { sep: '/' }\ntry {\n  path = require('path')\n} catch (er) {}\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  a = a || {}\n  b = b || {}\n  var t = {}\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return minimatch\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig.minimatch(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  if (!def || !Object.keys(def).length) return Minimatch\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  // \"\" only matches \"\"\n  if (pattern.trim() === '') return p === ''\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  if (typeof pattern !== 'string') {\n    throw new TypeError('glob pattern string required')\n  }\n\n  if (!options) options = {}\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  // don't do it more than once.\n  if (this._made) return\n\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = console.error\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  if (typeof pattern === 'undefined') {\n    throw new TypeError('undefined pattern')\n  }\n\n  if (options.nobrace ||\n    !pattern.match(/\\{.*\\}/)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  if (pattern.length > 1024 * 64) {\n    throw new TypeError('pattern is too long')\n  }\n\n  var options = this.options\n\n  // shortcuts\n  if (!options.noglobstar && pattern === '**') return GLOBSTAR\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      case '/':\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        if (inClass) {\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          var cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + cs + ']')\n          } catch (er) {\n            // not a valid class!\n            var sp = this.parse(cs, SUBPARSE)\n            re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n            hasMagic = hasMagic || sp[1]\n            inClass = false\n            continue\n          }\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '.':\n    case '[':\n    case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = match\nfunction match (f, partial) {\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      if (options.nocase) {\n        hit = f.toLowerCase() === p.toLowerCase()\n      } else {\n        hit = f === p\n      }\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    var emptyFileEnd = (fi === fl - 1) && (file[fi] === '')\n    return emptyFileEnd\n  }\n\n  // should be unreachable.\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","var path = require('path');\nvar fs = require('fs');\nvar _0777 = parseInt('0777', 8);\n\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\n\nfunction mkdirP (p, opts, f, made) {\n    if (typeof opts === 'function') {\n        f = opts;\n        opts = {};\n    }\n    else if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n    \n    var cb = f || function () {};\n    p = path.resolve(p);\n    \n    xfs.mkdir(p, mode, function (er) {\n        if (!er) {\n            made = made || p;\n            return cb(null, made);\n        }\n        switch (er.code) {\n            case 'ENOENT':\n                if (path.dirname(p) === p) return cb(er);\n                mkdirP(path.dirname(p), opts, function (er, made) {\n                    if (er) cb(er, made);\n                    else mkdirP(p, opts, cb, made);\n                });\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                xfs.stat(p, function (er2, stat) {\n                    // if the stat fails, then that's super weird.\n                    // let the original error be the failure reason.\n                    if (er2 || !stat.isDirectory()) cb(er, made)\n                    else cb(null, made);\n                });\n                break;\n        }\n    });\n}\n\nmkdirP.sync = function sync (p, opts, made) {\n    if (!opts || typeof opts !== 'object') {\n        opts = { mode: opts };\n    }\n    \n    var mode = opts.mode;\n    var xfs = opts.fs || fs;\n    \n    if (mode === undefined) {\n        mode = _0777\n    }\n    if (!made) made = null;\n\n    p = path.resolve(p);\n\n    try {\n        xfs.mkdirSync(p, mode);\n        made = made || p;\n    }\n    catch (err0) {\n        switch (err0.code) {\n            case 'ENOENT' :\n                made = sync(path.dirname(p), opts, made);\n                sync(p, opts, made);\n                break;\n\n            // In the case of any other error, just see if there's a dir\n            // there already.  If so, then hooray!  If not, then something\n            // is borked.\n            default:\n                var stat;\n                try {\n                    stat = xfs.statSync(p);\n                }\n                catch (err1) {\n                    throw err0;\n                }\n                if (!stat.isDirectory()) throw err0;\n                break;\n        }\n    }\n\n    return made;\n};\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('stream');\n","var Stream = require('stream');\nif (process.env.READABLE_STREAM === 'disable' && Stream) {\n  module.exports = Stream;\n  exports = module.exports = Stream.Readable;\n  exports.Readable = Stream.Readable;\n  exports.Writable = Stream.Writable;\n  exports.Duplex = Stream.Duplex;\n  exports.Transform = Stream.Transform;\n  exports.PassThrough = Stream.PassThrough;\n  exports.Stream = Stream;\n} else {\n  exports = module.exports = require('./lib/_stream_readable.js');\n  exports.Stream = Stream || exports;\n  exports.Readable = exports;\n  exports.Writable = require('./lib/_stream_writable.js');\n  exports.Duplex = require('./lib/_stream_duplex.js');\n  exports.Transform = require('./lib/_stream_transform.js');\n  exports.PassThrough = require('./lib/_stream_passthrough.js');\n}\n","module.exports = rimraf\nrimraf.sync = rimrafSync\n\nvar assert = require(\"assert\")\nvar path = require(\"path\")\nvar fs = require(\"fs\")\nvar glob = undefined\ntry {\n  glob = require(\"glob\")\n} catch (_err) {\n  // treat glob as optional.\n}\nvar _0666 = parseInt('666', 8)\n\nvar defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nvar timeout = 0\n\nvar isWindows = (process.platform === \"win32\")\n\nfunction defaults (options) {\n  var methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(function(m) {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  if (options.disableGlob !== true && glob === undefined) {\n    throw Error('glob dependency not found, set `options.disableGlob = true` if intentional')\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nfunction rimraf (p, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  var busyTries = 0\n  var errState = null\n  var n = 0\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, function (er, stat) {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n  function next (er) {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  function afterGlob (er, results) {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(function (p) {\n      rimraf_(p, options, function CB (er) {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            var time = busyTries * 100\n            // try again, with the same exact callback as this one.\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, time)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(function () {\n              rimraf_(p, options, CB)\n            }, timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      })\n    })\n  }\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nfunction rimraf_ (p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, function (er, st) {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, function (er) {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nfunction fixWinEPERM (p, options, er, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n  if (er)\n    assert(er instanceof Error)\n\n  options.chmod(p, _0666, function (er2) {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, function(er3, stats) {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nfunction fixWinEPERMSync (p, options, er) {\n  assert(p)\n  assert(options)\n  if (er)\n    assert(er instanceof Error)\n\n  try {\n    options.chmodSync(p, _0666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  try {\n    var stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nfunction rmdir (p, options, originalEr, cb) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, function (er) {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nfunction rmkids(p, options, cb) {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, function (er, files) {\n    if (er)\n      return cb(er)\n    var n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    var errState\n    files.forEach(function (f) {\n      rimraf(path.join(p, f), options, function (er) {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nfunction rimrafSync (p, options) {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  var results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (var i = 0; i < results.length; i++) {\n    var p = results[i]\n\n    try {\n      var st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nfunction rmdirSync (p, options, originalEr) {\n  assert(p)\n  assert(options)\n  if (originalEr)\n    assert(originalEr instanceof Error)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nfunction rmkidsSync (p, options) {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(function (f) {\n    rimrafSync(path.join(p, f), options)\n  })\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  var retries = isWindows ? 100 : 1\n  var i = 0\n  do {\n    var threw = true\n    try {\n      var ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","module.exports = Traverse;\nfunction Traverse (obj) {\n    if (!(this instanceof Traverse)) return new Traverse(obj);\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!Object.hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!Object.hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.deepEqual = function (obj) {\n    if (arguments.length !== 1) {\n        throw new Error(\n            'deepEqual requires exactly one object to compare against'\n        );\n    }\n    \n    var equal = true;\n    var node = obj;\n    \n    this.forEach(function (y) {\n        var notEqual = (function () {\n            equal = false;\n            //this.stop();\n            return undefined;\n        }).bind(this);\n        \n        //if (node === undefined || node === null) return notEqual();\n        \n        if (!this.isRoot) {\n        /*\n            if (!Object.hasOwnProperty.call(node, this.key)) {\n                return notEqual();\n            }\n        */\n            if (typeof node !== 'object') return notEqual();\n            node = node[this.key];\n        }\n        \n        var x = node;\n        \n        this.post(function () {\n            node = x;\n        });\n        \n        var toS = function (o) {\n            return Object.prototype.toString.call(o);\n        };\n        \n        if (this.circular) {\n            if (Traverse(obj).get(this.circular.path) !== x) notEqual();\n        }\n        else if (typeof x !== typeof y) {\n            notEqual();\n        }\n        else if (x === null || y === null || x === undefined || y === undefined) {\n            if (x !== y) notEqual();\n        }\n        else if (x.__proto__ !== y.__proto__) {\n            notEqual();\n        }\n        else if (x === y) {\n            // nop\n        }\n        else if (typeof x === 'function') {\n            if (x instanceof RegExp) {\n                // both regexps on account of the __proto__ check\n                if (x.toString() != y.toString()) notEqual();\n            }\n            else if (x !== y) notEqual();\n        }\n        else if (typeof x === 'object') {\n            if (toS(y) === '[object Arguments]'\n            || toS(x) === '[object Arguments]') {\n                if (toS(x) !== toS(y)) {\n                    notEqual();\n                }\n            }\n            else if (x instanceof Date || y instanceof Date) {\n                if (!(x instanceof Date) || !(y instanceof Date)\n                || x.getTime() !== y.getTime()) {\n                    notEqual();\n                }\n            }\n            else {\n                var kx = Object.keys(x);\n                var ky = Object.keys(y);\n                if (kx.length !== ky.length) return notEqual();\n                for (var i = 0; i < kx.length; i++) {\n                    var k = kx[i];\n                    if (!Object.hasOwnProperty.call(y, k)) {\n                        notEqual();\n                    }\n                }\n            }\n        }\n    });\n    \n    return equal;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            Object.keys(src).forEach(function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents.slice(-1)[0],\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n            },\n            'delete' : function () {\n                delete state.parent.node[state.key];\n            },\n            remove : function () {\n                if (Array.isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n            },\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false }\n        };\n        \n        if (!alive) return state;\n        \n        if (typeof node === 'object' && node !== null) {\n            state.isLeaf = Object.keys(node).length == 0;\n            \n            for (var i = 0; i < parents.length; i++) {\n                if (parents[i].node_ === node_) {\n                    state.circular = parents[i];\n                    break;\n                }\n            }\n        }\n        else {\n            state.isLeaf = true;\n        }\n        \n        state.notLeaf = !state.isLeaf;\n        state.notRoot = !state.isRoot;\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            var keys = Object.keys(state.node);\n            keys.forEach(function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && Object.hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nObject.keys(Traverse.prototype).forEach(function (key) {\n    Traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (Array.isArray(src)) {\n            dst = [];\n        }\n        else if (src instanceof Date) {\n            dst = new Date(src);\n        }\n        else if (src instanceof Boolean) {\n            dst = new Boolean(src);\n        }\n        else if (src instanceof Number) {\n            dst = new Number(src);\n        }\n        else if (src instanceof String) {\n            dst = new String(src);\n        }\n        else {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        \n        Object.keys(src).forEach(function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n","import TypedEmitter from \"typed-emitter\";\r\n\r\nexport enum TelemetryEventNames {\r\n  EXTENSION_ACTIVATED = \"wlc/extension-activated\",\r\n  COMPLETION_PROVIDER_CALLED = \"wlc/completion-provider-called\",\r\n  COMPLETION_PROVIDER_CANCEL_REQUESTED = \"wlc/completion-provider-cancel-requested\",\r\n  COMPLETION_SHOWN = \"wlc/completion-shown\",\r\n  COMPLETION_ACCEPTED = \"wlc/completion-accepted\",\r\n  COMPLETION_REJECTED = \"wlc/completion-rejected\",\r\n  COMPLETION_REQUEST = \"wlc/completion-request\",\r\n  CACHE_STORE = \"wlc/cache-store\",\r\n  CACHE_ACCESS = \"wlc/cache-access\",\r\n  UNEXPECTED_EXCEPTION = \"wlc/unexpected-exception\",\r\n  EXTENSION_ACTIVATION_FAULT = \"wlc/extension-activation-fault\",\r\n  COPILOT_ENABLED = \"wlc/copilot-enabled\",\r\n  UNSUPPORTED_ARCH = \"wlc/unsupported-arch\",\r\n  EMPTY_EXTENSION_ACTIVATION_FAULT = \"wlc/empty-extension-activation-fault\",\r\n  COPILOT_DISABLED_AFTER_BEING_ENABLED = \"wlc/copilot-disabled-after-being-enabled\",\r\n}\r\n\r\nexport enum TelemetryPropertyNames {\r\n  EVENT_RESULT = \"wlc.Result\",\r\n  EVENT_MESSAGE = \"wlc.Message\",\r\n  EVENT_EXCEPTION_STACK = \"wlc.ExceptionStack\",\r\n  FAULT_TYPE = \"wlc.FaultType\",\r\n  IS_INTERNAL = \"vscode.isinternal\",\r\n  CACHE_HIT = \"wlc.CacheHit\",\r\n  LANGUAGE_ID = \"wlc.LanguageId\",\r\n  PROCESS_ARCH_PLATFORM = \"wlc.process.archPlatform\",\r\n}\r\n\r\nexport enum TelemetryMeasureNames {\r\n  CORRELATION_ID = \"wlc.CorrelationId\",\r\n  EVENT_DURATION = \"wlc.Duration\",\r\n  TIME_SINCE_LAST_PROVIDE = \"wlc.TimeSinceLastProvide\",\r\n  TIME_TIL_CANCEL_REQ = \"wlc.TimeTilCancelReq\",\r\n  NUM_REC = \"wlc.NumberOfRecommendations\",\r\n  SEARCH_DEPTH = \"wlc.SearchDepth\",\r\n  COMPLETION_LENGTH = \"wlc.CompletionLength\",\r\n  CONFIDENCE_THRESHOLD = \"wlc.ConfidenceThreshold\",\r\n  FIRST_TOKEN_SCORE = \"wlc.FirstTokenScore\",\r\n  CUMULATIVE_LAST_TOKEN_SCORE = \"wlc.CumulativeLastTokenScore\",\r\n  LENGTH_PENALIZED_LAST_TOKEN_SCORE = \"wlc.LengthPenalizedLastTokenScore\",\r\n  TOKEN_COUNT = \"wlc.TokenCount\",\r\n  SNIPPET_PLACEHOLDER_COUNT = \"wlc.SnippetPlaceholderCount\",\r\n}\r\n\r\ntype TelemetryEvent = {\r\n  /**\r\n   * Telemetry specific event emitter.\r\n   * Users will attach on to this event by listening for specific telemetry event names.\r\n   * Hence only properties and measures will be passed as a parameter to the attached onEvent functions.\r\n   *\r\n   * Refer to below for notation:\r\n   * https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#template-literal-types\r\n   */\r\n  [eventName in `${TelemetryEventNames}`]: (telemetryBody: {\r\n    properties?: {\r\n      [propertyName in `${TelemetryPropertyNames}`]?: string;\r\n    };\r\n    measures?: {\r\n      [measureName in `${TelemetryMeasureNames}`]?: number;\r\n    };\r\n  }) => void;\r\n} & {\r\n  /**\r\n   * This event is to be emitted whenever any telemetry is sent.\r\n   * Hence it'll pass in the telemetry event name as a parameter to the attached onEvent functions.\r\n   */\r\n  telemetrySent: (telemetryBody: {\r\n    telemetryEventName: string;\r\n    properties?: {\r\n      [propertyName in `${TelemetryPropertyNames}`]?: string;\r\n    };\r\n    measures?: {\r\n      [measureName in `${TelemetryMeasureNames}`]?: number;\r\n    };\r\n  }) => void;\r\n};\r\n\r\nexport type TelemetryEventEmitter = TypedEmitter<TelemetryEvent>;\r\n","// Entry ring 0: Do not import anything VSCode specific or architecture specific in this file.\r\nimport { env } from \"process\";\r\nimport { isMainThread } from \"worker_threads\";\r\n\r\n/**\r\n * Filename of the entry point.\r\n * In a webpack bundle, this is the bundle's filename.\r\n * In tests, this should be entry.js.\r\n */\r\nexport const ENTRY_FILENAME = __filename;\r\n\r\n/*\r\nThis extension's bundle switches between two entry points.\r\n1. A VSCode extension, lazily created when activate() is called by VSCode\r\n2. A worker thread, which the extension may instantiate.\r\n*/\r\n\r\nlet vscodeExtensionEntry: any = undefined;\r\n\r\nfunction activate(context: any) {\r\n  if (vscodeExtensionEntry === undefined) {\r\n    // the use of require() loads the vscode-specific file as late as possible\r\n    vscodeExtensionEntry = require(\"./vscodeExtension/vscodeExtensionEntry\");\r\n  }\r\n  return vscodeExtensionEntry.activate(context);\r\n}\r\n\r\nfunction deactivate() {\r\n  if (vscodeExtensionEntry !== undefined) {\r\n    return vscodeExtensionEntry.deactivate();\r\n  }\r\n}\r\n\r\nexport { activate, deactivate };\r\n\r\n// If the worker thread isn't launching,\r\n// build the bundle, and run it with node while having the below env variable set\r\n// to find issues with unavailable imports (such as `vscode`)\r\nif (!isMainThread || env.FORCE_WORKER_THREAD_ENTRY) {\r\n  import(\"./workerThread/inferenceWorker\").then((w) => {\r\n    w.main();\r\n  });\r\n}\r\n","import { join } from \"path\";\r\n\r\nconst libFolder = join(__dirname, \"lib\");\r\nconst modelFolder = join(__dirname, \"model\");\r\n\r\nexport { libFolder, modelFolder };\r\n","import { EOL } from \"os\";\r\nimport { performance } from \"perf_hooks\";\r\nimport { ICompletionResultCallback } from \"./completionResultCallback\";\r\nimport HashTrie from \"./hashTrie\";\r\nimport { ILoggingService, LogLevel } from \"../services/logging\";\r\nimport { END_OF_LINE } from \"../services/normalization\";\r\nimport { extractCompletionPlaceholder } from \"../utils/document\";\r\nimport { ITelemetrySender } from \"../services/telemetry/sender\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryMeasureNames,\r\n  TelemetryPropertyNames,\r\n} from \"../@types/telemetry\";\r\n\r\nconst litTokenRegex = new RegExp(\"^<(NUM|STR|CHAR|REGEX)_LIT\");\r\nconst punctuationSet = new Set([\r\n  \".\",\r\n  \",\",\r\n  \"/\",\r\n  \"#\",\r\n  \"!\",\r\n  \"$\",\r\n  \"%\",\r\n  \"^\",\r\n  \"&\",\r\n  \"*\",\r\n  \";\",\r\n  \":\",\r\n  \"=\",\r\n  \"\\\\\",\r\n  \"-\",\r\n  \"~\",\r\n  \"(\",\r\n  \")\",\r\n  \"{\",\r\n  \"}\",\r\n  \"[\",\r\n  \"]\",\r\n]);\r\n\r\nexport class CompletionState implements ICompletionResultCallback {\r\n  public cacheTrie: HashTrie = new HashTrie();\r\n\r\n  public constructor(\r\n    private Logger?: ILoggingService,\r\n    private Telemetry?: ITelemetrySender\r\n  ) {}\r\n\r\n  /**\r\n   * Expects the scores inside completions to be raw cumulative scores.\r\n   * However, when storing them, it'll store them as individual token scores.\r\n   * @param normContext Normalized context to associate completions with\r\n   * @param completions Completions in score-token pair format\r\n   * @param logConfidenceThreshold If the length penalized last token score is under this threshold, that beam will not be stored in the cache\r\n   * @param lengthPenalty A value larger than 1 rewards longer recommendations, and a value smaller than 1 penalizes it.\r\n   * @returns Number of completions that were accepted into cache\r\n   */\r\n  public setLineCompletions(\r\n    requestId: number,\r\n    normContext: string,\r\n    completions: [number | number[], string[]][],\r\n    logConfidenceThreshold: number,\r\n    lengthPenalty: number\r\n  ): Promise<number> {\r\n    const logPrefix = `[CompletionState.setLineCompletion() ${requestId}] `;\r\n    let numAccepted = 0;\r\n    const start = performance.now();\r\n\r\n    for (let i = 0; i < completions.length; i++) {\r\n      const [cumulativeScore, tokens] = completions[i];\r\n\r\n      const cumulativeScoreArray = this.ensureCumulativeScoresAreArray(\r\n        cumulativeScore,\r\n        tokens.length\r\n      );\r\n\r\n      const [suggestions, confidence] = this.truncate(\r\n        tokens,\r\n        cumulativeScoreArray\r\n      );\r\n\r\n      // Check the final log confidence value\r\n      const lastTokenLogConfidence = penalizedLogConfidence(\r\n        confidence[confidence.length - 1],\r\n        confidence.length,\r\n        lengthPenalty\r\n      );\r\n      if (lastTokenLogConfidence < logConfidenceThreshold) {\r\n        this.Logger?.write(\r\n          LogLevel.INFO,\r\n          `${logPrefix}Rejecting Suggestion:\\n\\t` +\r\n            `Last penalized log confidence: ${lastTokenLogConfidence} < ${logConfidenceThreshold}\\n\\t` +\r\n            `Suggestion: ${suggestions}`\r\n        );\r\n        continue;\r\n      } else {\r\n        this.Logger?.write(\r\n          LogLevel.INFO,\r\n          `${logPrefix}Accepting Suggestion:\\n\\t` +\r\n            `Last penalized log confidence: ${lastTokenLogConfidence} >= ${logConfidenceThreshold}\\n\\t` +\r\n            `Suggestion: ${suggestions}`\r\n        );\r\n      }\r\n\r\n      // Suggestion is good. Prepare to cache.\r\n      const individualScorePerToken = this.calculateIndividualScore(confidence);\r\n      if (suggestions[suggestions.length - 1] === END_OF_LINE) {\r\n        suggestions[suggestions.length - 1] = \"\\n\"; // Change <endofline> into \\n\r\n      }\r\n\r\n      let prefix = normContext;\r\n\r\n      if (normContext.endsWith(\"\\n\")) {\r\n        suggestions[0] = suggestions[0].trimLeft();\r\n      }\r\n      for (let i = 0; i < suggestions.length; i++) {\r\n        const remainingSuggestions = suggestions.slice(i);\r\n        const remainingScores = individualScorePerToken.slice(i);\r\n\r\n        const currentSuggestion = remainingSuggestions[0];\r\n        if (this.isMaskToken(currentSuggestion)) {\r\n          this.cacheTrie.insert(prefix, remainingSuggestions, remainingScores);\r\n          prefix += currentSuggestion;\r\n        } else {\r\n          for (let j = 0; j < currentSuggestion.length; j++) {\r\n            this.cacheTrie.insert(\r\n              prefix,\r\n              remainingSuggestions,\r\n              remainingScores\r\n            );\r\n            if (currentSuggestion) {\r\n              prefix += currentSuggestion[j];\r\n            }\r\n            remainingSuggestions[0] = currentSuggestion.slice(j + 1);\r\n          }\r\n        }\r\n      }\r\n\r\n      numAccepted += 1;\r\n    }\r\n    const end = performance.now();\r\n    this.Telemetry?.sendTelemetryEvent(\r\n      TelemetryEventNames.CACHE_STORE,\r\n      {},\r\n      {\r\n        [TelemetryMeasureNames.EVENT_DURATION]: end - start,\r\n        // [TODO] Add memory consumption if possible\r\n      }\r\n    );\r\n    return Promise.resolve(numAccepted);\r\n  }\r\n\r\n  /**\r\n   * Returns best recommendation from cache.\r\n   * Will return empty string if recommendation to short or doesn't exist.\r\n   * @param context Normalized context to check cache for\r\n   * @param firstTokenConfidenceThreshold Will only return a completion if the first token is above this confidence\r\n   * @param logCutoffConfidence Will trucate recommendation when it falls below given confidence\r\n   * @returns Recommendation and relevant metadata if in cache.\r\n   */\r\n  public getLineCompletion(\r\n    context: string,\r\n    firstTokenConfidenceThreshold: number,\r\n    logCutoffConfidence: number\r\n  ) {\r\n    const start = performance.now();\r\n    const [suggestedSuffix, firstTokenScore, cumulativeLastScore, tokenCount] =\r\n      this.cacheTrie.getBestSuffix(\r\n        context,\r\n        firstTokenConfidenceThreshold,\r\n        logCutoffConfidence\r\n      );\r\n    const bestSuffix = suggestedSuffix.replace(/\\n/g, EOL);\r\n    const end = performance.now();\r\n    this.Telemetry?.sendTelemetryEvent(\r\n      TelemetryEventNames.CACHE_ACCESS,\r\n      {\r\n        [TelemetryPropertyNames.CACHE_HIT]: (bestSuffix\r\n          ? true\r\n          : false\r\n        ).toString(),\r\n      },\r\n      { [TelemetryMeasureNames.EVENT_DURATION]: end - start }\r\n    );\r\n    return {\r\n      bestCompletion: bestSuffix,\r\n      metadata: {\r\n        firstTokenScore: firstTokenScore,\r\n        cumulativeLastScore: cumulativeLastScore,\r\n        tokenCount: tokenCount,\r\n      },\r\n    };\r\n  }\r\n\r\n  public getCacheTrieNode(prefix: string) {\r\n    // prefix = normalizeCode(prefix);\r\n    return this.cacheTrie.prefixMapping.get(prefix);\r\n  }\r\n\r\n  private calculateIndividualScore(cumulativeScores: number[]): number[] {\r\n    let individualScorePerToken: number[] = [cumulativeScores[0]];\r\n    for (let i = 1; i < cumulativeScores.length; i++) {\r\n      individualScorePerToken.push(\r\n        cumulativeScores[i] - cumulativeScores[i - 1]\r\n      );\r\n    }\r\n    return individualScorePerToken;\r\n  }\r\n\r\n  private ensureCumulativeScoresAreArray(\r\n    cumulativeScores: number | number[],\r\n    completionLength: number\r\n  ): number[] {\r\n    if (typeof cumulativeScores === \"number\") {\r\n      return new Array(completionLength).fill(cumulativeScores);\r\n    }\r\n\r\n    return cumulativeScores;\r\n  }\r\n\r\n  /**\r\n   * Truncates the padded END_OF_LINE tokens away.\r\n   * The first array returned is guaranteed to only have at most 1 END_OF_LINE token at the very end.\r\n   * The second array will be the scores array truncated down to the same length.\r\n   * @param tokens\r\n   * @param tokenScores\r\n   * @returns Both input arrays truncated\r\n   */\r\n  private truncate(\r\n    tokens: string[],\r\n    tokenScores: number[]\r\n  ): [string[], number[]] {\r\n    if (tokens.length !== tokenScores.length) {\r\n      throw new Error(\r\n        `[CompletionState.truncatePaddedEol()] Token/Confidence length mismatch. ` +\r\n          `Check that the arrays passed in are of the same length`\r\n      );\r\n    }\r\n\r\n    const truncationIndex = tokens.indexOf(END_OF_LINE);\r\n    if (truncationIndex === -1) {\r\n      // There are no EOLs, so truncate on last punctuation instead.\r\n      const punctuationIndex = this.findLastPunctuation(tokens);\r\n      if (punctuationIndex === -1) {\r\n        return [tokens, tokenScores];\r\n      } else {\r\n        return [\r\n          tokens.slice(0, punctuationIndex + 1),\r\n          tokenScores.slice(0, punctuationIndex + 1),\r\n        ];\r\n      }\r\n    }\r\n\r\n    return [\r\n      tokens.slice(0, truncationIndex + 1),\r\n      tokenScores.slice(0, truncationIndex + 1),\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Checks the array to return the index of the last punctuation token.\r\n   * @param tokens String array to check\r\n   * @returns Index of the last punctuation. -1 if no punctuation.\r\n   */\r\n  private findLastPunctuation(tokens: string[]) {\r\n    for (let i = tokens.length - 1; i >= 0; i--) {\r\n      if (punctuationSet.has(tokens[i])) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /**\r\n   * Heuristic way of checking if a token is a \"mask token\"\r\n   * <unk>, <endofline>, <STR_LIT>, <REGEX_LIT> are examples of \"mask tokens\".\r\n   *\r\n   * @param s String to check\r\n   * @returns Whether passed string is a mask token or not\r\n   */\r\n  private isMaskToken(s: string): boolean {\r\n    return s.startsWith(\"<\") && s.endsWith(\">\");\r\n  }\r\n\r\n  /**\r\n   * Only expects \"mask tokens\" to be passed in.\r\n   * Always check this.isMaskToken() before passing in string.\r\n   *\r\n   * NOTE: Always ignores following tokens.\r\n   * <unk> <endoftext> <endoffunc> <DEDENT> <INDENT>\r\n   * @param s Mask token to unmask\r\n   * @returns Unmasked version of mask token\r\n   */\r\n  private getUnmaskedToken(s: string): string {\r\n    if (litTokenRegex.test(s)) {\r\n      return extractCompletionPlaceholder(s).completionString;\r\n    }\r\n    if (s === \"<endofline>\") {\r\n      return \"\\n\";\r\n    }\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * @param cumulativeScore Cumulative score of all tokens up to the target token\r\n * @param length How many tokens were produced including target token\r\n * @param lengthPenalty Length penalty. If this value > 1, shorter recommendations are penalized.\r\n * @returns Log confidence with length penalty applied\r\n */\r\nexport function penalizedLogConfidence(\r\n  cumulativeScore: number,\r\n  length: number,\r\n  lengthPenalty: number\r\n): number {\r\n  return cumulativeScore / Math.pow(length, lengthPenalty);\r\n}\r\n","import * as LRUCache from \"lru-cache\";\r\nimport * as uuid from \"uuid\";\r\nimport { createHash } from \"crypto\";\r\nimport { GraphData } from \"../vscodeExtension/visualization/graphData\";\r\nimport { Edge, IdType, Node } from \"vis-network\";\r\n\r\nexport default class HashTrie {\r\n  public prefixMapping = new LRUCache<string, TrieNode>(1000);\r\n\r\n  /**\r\n   * Stores suffixes in a Trie cache relating each to the correct prefix.\r\n   * @param prefix\r\n   * @param suffix\r\n   * @param score Log confidence scores\r\n   */\r\n  public insert(prefix: string, suffix: string[], score: number[]) {\r\n    let val = this.prefixMapping.get(prefix);\r\n    if (!val) {\r\n      val = new TrieNode();\r\n      this.prefixMapping.set(prefix, val);\r\n    }\r\n    val.insert(suffix, score);\r\n  }\r\n\r\n  public getAllSuffixes(prefix: string, minLength: number) {\r\n    const val = this.prefixMapping.get(prefix);\r\n    if (val) {\r\n      const suffixes: string[] = [];\r\n      val.getAllSuffixes(suffixes);\r\n      return suffixes.filter((s) => s.length > minLength);\r\n    } else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param prefix Context to look for\r\n   * @param firstTokenThreshold Don't search unless first token's score is above this value\r\n   * @param logCutoff Log confidence threshold to stop searching the tree\r\n   * @returns [bestRecommendation, firstTokenScore, cumulativeFinalTokenScore, tokenCount]\r\n   */\r\n  public getBestSuffix(\r\n    prefix: string,\r\n    firstTokenThreshold: number,\r\n    logCutoff: number\r\n  ): [string, number, number, number] {\r\n    const val: TrieNode | undefined = this.prefixMapping.get(prefix);\r\n\r\n    if (!val) {\r\n      return [\"\", 0, 0, 0];\r\n    }\r\n    const firstTokenScore = val.getBestChild().score;\r\n    if (firstTokenScore > firstTokenThreshold) {\r\n      const [suggestion, lastTokenCumulativeScore, tokenCount] =\r\n        val.getBestSuffix(logCutoff);\r\n      return [\r\n        suggestion,\r\n        firstTokenScore,\r\n        lastTokenCumulativeScore,\r\n        tokenCount,\r\n      ];\r\n    } else {\r\n      return [\"\", firstTokenScore, 0, 0];\r\n    }\r\n  }\r\n}\r\n\r\nexport class TrieNode {\r\n  public char = \"\\0\";\r\n  public score = 0;\r\n\r\n  /**\r\n   * Children of this node, accessible by key.\r\n   */\r\n  public children: { [k: string]: TrieNode } = {};\r\n\r\n  constructor(char: string = \"\\0\", score = 0) {\r\n    this.char = char;\r\n    this.score = score;\r\n  }\r\n\r\n  public getBestChild(): TrieNode {\r\n    const children = Object.values(this.children);\r\n    // this is essentially a max function keying on the score\r\n    return children.reduce((best, curr) =>\r\n      best.score > curr.score ? best : curr\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Insert a child trie node containing a subtoken and its score\r\n   * @param s The subtoken to insert underneath this trie node\r\n   * @param score The new node's score\r\n   * @param i The index of the beginning of the subtoken within the overall string\r\n   */\r\n  public insert(s: string[], score: number[], i = 0) {\r\n    if (i < s.length) {\r\n      let currentToken = s[i];\r\n      let currentScore = score[i];\r\n\r\n      while (i < s.length && !currentToken) {\r\n        currentToken = s[++i];\r\n      }\r\n      if (\r\n        currentToken &&\r\n        currentToken !== \"<endofline>\" &&\r\n        currentToken !== \"<endoftext>\" &&\r\n        currentToken !== \"<unk>\"\r\n      ) {\r\n        let childName = createHash(\"sha1\")\r\n          .update(currentToken)\r\n          .digest(\"base64\");\r\n        if (!this.children.hasOwnProperty(childName)) {\r\n          this.children[childName] = new TrieNode(currentToken, currentScore);\r\n        } else if (this.children[childName].score !== currentScore) {\r\n          // Update probabilities assigned from older runs of the model\r\n          this.children[childName].score = currentScore;\r\n        }\r\n        this.children[childName].insert(s, score, i + 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  public getAllSuffixes(suffixes: string[], s: string = \"\") {\r\n    if (this.char !== \"\\0\") {\r\n      s += this.char;\r\n    }\r\n    if (this.hasNoChildren()) {\r\n      suffixes.push(s);\r\n    } else {\r\n      for (const [, v] of Object.entries(this.children)) {\r\n        v.getAllSuffixes(suffixes, s);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param logCutoff Log confidence threshold at which to stop searching tree\r\n   * @returns [bestRecommendation, cumulativeFinalTokenScore, tokenCount]\r\n   */\r\n  public getBestSuffix(logCutoff: number): [string, number, number] {\r\n    return this.getBestSuffixHelper(logCutoff);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param context context\r\n   * @param logCutoff Log confidence threshold to stop searching tree\r\n   * @returns best recommendation within cache\r\n   */\r\n  private getBestSuffixHelper(\r\n    logCutoff: number,\r\n    context: string = \"\",\r\n    cumulativeScore: number = 0,\r\n    tokenCount: number = 0\r\n  ): [string, number, number] {\r\n    if (this.char !== \"\\0\") {\r\n      context += this.char;\r\n      cumulativeScore += this.score;\r\n      tokenCount += 1;\r\n    }\r\n    if (this.hasNoChildren()) {\r\n      return [context, cumulativeScore, tokenCount];\r\n    }\r\n\r\n    const bestChild = this.getBestChild();\r\n    if (bestChild.score >= logCutoff) {\r\n      return bestChild.getBestSuffixHelper(\r\n        logCutoff,\r\n        context,\r\n        cumulativeScore,\r\n        tokenCount\r\n      );\r\n    } else {\r\n      // complete the string\r\n      let n: TrieNode = this;\r\n\r\n      while (n.char.match(/^[a-zA-Z0-9_]/)) {\r\n        n = this.getBestChild();\r\n\r\n        context += n.char;\r\n        cumulativeScore += n.score;\r\n        tokenCount += 1;\r\n        if (Object.entries(n.children).length === 0) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return [context, cumulativeScore, tokenCount];\r\n    }\r\n  }\r\n\r\n  public getTreeForVisualization() : GraphData {\r\n    const nodes: Node[] = [];\r\n    const edges: Edge[] = [];\r\n    this.populateVisualizationDataset(nodes, edges, undefined);\r\n\r\n    return {\r\n      nodes: nodes,\r\n      edges: edges,\r\n      options: {\r\n        autoResize: true,\r\n        height: '1200px',\r\n        clickToUse: false,\r\n        layout: {\r\n          hierarchical: {\r\n            direction: 'LR',\r\n            sortMethod: 'directed',\r\n            //levelSeparation: 400,\r\n            nodeSpacing: 50,\r\n          },\r\n        },\r\n        interaction: {\r\n          multiselect: true\r\n        },\r\n        nodes: {\r\n          color: {\r\n            highlight: {\r\n              border: '#FF0000'\r\n            }\r\n          },\r\n          size: 15,\r\n          font: {\r\n            size: 20,\r\n            color: '#000000',\r\n            face: 'sans-serif',\r\n            background: \"#FFFFFF00\",\r\n            align: \"center\",\r\n            strokeColor: \"#00000000\",\r\n            strokeWidth: 0,\r\n          },\r\n          shape: 'box'\r\n        },\r\n        physics: {\r\n          barnesHut: {\r\n            springConstant: 0,\r\n            avoidOverlap: 0.2\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  private populateVisualizationDataset(\r\n    nodes: Node[],\r\n    edges: Edge[],\r\n    parentId: IdType | undefined,\r\n    append = false\r\n  ) {\r\n    let nodeId;\r\n    if (append) {\r\n      nodes[nodes.length - 1].label += this.char;\r\n      nodeId = nodes[nodes.length - 1].id;\r\n    } else {\r\n      nodeId = uuid.v4();\r\n      const thisNode = {\r\n        id: nodeId,\r\n        // label: this.char === \"\\0\" ? \"<START>\" : this.char\r\n        label: `${\r\n          this.char === \"\\0\" ? \"<START>\" : this.char\r\n        } ${this.score.toExponential(2)}`,\r\n      };\r\n      nodes.push(thisNode);\r\n      if (parentId !== null) {\r\n        edges.push({ from: parentId, to: nodeId });\r\n      }\r\n    }\r\n\r\n    const childrenObjs = Object.entries(this.children);\r\n    for (const [, v] of childrenObjs) {\r\n      v.populateVisualizationDataset(\r\n        nodes,\r\n        edges,\r\n        nodeId,\r\n        false // this.char !== \"\\0\" && childrenObjs.length === 1\r\n      );\r\n    }\r\n  }\r\n\r\n  private hasNoChildren() {\r\n    return Object.keys(this.children).length === 0;\r\n  }\r\n\r\n  private leafCount() {\r\n    if (this.hasNoChildren()) {\r\n      return 1;\r\n    } else {\r\n      let sum = 0;\r\n      for (const [, v] of Object.entries(this.children)) {\r\n        sum += v.leafCount();\r\n      }\r\n      return sum;\r\n    }\r\n  }\r\n\r\n  private childCount() {\r\n    if (this.hasNoChildren()) {\r\n      return 1;\r\n    } else {\r\n      let sum = 1;\r\n      for (const [, v] of Object.entries(this.children)) {\r\n        sum += v.childCount();\r\n      }\r\n      return sum;\r\n    }\r\n  }\r\n\r\n  private getHeight() {\r\n    let depth = 0;\r\n    for (const child in this.children) {\r\n      const childDepth = this.children[child].getHeight();\r\n      if (depth < childDepth) {\r\n        depth = childDepth;\r\n      }\r\n    }\r\n    return depth + 1;\r\n  }\r\n}\r\n","import { ICompletionResultCallback } from \"../../resultCache/completionResultCallback\";\r\nimport { ILoggingService } from \"../logging\";\r\n\r\nexport abstract class AbstractCompletionService {\r\n  public constructor(protected Logger: ILoggingService) {}\r\n\r\n  public abstract request(\r\n    requestId: number,\r\n    context: string,\r\n    lang: string,\r\n    completionState: ICompletionResultCallback,\r\n    cancellationToken: { isCancellationRequested: boolean }\r\n  ): Promise<RequestResult>;\r\n\r\n  public abstract getFullName(): string;\r\n}\r\n\r\n/**\r\n * Different ways that a completion request can end.\r\n */\r\nexport enum RequestResult {\r\n  /**\r\n   * The request was successful.\r\n   */\r\n  Success,\r\n  /**\r\n   * The request was cancelled and exited early.\r\n   */\r\n  Cancelled,\r\n  /**\r\n   * The request took too long and timed out, exiting early.\r\n   */\r\n  TimedOut,\r\n  /**\r\n   * Something went wrong in an unexpected way that isn't covered by any of the other options.\r\n   */\r\n  Unknown,\r\n}\r\n","import { performance } from \"perf_hooks\";\r\nimport { OnnxModelWrapper } from \"../model/onnxModelWrapper\";\r\nimport { ILoggingService, LogLevel } from \"../logging\";\r\nimport { RequestResult } from \"./abstractCompletionService\";\r\nimport Settings from \"../settings/settings\";\r\nimport { join } from \"path\";\r\nimport { modelFolder } from \"../../resolvedPath\";\r\nimport { AbstractCompletionService } from \"./abstractCompletionService\";\r\nimport { ITelemetrySender } from \"../telemetry/sender\";\r\nimport { ICompletionResultCallback } from \"../../resultCache/completionResultCallback\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryMeasureNames,\r\n  TelemetryPropertyNames,\r\n} from \"../../@types/telemetry\";\r\n\r\nexport const modelPath = join(modelFolder, \"composeModelQuantized.onnx\");\r\nexport const configPath = join(modelFolder, \"metadata.json\");\r\nexport const tokenizerPath = join(modelFolder, \"bpe.bin\");\r\nexport const vocabPath = join(modelFolder, \"vocab.txt\");\r\n\r\nexport const blingfireRaceConditionErrMsg =\r\n  \"TypeError: Cannot read property 'W' of undefined\";\r\n\r\nconst NUM_RETRIES = 10;\r\n\r\nexport async function createLineCompletionServiceWithRetriesAsync(\r\n  settings: Settings,\r\n  telemetry: ITelemetrySender,\r\n  logger: ILoggingService\r\n) {\r\n  /**\r\n   * Currently Blingfire has a race condition due to emscripten.\r\n   * lib/blingfire_wrapper.js:LoadLocalModel():57 is what will cause the error to happen.\r\n   * This retry logic will counteract the race condition.\r\n   *\r\n   * FULL EXPLANATION:\r\n   * In lib/blingfire.js:1325, Module[\"_malloc\"] = Module[\"asm\"][\"W\"] is executed.\r\n   * However, it's possible that this is called too early and Module[\"asm\"] is NOT initialized.\r\n   * This is supposed to be initialized in blingfire.js:createWasm():439,\r\n   * but this function execution is asynchronous as it deals with compiling the binary .wasm file.\r\n   *\r\n   * The Module exported from blingfire has life cycle events one can use,\r\n   * namely onRuntimeInitialized, postRun, addOnPostRun, and the kind.\r\n   * However these life cycle events are designed to be hooked on to during emscripten compile time,\r\n   * thorugh build flags such as --pre-js <filename> or --post-js <filename>.\r\n   * Hooking on to those life cycle events during runtime puts us at another race condition risk of\r\n   * having attached to the event too late, leading to our function never being activated.\r\n   *\r\n   * UNEXPLORED PATHS:\r\n   * There exists at least two ways to make the instatiation process synchronous.\r\n   *   1. Build without Wasm in pure JS\r\n   *   2. Build with synchronous activation flag\r\n   * This path was left unexplored as not only did these require rebuilding blingfire,\r\n   * there was also no guarantee that synchronous instatiation would solve our issue.\r\n   * As long as blingfire_wrapper was how we interfaced with blingfire,\r\n   * the issue remains that we have no way to know what the progress is on instantiating the wasm.\r\n   */\r\n  for (let i = 0; i < NUM_RETRIES; i++) {\r\n    try {\r\n      let onnxModel = await OnnxModelWrapper.load(\r\n        modelPath,\r\n        configPath,\r\n        tokenizerPath,\r\n        vocabPath,\r\n        settings,\r\n        logger\r\n      );\r\n      return new LocalLineCompletionService(\r\n        onnxModel,\r\n        telemetry,\r\n        settings,\r\n        logger\r\n      );\r\n    } catch (e) {\r\n      if (!(e instanceof Error)) {\r\n        throw e;\r\n      }\r\n      if (e.message.split(\"\\n\")[1].startsWith(blingfireRaceConditionErrMsg)) {\r\n        await new Promise((resolve) => setTimeout(resolve, 100 * i));\r\n        continue;\r\n      } else {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n  throw new Error(\r\n    `Could not create line completion service after ${NUM_RETRIES} attempts`\r\n  );\r\n}\r\n\r\n/**\r\n * A service which uses OnnxModelWrapper in the current process to infer predictions from a model.\r\n */\r\nexport class LocalLineCompletionService extends AbstractCompletionService {\r\n  public constructor(\r\n    private onnxExec: OnnxModelWrapper,\r\n    private telemetry: ITelemetrySender,\r\n    private settings: Settings,\r\n    Logger: ILoggingService\r\n  ) {\r\n    super(Logger);\r\n  }\r\n\r\n  public async request(\r\n    requestId: number,\r\n    normalizedContext: string,\r\n    lang: string,\r\n    completionState: ICompletionResultCallback,\r\n    cancellationToken: { isCancellationRequested: boolean }\r\n  ): Promise<RequestResult> {\r\n    const logPrefix = `[LocalLineCompletionService.request() ${requestId}] `;\r\n\r\n    this.Logger.write(LogLevel.DEBUG, `${logPrefix} Entered`);\r\n    if (cancellationToken.isCancellationRequested) {\r\n      this.Logger.write(LogLevel.DEBUG, `${logPrefix} Cancelled at beginning`);\r\n      return RequestResult.Cancelled;\r\n    }\r\n    if (!normalizedContext) {\r\n      throw new Error(\"Normalized context is not set.\");\r\n    }\r\n    if (!this.onnxExec) {\r\n      throw new Error(\"OnnxExec is not ready.\");\r\n    }\r\n    const start = performance.now();\r\n\r\n    this.Logger.write(LogLevel.DEBUG, `${logPrefix} Fetching processed code`);\r\n    const end1 = performance.now();\r\n\r\n    this.Logger.write(\r\n      LogLevel.DEBUG,\r\n      `${logPrefix} going into onnxExec.decode()`\r\n    );\r\n\r\n    let numAccepted = 0;\r\n    let searchDepth = 0;\r\n    let genTime = performance.now();\r\n    for await (const pairedSuggestions of this.onnxExec.decodeGenerator(\r\n      normalizedContext,\r\n      this.settings.MAX_TOKENS_GENERATED,\r\n      this.settings.CACHE_FREQUENCY,\r\n      cancellationToken\r\n    )) {\r\n      if (cancellationToken.isCancellationRequested) {\r\n        this.Logger.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix} Cancelling within paired suggestion loop`\r\n        );\r\n        return RequestResult.Cancelled;\r\n      }\r\n      const beforeCacheTime = performance.now();\r\n      numAccepted = await completionState.setLineCompletions(\r\n        requestId,\r\n        normalizedContext,\r\n        pairedSuggestions,\r\n        this.settings.getLogConfidence(lang),\r\n        this.settings.WLC_RECOMMENDATION_LENGTH_PENALTY\r\n      );\r\n      searchDepth = pairedSuggestions[0][0].length;\r\n\r\n      const newTime = performance.now();\r\n      this.Logger.write(\r\n        LogLevel.INFO,\r\n        `${logPrefix} Process: ${end1 - start}\\tDecode: ${\r\n          newTime - genTime\r\n        }\\tCache: ${newTime - beforeCacheTime}`\r\n      );\r\n      genTime = newTime;\r\n    }\r\n\r\n    this.telemetry.sendTelemetryEvent(\r\n      TelemetryEventNames.COMPLETION_REQUEST,\r\n      {\r\n        [TelemetryPropertyNames.LANGUAGE_ID]: lang || \"unknown\",\r\n      },\r\n      {\r\n        [TelemetryMeasureNames.EVENT_DURATION]: performance.now() - end1,\r\n        [TelemetryMeasureNames.NUM_REC]: numAccepted,\r\n        [TelemetryMeasureNames.SEARCH_DEPTH]: searchDepth,\r\n        [TelemetryMeasureNames.CONFIDENCE_THRESHOLD]:\r\n          this.settings.CONFIDENCE_THRESHOLD,\r\n      }\r\n    );\r\n    // return pairedSuggestions[0][1].join(\"\");\r\n    return RequestResult.Success;\r\n  }\r\n\r\n  public getFullName(): string {\r\n    return \"Line-level code completion service\";\r\n  }\r\n\r\n  public getDefaultEndpoint(): string {\r\n    return \"0\";\r\n  }\r\n\r\n  public getDefaultTimeout(): number {\r\n    return 30000;\r\n  }\r\n}\r\n","import * as EventEmitter from \"events\";\r\nimport { Worker } from \"worker_threads\";\r\nimport { CompletionState } from \"../../resultCache/completionState\";\r\nimport { ILoggingService, LogLevel } from \"../logging\";\r\nimport { SettingsStorage } from \"../settings/settings\";\r\nimport {\r\n  CachingResultMessage,\r\n  Message,\r\n  RequestMessage,\r\n  ResponseMessage,\r\n  SettingsResponseMessage,\r\n} from \"../../workerThread/messages\";\r\nimport {\r\n  AbstractCompletionService,\r\n  RequestResult,\r\n} from \"./abstractCompletionService\";\r\nimport { ITelemetrySender } from \"../telemetry/sender\";\r\nimport { ENTRY_FILENAME } from \"../../entry\";\r\nimport { AwaitableMessageExchanger } from \"../../utils/awaitableMessageExchanger\";\r\nimport { ICompletionResultCallback } from \"../../resultCache/completionResultCallback\";\r\n\r\nconst logPrefix = \"[Worker thread] \";\r\n\r\nconst TIME_BUDGET_MS = 5000;\r\n\r\nexport async function initWorkerThreadCompletionService(\r\n  settingsStorage: SettingsStorage,\r\n  telemetry: ITelemetrySender,\r\n  logger: ILoggingService\r\n) {\r\n  return new WorkerThreadLineCompletionService(\r\n    logger,\r\n    telemetry,\r\n    settingsStorage\r\n  );\r\n}\r\n\r\n/**\r\n * An implementation of AbstractCompletionService which starts up a worker thread\r\n * and communicates with that to infer completions.\r\n * The worker thread is implemented with `localLineCompletionService`.\r\n */\r\nexport class WorkerThreadLineCompletionService extends AbstractCompletionService {\r\n  private worker: Worker | undefined;\r\n\r\n  private responseAwaiter: AwaitableMessageExchanger<RequestMessage, ResponseMessage>;\r\n\r\n  public constructor(\r\n    Logger: ILoggingService,\r\n    private telemetry: ITelemetrySender,\r\n    private settingsStorage: SettingsStorage\r\n  ) {\r\n    super(Logger);\r\n    this.responseAwaiter = new AwaitableMessageExchanger<RequestMessage, ResponseMessage>(m => this.worker?.postMessage(m));\r\n    try {\r\n      this.worker = new Worker(ENTRY_FILENAME, {});\r\n      this.worker.on(\"message\", (response) => {\r\n        this.handleMessage(<Message>response);\r\n      });\r\n    } catch (e) {\r\n      this.Logger.write(LogLevel.FATAL, `Couldn't create worker: ${e}`);\r\n      this.worker = undefined;\r\n    }\r\n  }\r\n\r\n  public async request(\r\n    requestId: number,\r\n    context: string,\r\n    lang: string,\r\n    completionState: ICompletionResultCallback,\r\n    cancellationToken: { isCancellationRequested: boolean }\r\n  ): Promise<RequestResult> {\r\n    const logPrefix = `[WorkerThreadLineCompletionService.request() ${requestId}] `;\r\n\r\n    this.Logger.write(LogLevel.DEBUG, `${logPrefix} Entered`);\r\n    const timeBudgetPromise: Promise<undefined> = new Promise(\r\n      (_resolve, reject) =>\r\n        setTimeout(() => {\r\n          reject(new Error(`Operation took longer than ${TIME_BUDGET_MS}ms.`));\r\n        }, TIME_BUDGET_MS)\r\n    );\r\n\r\n    const requestPromise: Promise<ResponseMessage> = (async () => {\r\n      const response = await this.responseAwaiter.exchange(\r\n        {\r\n          kind: \"RequestMessage\",\r\n          requestId: requestId,\r\n          normalizedContext: context,\r\n          lang: lang,\r\n        }\r\n      );\r\n\r\n      const numAccepted = await completionState.setLineCompletions(\r\n        response.requestId,\r\n        context,\r\n        response.completions,\r\n        response.logConfidenceThreshold,\r\n        response.lengthPenalty\r\n      );\r\n\r\n      // Tell worker how many completions were accepted into the cache.\r\n      const cacheResultReply: CachingResultMessage = {\r\n        kind: \"CachingResultMessage\",\r\n        requestId: response.requestId,\r\n        numAccepted: numAccepted\r\n      };\r\n      this.worker?.postMessage(cacheResultReply);\r\n      return response;\r\n    })();\r\n\r\n    const result = <Message | undefined>(\r\n      await Promise.race([requestPromise, timeBudgetPromise])\r\n    );\r\n\r\n    if (result === undefined) {\r\n      this.Logger.write(\r\n        LogLevel.INFO,\r\n        `${logPrefix}Request took too long and was cancelled.`\r\n      );\r\n      return RequestResult.TimedOut;\r\n    }\r\n\r\n    if (result.kind !== \"ResponseMessage\") {\r\n      this.Logger.write(\r\n        LogLevel.ERROR,\r\n        `${logPrefix}Response message was not the right kind: ${result}`\r\n      );\r\n      return RequestResult.Unknown;\r\n    }\r\n\r\n    if (cancellationToken.isCancellationRequested) {\r\n      this.Logger.write(\r\n        LogLevel.INFO,\r\n        `${logPrefix}Response was recieved, but the request was cancelled.`\r\n      );\r\n      return RequestResult.Cancelled;\r\n    }\r\n\r\n    this.Logger.write(LogLevel.DEBUG, `${logPrefix}Request succeeded`);\r\n    return RequestResult.Success;\r\n  }\r\n  public getFullName(): string {\r\n    return \"Line-level code completion service\";\r\n  }\r\n\r\n\r\n  /**\r\n   * Handle messages coming in from the worker thread, and act upon them.\r\n   * @param msg The message.\r\n   */\r\n  private handleMessage(msg: Message) {\r\n    switch (\r\n    msg.kind // Determine what kind of message it is. They all define the 'kind' property.\r\n    ) {\r\n      case \"LogMessage\":\r\n        this.Logger.write(msg.level, logPrefix + msg.message);\r\n        break;\r\n      case \"RequestMessage\":\r\n        this.Logger.write(\r\n          LogLevel.ERROR,\r\n          logPrefix + \"Request should not be sent by the worker thread.\"\r\n        );\r\n        break;\r\n      case \"ResponseMessage\":\r\n        // Match the received message back with the awaiting requester\r\n        this.responseAwaiter.handleReceivedMessage(msg);\r\n        break;\r\n      case \"TelemetryMessage\":\r\n        this.telemetry.sendTelemetryEvent(\r\n          msg.eventName,\r\n          msg.properties,\r\n          msg.measures\r\n        );\r\n        break;\r\n      case \"ErrorMessage\":\r\n        this.Logger.write(LogLevel.ERROR, logPrefix + msg.error);\r\n        break;\r\n      case \"SettingsRequestMessage\":\r\n        try {\r\n          const result = this.settingsStorage.get(\r\n            msg.section,\r\n            msg.key,\r\n            msg.default\r\n          );\r\n          this.Logger.write(\r\n            LogLevel.INFO,\r\n            `${logPrefix}Requested setting state for ${msg.section}.${msg.key} = ${result} (default is ${msg.default})`\r\n          );\r\n          const responseMessage: SettingsResponseMessage = {\r\n            kind: \"SettingsResponseMessage\",\r\n            section: msg.section,\r\n            key: msg.key,\r\n            value: result,\r\n          };\r\n          this.worker?.postMessage(responseMessage);\r\n        } catch (e) {\r\n          // Make another attempt to respond, if the actual setting wasn't sendable we should at least tell the worker thread to use the default.\r\n          this.Logger.write(\r\n            LogLevel.ERROR,\r\n            `${logPrefix} Failed to send settings for section ${msg.section} to worker thread: ${e}. Trying to send default.`\r\n          );\r\n          try {\r\n            const responseMessage: SettingsResponseMessage = {\r\n              kind: \"SettingsResponseMessage\",\r\n              section: msg.section,\r\n              key: msg.key,\r\n              value: msg.default,\r\n            };\r\n            this.worker?.postMessage(responseMessage);\r\n          } catch (e) {\r\n            this.Logger.write(\r\n              LogLevel.ERROR,\r\n              `${logPrefix} Sending default for ${msg.section} to worker thread also failed: ${e}.`\r\n            );\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n","/*! Copyright (c) Microsoft Corporation. All rights reserved. */\r\n\r\nimport { window } from \"vscode\";\r\nimport Settings from \"../settings/settings\";\r\nimport { VSCodeSettings } from \"../settings/vscodeSettings\";\r\nimport { ILoggingService, LogLevel } from \"./loggingService\";\r\n\r\nexport class VSCodeOutputLogger implements ILoggingService {\r\n  private static singleton: VSCodeOutputLogger;\r\n  private channel = window.createOutputChannel(\"IntelliCode Completions\");\r\n\r\n  private settings = new Settings(new VSCodeSettings());\r\n\r\n  public static get Instance(): VSCodeOutputLogger {\r\n    if (!VSCodeOutputLogger.singleton) {\r\n      VSCodeOutputLogger.singleton = new VSCodeOutputLogger();\r\n    }\r\n    return VSCodeOutputLogger.singleton;\r\n  }\r\n\r\n  public write(logLevel: LogLevel, str: string): void {\r\n    if (logLevel >= LogLevel[this.settings.LOG_LEVEL]) {\r\n      this.channel.appendLine(str);\r\n    }\r\n  }\r\n}\r\n\r\nconst { Instance } = VSCodeOutputLogger;\r\nexport { Instance };\r\n","import { ILoggingService, LogLevel } from \"./loggingService\";\r\n\r\nexport { ILoggingService, LogLevel };\r\n","enum LogLevel {\r\n  ALL,\r\n  DEBUG,\r\n  INFO,\r\n  WARN,\r\n  ERROR,\r\n  FATAL,\r\n  OFF,\r\n}\r\n\r\ninterface ILoggingService {\r\n  write(logLevel: LogLevel, str: string): void;\r\n}\r\n\r\nexport { ILoggingService, LogLevel };\r\n","import { readFileSync, createReadStream } from \"fs\";\r\nimport { InferenceSession, Tensor, TypedTensor } from \"onnxruntime-node\";\r\nimport * as path from \"path\";\r\nimport * as unzipper from \"unzipper\";\r\nimport { extractCompletionPlaceholder } from \"../../utils/document\";\r\nimport { concat2d, filledTensor } from \"../../utils/tensor\";\r\nimport { END_OF_LINE_ID } from \"../normalization\";\r\n//import Settings from \"./settings\";\r\nimport { ILoggingService, LogLevel } from \"../logging\";\r\nimport Settings from \"../settings/settings\";\r\n\r\nconst {\r\n  LoadLocalModel,\r\n  TextToIds,\r\n} = require(\"../../lib/blingfire/blingfire_wrapper.js\");\r\nconst { max_input_size } = require(\"../../model/metadata.json\");\r\n\r\nexport type PairedSuggestions = [number[], string[]][];\r\n\r\nconst MAX_INPUT_SIZE = max_input_size;\r\ninterface OnnxInput {\r\n  input_ids: Tensor;\r\n  attention_mask: Tensor;\r\n  position_ids: Tensor;\r\n  beam_select_idx: Tensor;\r\n  input_log_probs: Tensor;\r\n  input_unfinished_sents: Tensor;\r\n  [past: string]: Tensor;\r\n  prev_step_results: Tensor;\r\n  prev_step_scores: Tensor;\r\n}\r\n\r\ninterface OnnxOutput {\r\n  last_state: TypedTensor<\"int64\">;\r\n  present_0: TypedTensor<\"float32\">;\r\n  present_1: TypedTensor<\"float32\">;\r\n  present_2: TypedTensor<\"float32\">;\r\n  present_3: TypedTensor<\"float32\">;\r\n  present_4: TypedTensor<\"float32\">;\r\n  present_5: TypedTensor<\"float32\">;\r\n  present_6: TypedTensor<\"float32\">;\r\n  present_7: TypedTensor<\"float32\">;\r\n  output_selected_indices: TypedTensor<\"int64\">;\r\n  output_log_probs: TypedTensor<\"float32\">;\r\n  output_unfinished_sents: TypedTensor<\"bool\">;\r\n  current_step_results: TypedTensor<\"int64\">;\r\n  current_step_scores: TypedTensor<\"float32\">;\r\n}\r\n\r\nclass ModelInput {\r\n  inputIds: TypedTensor<\"int64\">;\r\n  positionIds: TypedTensor<\"int64\">;\r\n  attentionMask: TypedTensor<\"float32\">;\r\n  beamSelectIdx: TypedTensor<\"int64\">;\r\n  inputLogProbs: TypedTensor<\"float32\">;\r\n  inputUnfinishedSents: TypedTensor<\"bool\">;\r\n  batchSize: number;\r\n  initialInputLength: number;\r\n  numLayer: number;\r\n  beamSize: number;\r\n  decodedFinalScore: TypedTensor<\"float32\"> | undefined;\r\n  numAttentionHeads: number;\r\n  past: Tensor[];\r\n  prevStepResults: TypedTensor<\"int64\">;\r\n  prevStepScores: TypedTensor<\"float32\">;\r\n\r\n  done: boolean[];\r\n\r\n  constructor(\r\n    inputIds: number[],\r\n    batchSize: number,\r\n    numLayer: number,\r\n    hiddenSize: number,\r\n    numAttentionHeads: number,\r\n    beamSize: number\r\n  ) {\r\n    this.batchSize = batchSize;\r\n    this.initialInputLength = inputIds.length;\r\n\r\n    const bigintInput = BigInt64Array.from(inputIds, (i) => BigInt(i));\r\n    this.inputIds = new Tensor(\"int64\", bigintInput, [\r\n      this.batchSize,\r\n      this.initialInputLength,\r\n    ]);\r\n\r\n    const positionArray = Array.from(Array(inputIds.length).keys()).map(BigInt);\r\n    this.positionIds = new Tensor(\r\n      \"int64\",\r\n      Array(this.batchSize).fill(positionArray).flat(),\r\n      [this.batchSize, inputIds.length]\r\n    );\r\n\r\n    const maskArray = Array(this.batchSize * this.initialInputLength).fill(1.0);\r\n    this.attentionMask = new Tensor(\"float32\", maskArray, [\r\n      this.batchSize,\r\n      this.initialInputLength,\r\n    ]);\r\n\r\n    this.beamSelectIdx = new Tensor(\r\n      \"int64\",\r\n      new BigInt64Array(this.batchSize),\r\n      [this.batchSize, 1]\r\n    );\r\n    this.inputLogProbs = new Tensor(\"float32\", Array(this.batchSize).fill(0), [\r\n      this.batchSize,\r\n      1,\r\n    ]);\r\n    this.inputUnfinishedSents = new Tensor(\r\n      \"bool\",\r\n      Array(this.batchSize).fill(1),\r\n      [this.batchSize, 1]\r\n    );\r\n    this.prevStepResults = new Tensor(\"int64\", bigintInput, [\r\n      this.batchSize,\r\n      this.initialInputLength,\r\n    ]);\r\n    this.prevStepScores = new Tensor(\"float32\", Array(batchSize).fill(0), [\r\n      this.batchSize,\r\n      1,\r\n    ]);\r\n\r\n    this.numLayer = numLayer;\r\n    this.beamSize = beamSize;\r\n\r\n    this.numAttentionHeads = numAttentionHeads;\r\n    const past_shape = [\r\n      2,\r\n      this.batchSize,\r\n      this.numAttentionHeads,\r\n      0,\r\n      Math.floor(hiddenSize / this.numAttentionHeads),\r\n    ];\r\n    this.past = [];\r\n    const pastTotalLength = past_shape.reduce((a, b) => a * b);\r\n    for (let i = 0; i < numLayer; i++) {\r\n      this.past.push(\r\n        new Tensor(\"float32\", Array(pastTotalLength).fill(0), past_shape)\r\n      );\r\n    }\r\n    this.done = Array(batchSize).fill(0);\r\n  }\r\n\r\n  update(output: OnnxOutput, step: number) {\r\n    const lastState = output.last_state;\r\n    const lastDimSize = (lastState.size / (this.batchSize * this.beamSize)) | 0;\r\n    this.inputIds = lastState.reshape([\r\n      this.batchSize * this.beamSize,\r\n      lastDimSize,\r\n    ]);\r\n\r\n    this.beamSelectIdx = output.output_selected_indices;\r\n    this.inputLogProbs = output.output_log_probs;\r\n    this.inputUnfinishedSents = output.output_unfinished_sents;\r\n    this.prevStepResults = output.current_step_results;\r\n    this.prevStepScores = output.current_step_scores;\r\n\r\n    const newPosIds = Array(this.batchSize * this.beamSize).fill(\r\n      BigInt(this.initialInputLength + step)\r\n    );\r\n    this.positionIds = new Tensor(\"int64\", newPosIds, [\r\n      this.batchSize * this.beamSize,\r\n      1,\r\n    ]);\r\n\r\n    if (this.attentionMask.dims[0] != this.batchSize * this.beamSize) {\r\n      this.attentionMask = new Tensor(\r\n        \"float32\",\r\n        Array(this.beamSize).fill(Array.from(this.attentionMask.data)).flat(),\r\n        [this.batchSize * this.beamSize, this.attentionMask.dims[1]]\r\n      );\r\n    }\r\n    this.attentionMask = concat2d(\r\n      this.attentionMask,\r\n      filledTensor([this.batchSize * this.beamSize, 1], \"float32\", 1),\r\n      1\r\n    );\r\n\r\n    for (let i = 0; i < this.numLayer; i++) {\r\n      // @ts-ignore\r\n      this.past[i] = output[`present_${i}`];\r\n    }\r\n    this.done = this.done.map((d, i) => {\r\n      return this.inputUnfinishedSents.data\r\n        .slice(i * this.beamSize, i * this.beamSize + this.beamSize)\r\n        .every((x) => !x);\r\n    });\r\n  }\r\n\r\n  onnxInput(): OnnxInput {\r\n    const input: OnnxInput = {\r\n      input_ids: this.inputIds,\r\n      attention_mask: this.attentionMask,\r\n      position_ids: this.positionIds,\r\n      beam_select_idx: this.beamSelectIdx,\r\n      input_log_probs: this.inputLogProbs,\r\n      input_unfinished_sents: this.inputUnfinishedSents,\r\n      prev_step_results: this.prevStepResults,\r\n      prev_step_scores: this.prevStepScores,\r\n    };\r\n\r\n    this.past.forEach((past, i) => {\r\n      input[`past_${i}`] = past;\r\n    });\r\n\r\n    return input;\r\n  }\r\n\r\n  isDone() {\r\n    return this.done.every((x) => x);\r\n  }\r\n}\r\n\r\nexport class OnnxModelWrapper {\r\n  private onnxSession: InferenceSession;\r\n  private vocab: string[];\r\n  private bfModel: any;\r\n  private beamSize: number;\r\n\r\n  private numLayers: number;\r\n  private numAttentionHeads: number;\r\n  private embedDim: number;\r\n\r\n  private settings: Settings;\r\n  private Logger?: ILoggingService;\r\n\r\n  private constructor(\r\n    onnxSession: InferenceSession,\r\n    modelConfig: any,\r\n    bfModel: any,\r\n    vocabPath: string,\r\n    settings: Settings,\r\n    loggingService?: ILoggingService\r\n  ) {\r\n    const vocabFileContent = readFileSync(vocabPath, \"utf-8\");\r\n    this.vocab = vocabFileContent\r\n      .split(\"\\n\")\r\n      .map((line: string) =>\r\n        line.substr(0, line.indexOf(\"\\t\")).replace(/\\u2581/g, \" \")\r\n      );\r\n\r\n    this.onnxSession = onnxSession;\r\n    this.bfModel = bfModel;\r\n\r\n    this.numLayers = modelConfig[\"n_layer\"];\r\n    this.numAttentionHeads = modelConfig[\"n_head\"];\r\n    this.embedDim = modelConfig[\"n_embd\"];\r\n    this.beamSize = modelConfig[\"beam_size\"];\r\n    this.settings = settings;\r\n    this.Logger = loggingService;\r\n  }\r\n\r\n  public static async load(\r\n    modelPath: string,\r\n    configPath: string,\r\n    tokenizerPath: string,\r\n    vocabPath: string,\r\n    settings: Settings,\r\n    loggingService?: ILoggingService\r\n  ): Promise<OnnxModelWrapper> {\r\n    const sess = await InferenceSession.create(modelPath, {\r\n      graphOptimizationLevel: \"all\",\r\n      extra: {\r\n        session: {\r\n          intra_op: {\r\n            allow_spinning: 0,\r\n          },\r\n        },\r\n      },\r\n    });\r\n    const bfModel = await LoadLocalModel(tokenizerPath);\r\n\r\n    const modelConfig = JSON.parse(readFileSync(configPath, \"utf8\"));\r\n\r\n    return new OnnxModelWrapper(\r\n      sess,\r\n      modelConfig,\r\n      bfModel,\r\n      vocabPath,\r\n      settings,\r\n      loggingService\r\n    );\r\n  }\r\n\r\n  public static async overwriteAndLoadFromZip(\r\n    pathToZip: string,\r\n    modelName: string = \"composeModelQuantized.onnx\",\r\n    configName: string = \"metadata.json\",\r\n    tokenizerName: string = \"bpe.bin\",\r\n    vocabName: string = \"vocab.txt\",\r\n    settings: Settings,\r\n    loggingService?: ILoggingService\r\n  ): Promise<OnnxModelWrapper> {\r\n    const modelRoot = path.resolve(__dirname, \"../../model\");\r\n    createReadStream(pathToZip).pipe(unzipper.Extract({ path: modelRoot }));\r\n\r\n    const modelPath = path.join(modelRoot, modelName);\r\n    const configPath = path.join(modelRoot, configName);\r\n    const tokenizerPath = path.join(modelRoot, tokenizerName);\r\n    const vocabPath = path.join(modelRoot, vocabName);\r\n\r\n    return await OnnxModelWrapper.load(\r\n      modelPath,\r\n      configPath,\r\n      tokenizerPath,\r\n      vocabPath,\r\n      settings,\r\n      loggingService\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Use decodeGenerator instead. Kept around for debugging purposes.\r\n   * Will run a inference on the input up to maxLength token output.\r\n   *\r\n   * @see {@link decodeGenerator}\r\n   * @param input\r\n   * @param maxLength\r\n   * @returns\r\n   */\r\n  public async decode(\r\n    input: string,\r\n    maxLength: number\r\n  ): Promise<PairedSuggestions> {\r\n    if (!input) {\r\n      return [];\r\n    }\r\n\r\n    const inputLines = input.split(/\\r?\\n/g);\r\n    let tokenIds: number[] = [];\r\n    for (const [idx, line] of inputLines.entries()) {\r\n      if (!line) {\r\n        // The only way we should have an \"empty\" line is if have a new line at the end\r\n        if (idx != inputLines.length - 1) {\r\n          this.Logger?.write(\r\n            LogLevel.WARN,\r\n            `[OnnxModelWrapper.decodeGenerator()] ` +\r\n              `Empty line encountered in middle of content. ` +\r\n              `Check if normalization was done correctly:\\n` +\r\n              input\r\n          );\r\n        }\r\n        continue;\r\n      }\r\n\r\n      tokenIds.push(...this.stringToIds(line));\r\n      tokenIds.push(END_OF_LINE_ID);\r\n    }\r\n    if (!input.endsWith(\"\\n\")) {\r\n      tokenIds.pop();\r\n    }\r\n\r\n    const lookback =\r\n      this.settings.TOKEN_LOOKBACK + maxLength >= MAX_INPUT_SIZE\r\n        ? MAX_INPUT_SIZE - maxLength\r\n        : this.settings.TOKEN_LOOKBACK;\r\n    this.Logger?.write(\r\n      LogLevel.INFO,\r\n      `[OnnxModelWrapper.decode()] Decoding with lookback: ${lookback}`\r\n    );\r\n    tokenIds = tokenIds.slice(-lookback);\r\n\r\n    const modelInput = new ModelInput(\r\n      tokenIds,\r\n      1,\r\n      this.numLayers,\r\n      this.embedDim,\r\n      this.numAttentionHeads,\r\n      this.beamSize\r\n    );\r\n\r\n    let tokensGenerated = 0;\r\n    for (; tokensGenerated < maxLength; tokensGenerated++) {\r\n      const onnxOutput: any = await this.onnxSession.run(\r\n        modelInput.onnxInput()\r\n      );\r\n      modelInput.update(onnxOutput, tokensGenerated);\r\n      if (modelInput.isDone()) {\r\n        tokensGenerated += 1;\r\n        break;\r\n      }\r\n    }\r\n    this.Logger?.write(\r\n      LogLevel.INFO,\r\n      `[OnnxModelWrapper.decode()] successfully generated ${tokensGenerated} tokens`\r\n    );\r\n\r\n    return this.createPairedSuggestions(modelInput, tokensGenerated);\r\n  }\r\n\r\n  /**\r\n   * Async generator implementation of decode.\r\n   * This version will yield partial results every yieldFrequency iterations of the model running.\r\n   * It will always return the results from the last run even if it's not on time with yieldFrequency.\r\n   *\r\n   * About CancellationTokens:\r\n   * Not honoring cancellation tokens was a decision made to avoid the problem of inconsistent results.\r\n   * Taking cancellation into account led to the model producing a different number of tokens everytime.\r\n   * Please consider this problem when thinking about this in the future.\r\n   *\r\n   * @param input Context to generate on\r\n   * @param maxLength Max number of tokens to generate. Model may generate less than this number.\r\n   * @param yieldFrequency Will yield partial results every yieldFrequency iteration\r\n   * @returns Paired suggestions\r\n   */\r\n  public async *decodeGenerator(\r\n    input: string,\r\n    maxLength: number,\r\n    yieldFrequency: number = 2,\r\n    cancellationToken: { isCancellationRequested: boolean }\r\n  ): AsyncGenerator<PairedSuggestions, PairedSuggestions | undefined, void> {\r\n    const inputLines = input.split(/\\r?\\n/g);\r\n    const tokenIds: number[] = [];\r\n    for (const [idx, line] of inputLines.entries()) {\r\n      if (!line) {\r\n        // The only way we should have an \"empty\" line is if have a new line at the end\r\n        if (idx != inputLines.length - 1) {\r\n          this.Logger?.write(\r\n            LogLevel.WARN,\r\n            `[OnnxModelWrapper.decodeGenerator()] ` +\r\n              `Empty line encountered in middle of content. ` +\r\n              `Check if normalization was done correctly:\\n` +\r\n              input\r\n          );\r\n        }\r\n        continue;\r\n      }\r\n\r\n      tokenIds.push(...this.stringToIds(line));\r\n      tokenIds.push(END_OF_LINE_ID);\r\n    }\r\n    //  Due to us manually adding END_OF_LINE_ID in the line above for every loop,\r\n    // we always end up w/ a \\n character at the end.\r\n    if (!input.endsWith(\"\\n\")) {\r\n      tokenIds.pop();\r\n    }\r\n\r\n    if (cancellationToken.isCancellationRequested) {\r\n      this.Logger?.write(\r\n        LogLevel.INFO,\r\n        `[OnnxModelWrapper.decodeGenerator()] Cancelling before preparing model input`\r\n      );\r\n      return undefined;\r\n    }\r\n\r\n    const lookbackCount =\r\n      this.settings.TOKEN_LOOKBACK + maxLength >= MAX_INPUT_SIZE\r\n        ? MAX_INPUT_SIZE - maxLength\r\n        : this.settings.TOKEN_LOOKBACK;\r\n    this.Logger?.write(\r\n      LogLevel.INFO,\r\n      `[OnnxModelWrapper.decodeGenerator()] Decoding with lookback: ${lookbackCount}`\r\n    );\r\n    const lookbackLengthTokenIds = tokenIds.slice(-lookbackCount);\r\n\r\n    const modelInput = new ModelInput(\r\n      lookbackLengthTokenIds,\r\n      1,\r\n      this.numLayers,\r\n      this.embedDim,\r\n      this.numAttentionHeads,\r\n      this.beamSize\r\n    );\r\n\r\n    let tokensGenerated = 0;\r\n    for (; tokensGenerated < maxLength; tokensGenerated++) {\r\n      if (cancellationToken.isCancellationRequested) {\r\n        this.Logger?.write(\r\n          LogLevel.INFO,\r\n          `[OnnxModelWrapper.decodeGenerator()] Cancelling in token generation loop iteration ${tokensGenerated}`\r\n        );\r\n        return undefined;\r\n      }\r\n      const onnxOutput: any = await this.onnxSession.run(\r\n        modelInput.onnxInput()\r\n      );\r\n      modelInput.update(onnxOutput, tokensGenerated);\r\n      if (modelInput.isDone()) {\r\n        // If modelInput isDone(), we don't want to produce any more tokens\r\n        // This will lead to multiline recommendations, which we don't want to support yet.\r\n        yield this.createPairedSuggestions(modelInput, tokensGenerated + 1);\r\n        break;\r\n      } else if ((tokensGenerated + 1) % yieldFrequency === 0) {\r\n        /**\r\n         *  As our model currently runs beam search,\r\n         * we have the problem of our results \"narrowing down\" when producing many tokens.\r\n         * Which is why yielding results every once in a while allows consumers of the model\r\n         * to view a wider variety of recommendations.\r\n         *\r\n         *  For example, for the first inference, our model will produce 4 different tokens.\r\n         * [[<INDENT>],\r\n         * [const],\r\n         * [return],\r\n         * [if]]\r\n         *\r\n         *  On the second inference the recommendations may look something like\r\n         * [[<INDENT>, const],\r\n         * [<INDENT>, return],\r\n         * [<INDENT>, if],\r\n         * [<INDENT>, let]]\r\n         * Notice how although the 2nd token produced coincidentally looks similar to our set of 1st tokens,\r\n         * the actual 1st token picked all converged to the <INDENT> token.\r\n         *\r\n         *  For our 5 token scenario, the beams may look like\r\n         * [<INDENT>, if, (, context, .]\r\n         * [<INDENT>, if, (, typeof, context]\r\n         * [<INDENT>, if, (, context, ===]\r\n         * [<INDENT>, if, (, context, &&]\r\n         *\r\n         *  Further down the road on 10 tokens produced, we'll see that for each beam of 10 tokens each,\r\n         * the first 6~7 tokens have \"converged\" and are the same for every beam.\r\n         *  Yielding every once in a while is to counteract this \"convergence\".\r\n         * Trying ensure that we'll have something, albeit maybe being short, for different situations.\r\n         */\r\n        yield this.createPairedSuggestions(modelInput, tokensGenerated + 1);\r\n      }\r\n    }\r\n    this.Logger?.write(\r\n      LogLevel.INFO,\r\n      `[OnnxModelWrapper.decodeGenerator()] successfully generated ${tokensGenerated} tokens`\r\n    );\r\n\r\n    // ensure that the async generator has a returned result at the end.\r\n    return this.createPairedSuggestions(modelInput, tokensGenerated);\r\n  }\r\n\r\n  private createPairedSuggestions(\r\n    resultingModelInput: ModelInput,\r\n    numTokensGenerated: number\r\n  ): PairedSuggestions {\r\n    const tokenScores = resultingModelInput.prevStepScores;\r\n    const sequences = resultingModelInput.prevStepResults;\r\n\r\n    const recommendationCount = sequences.dims[0];\r\n    const pairedSuggestions: PairedSuggestions = [];\r\n    for (let i = 0; i < recommendationCount; i++) {\r\n      const startOfNextLineTokens = (numTokensGenerated + 1) * (i + 1);\r\n      const startOfNextLineRec = sequences.dims[1] * (i + 1);\r\n      pairedSuggestions.push([\r\n        Array.from(\r\n          tokenScores.data.slice(\r\n            startOfNextLineTokens - numTokensGenerated,\r\n            startOfNextLineTokens\r\n          ),\r\n          (j) => Number(j)\r\n        ),\r\n        Array.from(\r\n          sequences.data.slice(\r\n            startOfNextLineRec - numTokensGenerated,\r\n            startOfNextLineRec\r\n          ),\r\n          (j) => Number(j)\r\n        ).map((j) => this.convertIdToToken(j)),\r\n      ]);\r\n    }\r\n\r\n    return pairedSuggestions;\r\n  }\r\n\r\n  public randArray(len: number, min: number, max: number) {\r\n    return Float32Array.from(\r\n      { length: len },\r\n      () => Math.floor(Math.random() * (max - min)) + min\r\n    );\r\n  }\r\n\r\n  public convertIdToToken(id: number): string {\r\n    return this.vocab[id];\r\n  }\r\n\r\n  public convertIdsToSeq(\r\n    ids: number[],\r\n    breaktokens: string[],\r\n    speciaTokensMap: { [key: string]: string },\r\n    specialCharsMap: { [key: string]: string }\r\n  ): any {\r\n    let result: string = \" \";\r\n    let index = 1;\r\n    for (const id of ids) {\r\n      let mid = \"\";\r\n      mid = this.convertIdToToken(id);\r\n      index = index + 1;\r\n      if (specialCharsMap.hasOwnProperty(mid)) {\r\n        mid = specialCharsMap[mid];\r\n      }\r\n\r\n      if (speciaTokensMap.hasOwnProperty(mid)) {\r\n        mid = speciaTokensMap[mid];\r\n      }\r\n\r\n      if (breaktokens.indexOf(mid) !== -1) {\r\n        result = result.replace(//g, \" \");\r\n\r\n        result = extractCompletionPlaceholder(result).completionString;\r\n        return result;\r\n      }\r\n\r\n      result += mid;\r\n    }\r\n    result = result.replace(//g, \" \");\r\n    result = extractCompletionPlaceholder(result).completionString;\r\n    return result;\r\n  }\r\n\r\n  public stringToIds(input: string): number[] {\r\n    if (!input) {\r\n      return [0];\r\n    }\r\n    return TextToIds(this.bfModel, input, input.length);\r\n  }\r\n\r\n  public tokenToId(token: string): number {\r\n    if (!token) {\r\n      return 0;\r\n    }\r\n\r\n    return TextToIds(this.bfModel, token, token.length)[0];\r\n  }\r\n}\r\n","import INormalizationService from \"./normalizationService\";\r\nimport { TreeSitterNormalizationService } from \"./treeSitterNormalizationService\";\r\n\r\nconst UNK = \"<unk>\";\r\nconst END_OF_LINE = \"<endofline>\";\r\nconst END_OF_LINE_ID = 1;\r\nconst END_OF_TEXT = \"<endoftext>\";\r\nconst END_OF_FUNCTION = \"<endoffunc>\";\r\nconst DEDENT = \"<DEDENT>\";\r\nconst INDENT = \"<INDENT>\";\r\nconst STR_LIT = \"<STR_LIT>\";\r\nconst NUM_LIT = \"<NUM_LIT>\";\r\nconst CHAR_LIT = \"<CHAR_LIT>\";\r\nconst REGEX_LIT = \"<REGEX_LIT>\";\r\n\r\nexport {\r\n  INormalizationService,\r\n  TreeSitterNormalizationService,\r\n  UNK,\r\n  END_OF_LINE,\r\n  END_OF_LINE_ID,\r\n  END_OF_TEXT,\r\n  END_OF_FUNCTION,\r\n  DEDENT,\r\n  INDENT,\r\n  STR_LIT,\r\n  NUM_LIT,\r\n  CHAR_LIT,\r\n  REGEX_LIT,\r\n};\r\n","import { LanguageId } from \"../../utils/language\";\r\nimport { ILoggingService, LogLevel } from \"../logging\";\r\nimport { join } from \"path\";\r\nimport { libFolder } from \"../../resolvedPath\";\r\nimport * as WebParser from \"web-tree-sitter\";\r\n\r\nenum RuntimeState {\r\n  \"NotInit\",\r\n  \"Failed\",\r\n  \"Active\",\r\n}\r\n\r\n/**\r\n * Some languages (JSX, TSX) have a language id defined by VSCode,\r\n * but for have different names on Tree Sitter.\r\n * This function takes care of those differences.\r\n * @param langId The language to get correlating wasm name for\r\n */\r\nfunction languageIdToWasmName(langId: LanguageId) {\r\n  switch (langId) {\r\n    case LanguageId.JAVASCRIPT_REACT:\r\n      return LanguageId.JAVASCRIPT;\r\n    case LanguageId.TYPESCRIPT_REACT:\r\n      return \"tsx\";\r\n    default:\r\n      return langId;\r\n  }\r\n}\r\n\r\nexport class TreeSitterManager {\r\n  private runtimeState: RuntimeState = RuntimeState.NotInit; // State for tree sitter runtime initialization\r\n  private runtime: any; // Tree Sitter runtime will be saved here after initialization\r\n\r\n  public availableLanguages: LanguageId[] = [];\r\n  public trees: { [key in LanguageId]?: WebParser.Language } = {};\r\n\r\n  public static async buildTreeSitterManager(logger: ILoggingService) {\r\n    let self = new TreeSitterManager(logger);\r\n    await self.initializeRuntime();\r\n\r\n    if (self.runtimeState !== RuntimeState.Active) {\r\n      throw new Error(\"Tree Sitter could not be initialized.\");\r\n    }\r\n    return self;\r\n  }\r\n\r\n  private constructor(private Logger?: ILoggingService) {}\r\n\r\n  public createParser(): WebParser {\r\n    if (this.runtimeState !== RuntimeState.Active) {\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        \"[treeSitterManager:Parser()] Parser accessed when not available.\"\r\n      );\r\n      throw new Error(\"Parser accessed but Tree Sitter is not available.\");\r\n    }\r\n    return new this.runtime() as WebParser;\r\n  }\r\n\r\n  /*\r\n   * Returns the tree-sitter for the specified language.\r\n   * This method does not check if the tree-sitter for the language has been loaded.\r\n   */\r\n  public get(lang: LanguageId): WebParser.Language {\r\n    const langTree = this.trees[lang];\r\n    if (langTree === undefined) {\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        `[treeSitterManager:get()] ${lang} tree accessed when not available.`\r\n      );\r\n\r\n      throw new Error(`${lang} tree accessed when not available.`);\r\n    }\r\n    return langTree;\r\n  }\r\n\r\n  /**\r\n   * Checks if the tree-sitter for a certain language has been downloaded and initialized.\r\n   * @param lang Language to check availability\r\n   * @returns boolean representing availability\r\n   */\r\n  public isAvailableFor(lang: LanguageId): boolean {\r\n    return this.availableLanguages.indexOf(lang) !== -1;\r\n  }\r\n\r\n  /*\r\n   * Loads the tree-sitter runtime.\r\n   *\r\n   * Currently called once in the constructor and nowhere else.\r\n   * DO NOT call in other places.\r\n   *   1. There is no reason to call this again\r\n   *   2. The Promise returned from this function is what keeps the concurrency of all other tree-sitter fetching\r\n   */\r\n  private async initializeRuntime() {\r\n    if (this.runtimeState !== RuntimeState.NotInit) {\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        \"[treeSitterManager:initializeRuntime()] Tree Sitter re-initialized. This shouldn't happen.\"\r\n      );\r\n      throw new Error(\"Tree Sitter was initialized more than once.\");\r\n    }\r\n    try {\r\n      await WebParser.init();\r\n      this.runtime = WebParser;\r\n      this.runtimeState = RuntimeState.Active;\r\n    } catch (error) {\r\n      this.runtimeState = RuntimeState.Failed;\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        `[treeSitterManager:initializeRuntime()] Tree Sitter failed to initialize: ${error}`\r\n      );\r\n    }\r\n  }\r\n\r\n  private checkSupport(lang: string) {\r\n    return (<any>Object).values(LanguageId).includes(lang);\r\n  }\r\n\r\n  /*\r\n   * Does nothing if the tree-sitter runtime failed to be loaded.\r\n   * If the runtime hasn't failed yet, it will load the tree-sitter for the specific language.\r\n   */\r\n  public async initialize(lang: LanguageId) {\r\n    if (this.isAvailableFor(lang)) {\r\n      // Already initialized. No need to do extra work.\r\n      return;\r\n    }\r\n    if (!this.checkSupport(lang)) {\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        `[TreeSitterManager.initialize()] ${lang} isn't supported.`\r\n      );\r\n      throw new Error(`${lang} isn't supported.`);\r\n    }\r\n\r\n    const langWasmPath = join(\r\n      libFolder,\r\n      `tree-sitter-${languageIdToWasmName(lang)}.wasm`\r\n    );\r\n    try {\r\n      const languageTree = await WebParser.Language.load(langWasmPath);\r\n      if (\r\n        lang === LanguageId.JAVASCRIPT ||\r\n        lang === LanguageId.JAVASCRIPT_REACT\r\n      ) {\r\n        this.trees[LanguageId.JAVASCRIPT] = this.trees[\r\n          LanguageId.JAVASCRIPT_REACT\r\n        ] = languageTree;\r\n      } else {\r\n        this.trees[lang] = languageTree;\r\n      }\r\n      this.availableLanguages.push(lang);\r\n    } catch (e) {\r\n      this.Logger?.write(\r\n        LogLevel.ERROR,\r\n        `[TreeSitterManager.initialize()] ${e}`\r\n      );\r\n      throw e;\r\n    }\r\n  }\r\n}\r\n","import { join } from \"path\";\r\nimport { readFileSync } from \"fs\";\r\nimport { ILoggingService, LogLevel } from \"../logging\";\r\nimport { modelFolder } from \"../../resolvedPath\";\r\nimport { LanguageId } from \"../../utils/language\";\r\nimport INormalizationService, {\r\n  ParsedCode,\r\n} from \"./normalizationService\";\r\nimport { TreeSitterManager } from \"./treeSitterManager\";\r\nimport * as Parser from \"web-tree-sitter\";\r\n\r\nconst pythonValue = [[\"integer\", \"float\"], [\"string\"], [], []];\r\nconst typescriptValue = [\r\n  [\"number\"],\r\n  [\"string\", \"template_string\"],\r\n  [],\r\n  [\"regex_pattern\"],\r\n];\r\nconst javascriptValue = [\r\n  [\"number\"],\r\n  [\"string\", \"template_string\"],\r\n  [],\r\n  [\"regex_pattern\"],\r\n];\r\nconst javaValue = [\r\n  [\r\n    \"decimal_floating_point_literal\",\r\n    \"decimal_integer_literal\",\r\n    \"hex_floating_point_literal\",\r\n    \"hex_integer_literal\",\r\n    \"octal_integer_literal\",\r\n    \"binary_integer_literal\",\r\n  ],\r\n  [\"string_literal\"],\r\n  [\"character_literal\"],\r\n  [],\r\n];\r\n\r\n//@ts-ignore\r\nconst lang2lits: { [key in LanguageId]: string[][] } = {};\r\nlang2lits[LanguageId.PYTHON] = pythonValue;\r\nlang2lits[LanguageId.JAVASCRIPT] = javascriptValue;\r\nlang2lits[LanguageId.JAVASCRIPT_REACT] = javascriptValue;\r\nlang2lits[LanguageId.TYPESCRIPT] = typescriptValue;\r\nlang2lits[LanguageId.TYPESCRIPT_REACT] = typescriptValue;\r\nlang2lits[LanguageId.JAVA] = javaValue;\r\n\r\ntype litKeys = \"num\" | \"str\" | \"char\" | \"regex\";\r\n\r\nexport async function initNormalizationService(logger: ILoggingService) {\r\n  let treeSitterManager = await TreeSitterManager.buildTreeSitterManager(\r\n    logger\r\n  );\r\n  let normalizationService = new TreeSitterNormalizationService(\r\n    join(modelFolder, \"TopLiterals.json\"),\r\n    {},\r\n    [\" \", \",\"],\r\n    logger,\r\n    treeSitterManager\r\n  );\r\n  return normalizationService;\r\n}\r\n\r\nexport class TreeSitterNormalizationService implements INormalizationService {\r\n  private literals: { [key in litKeys]: string[] };\r\n  private lang2lits = lang2lits;\r\n  private keywords = [\"int\", \"integer\", \"float\", \"string\", \"char\", \"character\"];\r\n\r\n  private specialTokensMap: { [key: string]: string };\r\n  private specialTokensMapReverse: { [key: string]: string } = {};\r\n  private unicodeCharsMap: { [key: string]: any } = {};\r\n  private unicodeCharsMapReverse: { [key: string]: string } = {};\r\n\r\n  /**\r\n   *\r\n   * @param Logger Instance of a LoggingService\r\n   * @param literalsFile Path to literals file\r\n   * @param specialTokensMap Any tokens that need to be mapped in a specific way\r\n   * @param unicodeChars Any characters that are in the output of the model as unicode. ex) \" \" -> U+0020 in output\r\n   */\r\n  public constructor(\r\n    literalsFile = join(modelFolder, \"TopLiterals.json\"),\r\n    specialTokensMap: { [key: string]: string } = {},\r\n    unicodeChars: string[] = [\" \", \",\"],\r\n    private Logger: ILoggingService,\r\n    private TreeSitterManager: TreeSitterManager\r\n  ) {\r\n    this.literals = this.prepareLiterals(literalsFile);\r\n    this.specialTokensMap = specialTokensMap;\r\n\r\n    if (specialTokensMap != null) {\r\n      for (const z in specialTokensMap) {\r\n        if (specialTokensMap.hasOwnProperty(z)) {\r\n          this.specialTokensMapReverse[specialTokensMap[z]] = z;\r\n        }\r\n      }\r\n    }\r\n    if (unicodeChars != null) {\r\n      for (const z of unicodeChars) {\r\n        const numBer = z.charCodeAt(0);\r\n        const mapValue = \"U+\" + numBer.toString(16).padStart(4, \"0\");\r\n        this.unicodeCharsMap[z] = mapValue;\r\n        this.unicodeCharsMapReverse[mapValue] = z;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Masks literals with the appropriate tokens, and fully removes comments.\r\n   * Will return empty string if currently within a comment or a string literal.\r\n   *\r\n   * @param code The code to normalize\r\n   * @param lang The language of the code\r\n   * @returns Normalized code or empty string\r\n   */\r\n  public normalize(parsedCode: ParsedCode): string | undefined {\r\n    try {\r\n      return this.normalizeInner(\r\n        parsedCode.tree,\r\n        parsedCode.code,\r\n        parsedCode.lang,\r\n        \"remove\",\r\n        true\r\n      );\r\n    } catch (e) {\r\n      this.Logger.write(\r\n        LogLevel.ERROR,\r\n        `[TreeSitterNormalizationService.normalize()] Failed to normalize code\\n\\tReason: ${e}`\r\n      );\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public parseAndNormalize(\r\n    unparsedCode: string,\r\n    lang: string\r\n  ): string | undefined {\r\n    try {\r\n      const parse = this.parse(unparsedCode, lang);\r\n      return this.normalize(parse);\r\n    } catch (e) {\r\n      this.Logger.write(\r\n        LogLevel.ERROR,\r\n        `[TreeSitterNormalizationService.parseAndNormalize()] Failed to normalize code\\n\\tReason: ${e}`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initializes the language specific portion of the service.\r\n   * @param lang The language to initialize a Tree Sitter for\r\n   */\r\n  public async initialize(lang: string) {\r\n    if (!this.checkSupport(lang)) {\r\n      throw Error(\r\n        `[TreeSitterNormalizationService.initialize()] Unsupported Language: ${lang}`\r\n      );\r\n    }\r\n    return await this.TreeSitterManager.initialize(lang as LanguageId);\r\n  }\r\n\r\n  /**\r\n   * Supported languages:\r\n   *  Java, Javascript, Python, Typescript\r\n   * If target language is a supported language,\r\n   * this will return false until the tree-sitter is ready.\r\n   *\r\n   * Will always return false for unsupported languages.\r\n   * @param lang LanguageId to check\r\n   * @returns Whether passed language can be normalized or not\r\n   */\r\n  public isAvailableFor(lang: string): boolean {\r\n    return (\r\n      this.checkSupport(lang) !== undefined &&\r\n      this.TreeSitterManager.isAvailableFor(lang as LanguageId)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * This function is exposed solely for debugging purposes,\r\n   * and shouldn't need to be called in the code.\r\n   *\r\n   * @param code The code to parse as a tree\r\n   * @param lang The language of the code\r\n   */\r\n  public parse(code: string, langStr: string): ParsedCode {\r\n    const lang = this.checkSupport(langStr);\r\n\r\n    if (!lang) {\r\n      throw Error(\r\n        `[TreeSitterNormalizationService.normalize()] Unaccepted Language: ${langStr}`\r\n      );\r\n    }\r\n    try {\r\n      const parser = this.TreeSitterManager.createParser();\r\n      parser.setLanguage(this.TreeSitterManager.get(lang));\r\n      return {\r\n        tree: parser.parse(code),\r\n        code: code,\r\n        lang: lang,\r\n      };\r\n    } catch (e) {\r\n      this.Logger.write(\r\n        LogLevel.ERROR,\r\n        `[TreeSitterNormalizationService.normalize()] Failed to normalize code\\n\\tReason: ${e}`\r\n      );\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  private checkSupport(lang: string): LanguageId | undefined {\r\n    const index = (<string[]>Object.values(LanguageId)).indexOf(lang);\r\n    if (index >= 0) {\r\n      return Object.values(LanguageId)[index];\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private prepareLiterals(literalFilePath: string) {\r\n    const literals: { [key in litKeys]: string[] } = JSON.parse(\r\n      readFileSync(literalFilePath, \"utf-8\")\r\n    );\r\n\r\n    const arr = [\"num\", \"str\", \"char\", \"regex\"];\r\n    for (const value of arr) {\r\n      if (!literals.hasOwnProperty(value)) {\r\n        literals[value as litKeys] = [];\r\n      }\r\n    }\r\n    return literals;\r\n  }\r\n\r\n  /**\r\n   * Normalize code with option to\r\n   *  1) Normalize comments. All comments show up as a #<COMMENT> token.\r\n   *  2) Keep comments. All comments show up as is.\r\n   *  3) Remove comments. Comments are fully removed.\r\n   *\r\n   * Returns empty string if\r\n   *  1) comment isn't set to \"keep\" and we're currently typing a comment\r\n   *  2) currently typing within a string literal\r\n   * @param code code to normalize\r\n   * @param lang the language of the code\r\n   * @param comment \"remove\" | \"normalize\" | \"keep\" defaults to \"remove\"\r\n   * @param indent defaults to true. Creates <INDENT> tokens when normalizing\r\n   * @returns Normalized code or empty string.\r\n   */\r\n  private normalizeInner(\r\n    tree: Parser.Tree,\r\n    code: string,\r\n    lang: LanguageId,\r\n    comment = \"remove\",\r\n    indent = false\r\n  ): string | undefined {\r\n    const root = tree.rootNode;\r\n    let tokens: string[] = [];\r\n    let types: string[] = [];\r\n    this.get_tokens(root, tokens, types);\r\n    this.negativeNumberHandling(tokens, types, lang2lits[lang][0]);\r\n\r\n    const pts = this._file_tokenizer(code, tokens, types);\r\n    const poss = pts[0];\r\n    tokens = pts[1];\r\n    types = pts[2];\r\n\r\n    /**\r\n     * Quick stop scenario\r\n     * 1. No recommendation within comments\r\n     */\r\n    if (comment !== \"keep\") {\r\n      // Normal scenario\r\n      if (types[types.length - 1] === \"comment\") {\r\n        return undefined;\r\n      }\r\n\r\n      // Edge case for JS-based languages\r\n      if (\r\n        [\r\n          LanguageId.JAVASCRIPT,\r\n          LanguageId.JAVASCRIPT_REACT,\r\n          LanguageId.TYPESCRIPT,\r\n          LanguageId.TYPESCRIPT_REACT,\r\n        ].indexOf(lang) !== -1\r\n      ) {\r\n        /**\r\n         * Tree-sitter for JavaScript automatically creates a closing curly braces,\r\n         * even when it's not in the source.\r\n         * All languages described above have tree-sitters built off of tree-sitter javascript,\r\n         * and share the same problem.\r\n         */\r\n        let lastNoneBracesIdx = types.length - 1;\r\n        while (\r\n          types[lastNoneBracesIdx] === \"}\" &&\r\n          tokens[lastNoneBracesIdx] === \"\" &&\r\n          lastNoneBracesIdx > -1\r\n        ) {\r\n          lastNoneBracesIdx -= 1;\r\n        }\r\n        if (lastNoneBracesIdx > -1 && types[lastNoneBracesIdx] === \"comment\") {\r\n          return undefined;\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Quick stop scenario\r\n     * 2. No recommendation within string literals\r\n     */\r\n    if (\r\n      types.indexOf('\"') !== -1 ||\r\n      types.indexOf(\"'\") !== -1 ||\r\n      types.indexOf(\"`\") !== -1\r\n    ) {\r\n      /**\r\n       * FYI)\r\n       * The different tree-sitters per language have different behavior.\r\n       *\r\n       * JS/TS:\r\n       *   All code written after an open quotation mark will be ignored by the tree-sitter.\r\n       *   When there's an open quotation mark, the last type returned, types[types.length - 1],\r\n       *   will always be the quotation mark.\r\n       *\r\n       * PYTHON:\r\n       *   Code written after an open quotation mark will still be parsed.\r\n       *   There will just be a quotation mark somewhere in the types array.\r\n       *\r\n       * JAVA:\r\n       *   Instead of keeping the unmatched quotation mark, it will utilize an ERROR token.\r\n       *   This current logic cannot support JAVA behavior.\r\n       */\r\n      return undefined;\r\n    }\r\n\r\n    return this.norm_untokenize(\r\n      poss,\r\n      tokens,\r\n      types,\r\n      this.lang2lits[lang],\r\n      this.literals,\r\n      comment,\r\n      indent\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Handles negative numbers showing up as -<NUM_LIT>\r\n   * @param tokens tokens\r\n   * @param types types\r\n   * @param numericLits lang2lits[lang][0]\r\n   * @returns\r\n   */\r\n  private negativeNumberHandling(\r\n    tokens: any,\r\n    types: any,\r\n    numericLits: string[]\r\n  ) {\r\n    for (let i = 0; i < types.length; i++) {\r\n      if (types[i] === \"-\") {\r\n        this.handleOneNegativeCase(tokens, types, i, numericLits);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleOneNegativeCase(\r\n    tokens: any,\r\n    types: any,\r\n    hyphenIdx: number,\r\n    numericLits: string[]\r\n  ) {\r\n    if (!numericLits.includes(types[hyphenIdx + 1])) {\r\n      return false;\r\n    }\r\n    if (\r\n      this.isNumericOperator(types[hyphenIdx - 1]) ||\r\n      types[hyphenIdx - 1] == \",\" ||\r\n      types[hyphenIdx - 1] == \"(\" ||\r\n      types[hyphenIdx - 1] == \"{\" ||\r\n      types[hyphenIdx - 1] == \"[\"\r\n    ) {\r\n      // This is a negative number and not a subtraction\r\n      tokens[hyphenIdx][1] = tokens[hyphenIdx + 1][1];\r\n      types[hyphenIdx] = types[hyphenIdx + 1];\r\n      for (let i = hyphenIdx + 1; i < types.length - 1; i++) {\r\n        tokens[i] = tokens[i + 1];\r\n        types[i] = types[i + 1];\r\n      }\r\n      tokens.pop();\r\n      types.pop();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private isNumericOperator(word: string) {\r\n    return (\r\n      word == \"=\" ||\r\n      word == \"==\" ||\r\n      word == \"===\" ||\r\n      word == \"!=\" ||\r\n      word == \"!==\" ||\r\n      word == \"+\" ||\r\n      word == \"-\" ||\r\n      word == \"*\" ||\r\n      word == \"/\" ||\r\n      word == \"%\" ||\r\n      word == \"!\" ||\r\n      word == \"not\"\r\n    );\r\n  }\r\n\r\n  private _file_tokenizer(\r\n    code2: string,\r\n    positions: any[],\r\n    types: string[],\r\n    keepNewline: boolean = true\r\n  ) {\r\n    const code: string[] = code2.split(\"\\n\");\r\n    let prevLine: number = 0;\r\n    const retPos: any[] = [];\r\n    const retCode: any[] = [];\r\n    const retType: any[] = [];\r\n    const keyRow = \"row\";\r\n    const keyCol = \"column\";\r\n    for (let i = 0; i < positions.length; i++) {\r\n      const token = positions[i];\r\n      const sp = [token[0][keyRow], token[0][keyCol]];\r\n      const ep = [token[1][keyRow], token[1][keyCol]];\r\n      if (sp[0] !== prevLine && keepNewline) {\r\n        retPos.push([]);\r\n        retCode.push(\"\\n\");\r\n        retType.push(\"new_line\");\r\n      }\r\n      prevLine = ep[0];\r\n      if (types[i] === \"preproc_arg\") {\r\n        // This occurs in C++ after #defines and other preprocs\r\n        // Everything after the identifier is thrown in here,\r\n        // hence requires separate processing\r\n        retPos.push(token);\r\n        retType.push(types[i]);\r\n\r\n        // This will at least get rid of comments\r\n        retCode.push(\r\n          code[sp[0]]\r\n            .substring(sp[1], ep[1])\r\n            .split(\"//\")[0]\r\n            .replace(/\\/\\*(.|\\n)*\\*\\//g, \"\")\r\n        );\r\n      } else if (sp[0] === ep[0]) {\r\n        retPos.push(token);\r\n        retCode.push(code[sp[0]].substring(sp[1], ep[1]));\r\n        retType.push(types[i]);\r\n      } else {\r\n        let out = code[sp[0]].substring(sp[1]);\r\n        for (let lineid = sp[0] + 1; lineid < ep[0]; lineid++) {\r\n          out += code[lineid];\r\n        }\r\n        out += code[ep[0]].substring(0, ep[1]);\r\n        retPos.push(token);\r\n        retCode.push(out);\r\n        retType.push(types[i]);\r\n      }\r\n    }\r\n    // Manually check for empty final line\r\n    if (\r\n      code[code.length - 1].trim() === \"\" &&\r\n      keepNewline &&\r\n      retCode[retCode.length - 1] !== \"\\n\"\r\n    ) {\r\n      retPos.push([]);\r\n      retCode.push(\"\\n\");\r\n      retType.push(\"new_line\");\r\n    }\r\n    return [retPos, retCode, retType];\r\n  }\r\n\r\n  private get_tokens(node: any, tokens: any, types: any) {\r\n    if (node.children.length === 0) {\r\n      tokens.push([node.startPosition, node.endPosition]);\r\n      types.push(node.type);\r\n      return;\r\n    }\r\n    const specificTypes: string[] = [\r\n      \"concatenated_string\",\r\n      \"string_array\",\r\n      \"chained_string\",\r\n    ];\r\n    const nodeType: any = node.type;\r\n\r\n    if (\r\n      (specificTypes.indexOf(nodeType) === -1 &&\r\n        nodeType.indexOf(\"string\") !== -1) ||\r\n      nodeType.indexOf(\"char\") !== -1\r\n    ) {\r\n      tokens.push([\r\n        node.children[0].startPosition,\r\n        node.children[node.children.length - 1].endPosition,\r\n      ]);\r\n      types.push(nodeType);\r\n      return;\r\n    }\r\n    for (const child of node.children) {\r\n      this.get_tokens(child, tokens, types);\r\n    }\r\n  }\r\n\r\n  private norm_untokenize(\r\n    poses: any[],\r\n    tokens: string[],\r\n    types: string[],\r\n    litnames: string[][],\r\n    lits: { [key: string]: string[] },\r\n    comment = \"remove\",\r\n    indent = true\r\n  ) {\r\n    let codeString = \"\";\r\n    let prevSp: any = null;\r\n    let prevEp: any = null;\r\n    let prevIndent = 0;\r\n    let indentSize = -1;\r\n    for (let i = 0; i < poses.length; i++) {\r\n      const pos = poses[i];\r\n      const token: string = tokens[i];\r\n      const tp: string = types[i];\r\n      if (tp === \"new_line\" || tp === \"\\n\") {\r\n        codeString += \"\\n\";\r\n        continue;\r\n      }\r\n      // const sp = pos[0]\r\n      const keyRow: string = \"row\";\r\n      const keyCol: string = \"column\";\r\n      const keyRegex: string = \"regex\";\r\n      const keyChar: string = \"char\";\r\n      const keyStr: string = \"str\";\r\n      const keyNum: string = \"num\";\r\n      // const key\r\n      const sp = [pos[0][keyRow], pos[0][keyCol]];\r\n      const ep = [pos[1][keyRow], pos[1][keyCol]];\r\n      let addToken: string = token;\r\n\r\n      if (tp.indexOf(\"comment\") !== -1) {\r\n        if (comment === \"normalize\") {\r\n          addToken = \"#<COMMENT>\";\r\n        } else if (comment === \"keep\") {\r\n          addToken = token;\r\n        } else {\r\n          addToken = token.startsWith(\" \") ? \" \" : \"\";\r\n        }\r\n      } else if (\r\n        litnames[3].indexOf(tp) !== -1 &&\r\n        this.keywords.indexOf(token) === -1\r\n      ) {\r\n        if (lits[keyRegex].indexOf(token) !== -1) {\r\n          if (this.specialTokensMap.hasOwnProperty(token)) {\r\n            addToken = this.specialTokensMap[token];\r\n          } else {\r\n            addToken = \"<REGEX_LIT:\" + token + \">\";\r\n          }\r\n        } else {\r\n          addToken = \"<REGEX_LIT>\";\r\n        }\r\n      } else if (\r\n        litnames[2].indexOf(tp) !== -1 &&\r\n        this.keywords.indexOf(token) === -1\r\n      ) {\r\n        const charQuoteOptions = [\"'\", '\"'];\r\n        let startQuote: string = \"\";\r\n        let endQuote: string = \"\";\r\n        const qualifierRegex = /^[a-z]+/;\r\n        const qualifierRegexGlobal = /^[a-z]+/g;\r\n        const qualifierMatch = token.match(qualifierRegex);\r\n        let qualifier = \"\";\r\n        if (qualifierMatch != null) {\r\n          qualifier = qualifierMatch[0];\r\n        }\r\n        const tokenString = token.replace(qualifierRegexGlobal, \"\");\r\n        let charLit = tokenString;\r\n        for (const q of charQuoteOptions) {\r\n          if (tokenString.startsWith(q)) {\r\n            startQuote = q;\r\n            charLit = charLit.substring(q.length);\r\n            if (tokenString.endsWith(q)) {\r\n              endQuote = q;\r\n              charLit = charLit.substring(0, charLit.length - q.length);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n        for (const sc in this.unicodeCharsMap) {\r\n          if (this.unicodeCharsMap.hasOwnProperty(sc)) {\r\n            const tc = this.unicodeCharsMap[sc];\r\n            charLit = charLit.replace(sc, tc);\r\n          }\r\n        }\r\n        if (this.specialTokensMap.hasOwnProperty(charLit)) {\r\n          addToken = this.specialTokensMap[charLit];\r\n        } else {\r\n          if (lits[keyChar].indexOf(charLit) !== -1) {\r\n            addToken =\r\n              qualifier + startQuote + \"<CHAR_LIT:\" + charLit + \">\" + endQuote;\r\n          } else {\r\n            addToken = qualifier + startQuote + \"<CHAR_LIT>\" + endQuote;\r\n          }\r\n        }\r\n      } else if (litnames[1].includes(tp) && !this.keywords.includes(token)) {\r\n        let strLit = \"\";\r\n        let qualifier = \"\";\r\n\r\n        const cppRawStringIdentifier = 'R\"(';\r\n        if (token.startsWith(cppRawStringIdentifier)) {\r\n          // This is a C++ Raw String scenario. Must be handled separately.\r\n          qualifier = \"R\";\r\n          strLit = token\r\n            .substring(cppRawStringIdentifier.length)\r\n            .slice(0, -')\"'.length);\r\n        } else {\r\n          const strQuoteOptions = [\"'''\", '\"\"\"', \"'\", '\"', \"`\"];\r\n          const qualifierRegex = /^([a-z]+|@)/;\r\n          const qualifierRegexGlobal = /^([a-z]+|@)/g;\r\n          const qualifierMatch = token.match(qualifierRegex);\r\n          if (qualifierMatch != null) {\r\n            qualifier = qualifierMatch[0];\r\n          }\r\n          const tokenString = token.replace(qualifierRegexGlobal, \"\");\r\n          strLit = tokenString;\r\n          for (const q of strQuoteOptions) {\r\n            // const q = strQuoteOptions[index];\r\n            if (tokenString.startsWith(q)) {\r\n              strLit = strLit.substring(q.length);\r\n              if (tokenString.endsWith(q)) {\r\n                strLit = strLit.substring(0, strLit.length - q.length);\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        for (const sc in this.unicodeCharsMap) {\r\n          if (this.unicodeCharsMap.hasOwnProperty(sc)) {\r\n            const tc = this.unicodeCharsMap[sc];\r\n            strLit = strLit.replace(new RegExp(sc, \"g\"), tc);\r\n          }\r\n        }\r\n        if (this.specialTokensMap.hasOwnProperty(strLit)) {\r\n          addToken = this.specialTokensMap[strLit];\r\n        } else {\r\n          if (lits[keyStr].indexOf(strLit) !== -1) {\r\n            addToken = qualifier + \"<STR_LIT:\" + strLit + \">\";\r\n          } else {\r\n            addToken = qualifier + \"<STR_LIT>\";\r\n          }\r\n        }\r\n      } else if (litnames[0].includes(tp) && !this.keywords.includes(token)) {\r\n        if (lits[keyNum].indexOf(token) !== -1) {\r\n          if (this.specialTokensMap.hasOwnProperty(token)) {\r\n            addToken = this.specialTokensMap[token];\r\n          } else {\r\n            addToken = \"<NUM_LIT:\" + token + \">\";\r\n          }\r\n        } else {\r\n          addToken = \"<NUM_LIT>\";\r\n        }\r\n      }\r\n\r\n      if (prevSp == null) {\r\n        codeString += addToken;\r\n      }\r\n\r\n      if (prevEp != null) {\r\n        if (sp[0] === prevEp[0] && sp[1] === prevEp[1]) {\r\n          codeString += addToken;\r\n        } else if (sp[0] === prevEp[0]) {\r\n          if (codeString[codeString.length - 1] !== \" \") {\r\n            codeString += \" \";\r\n          }\r\n          codeString += addToken;\r\n        } else {\r\n          if (indent && addToken) {\r\n            codeString += \"\\n\";\r\n            let omit = false;\r\n            if (sp[1] !== prevIndent && prevIndent === 0 && indentSize === -1) {\r\n              indentSize = sp[1] - prevIndent;\r\n            }\r\n            if (sp[1] - prevIndent > 0) {\r\n              if (sp[1] - prevIndent > 2 * indentSize) {\r\n                omit = true;\r\n              } else {\r\n                for (let jj = prevIndent; jj < sp[1]; jj += indentSize) {\r\n                  codeString += \"<INDENT>\";\r\n                }\r\n              }\r\n            } else if (sp[1] - prevIndent < 0) {\r\n              for (let kk = sp[1]; kk < prevIndent; kk = kk + indentSize) {\r\n                codeString += \"<DEDENT>\";\r\n              }\r\n            }\r\n            codeString += addToken;\r\n            if (!omit) {\r\n              prevIndent = sp[1];\r\n            }\r\n          } else {\r\n            codeString += \"\\n\";\r\n            for (let ii = 0; ii < sp[1]; ii++) {\r\n              codeString += \" \";\r\n            }\r\n            codeString += addToken;\r\n          }\r\n        }\r\n      }\r\n      prevSp = sp;\r\n      prevEp = ep;\r\n    }\r\n    const processedCode = codeString.replace(/^\\s*/g, \"\");\r\n    const ret = processedCode.replace(/\\s*\\n/g, \"\\n\");\r\n    return ret;\r\n  }\r\n}\r\n","import { LanguageId } from \"../../utils/language\";\r\nconst { ConfidenceThreshold } = require(\"../../model/metadata.json\");\r\n\r\nexport interface SettingsStorage {\r\n  get<T>(section: string, key: string, defaultValue: T): T;\r\n}\r\nclass Settings {\r\n  constructor(private storage: SettingsStorage) {}\r\n\r\n  public get LOG_LEVEL():\r\n    | \"ALL\"\r\n    | \"DEBUG\"\r\n    | \"INFO\"\r\n    | \"WARN\"\r\n    | \"ERROR\"\r\n    | \"FATAL\"\r\n    | \"OFF\" {\r\n    return this.storage.get(\"intellicodeCompletions\", \"loggingLevel\", \"ERROR\");\r\n  }\r\n\r\n  public get TOKEN_LOOKBACK(): number {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"maxInputSize\",\r\n      256\r\n    );\r\n  }\r\n\r\n  public get MAX_TOKENS_GENERATED(): number {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"maxTokensGenerated\",\r\n      10\r\n    );\r\n  }\r\n\r\n  // Currently has no effect.\r\n  // Model will generate no less than this value.\r\n  public get CACHE_FREQUENCY(): number {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"cacheFrequency\",\r\n      10\r\n    );\r\n  }\r\n\r\n  public get CONFIDENCE_THRESHOLD(): number {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"defaultConfidenceThreshold\",\r\n      ConfidenceThreshold\r\n    );\r\n  }\r\n\r\n  public get LOG_CONFIDENCE_THRESHHOLD(): number {\r\n    return Math.log(this.CONFIDENCE_THRESHOLD);\r\n  }\r\n\r\n  public readonly CUMULATIVE_PROBABILITY_THRESHOLD_PER_LANGUAGE: Map<\r\n    string,\r\n    number\r\n  > = new Map<string, number>([\r\n    [LanguageId.JAVA, this.CONFIDENCE_THRESHOLD],\r\n    [LanguageId.JAVASCRIPT, this.CONFIDENCE_THRESHOLD],\r\n    [LanguageId.JAVASCRIPT_REACT, this.CONFIDENCE_THRESHOLD],\r\n    [LanguageId.PYTHON, this.CONFIDENCE_THRESHOLD],\r\n    [LanguageId.TYPESCRIPT, this.CONFIDENCE_THRESHOLD],\r\n    [LanguageId.TYPESCRIPT_REACT, this.CONFIDENCE_THRESHOLD],\r\n  ]);\r\n\r\n  public getConfidence(lang: string): number {\r\n    if (!this.CUMULATIVE_PROBABILITY_THRESHOLD_PER_LANGUAGE.has(lang)) {\r\n      throw new Error(lang + \" does not have a confidence threshold defined\");\r\n    }\r\n    const o = this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"langSpecificCumulativeProbabilityThreshold\",\r\n      null /* specifically use null instead of undefined here, so that we cache the result null */\r\n    ) as any as {\r\n      [key in string]: number;\r\n    };\r\n    if (!o || !o[lang]) {\r\n      return (\r\n        this.CUMULATIVE_PROBABILITY_THRESHOLD_PER_LANGUAGE.get(lang) ||\r\n        this.CONFIDENCE_THRESHOLD\r\n      );\r\n    }\r\n    return o[lang];\r\n  }\r\n\r\n  public getLogConfidence(lang: string): number {\r\n    return Math.log(this.getConfidence(lang));\r\n  }\r\n\r\n  public readonly DEFAULT_FIRST_TOKEN_THRESHOLD: number = -1.4;\r\n\r\n  public readonly FIRST_TOKEN_THRESHOLD_PER_LANGUAGE: Map<string, number> =\r\n    new Map<string, number>([\r\n      [LanguageId.JAVA, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n      [LanguageId.JAVASCRIPT, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n      [LanguageId.JAVASCRIPT_REACT, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n      [LanguageId.PYTHON, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n      [LanguageId.TYPESCRIPT, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n      [LanguageId.TYPESCRIPT_REACT, this.DEFAULT_FIRST_TOKEN_THRESHOLD],\r\n    ]);\r\n\r\n  public getFirstTokenConfidenceThreshold(lang: string): number {\r\n    if (!this.FIRST_TOKEN_THRESHOLD_PER_LANGUAGE.has(lang)) {\r\n      throw new Error(lang + \" does not have a first token threshold defined\");\r\n    }\r\n\r\n    const o = this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"langSpecificFirstTokenThreshold\",\r\n      undefined\r\n    ) as any as { [key in string]: number };\r\n    if (!o || !o[lang]) {\r\n      return (\r\n        this.FIRST_TOKEN_THRESHOLD_PER_LANGUAGE.get(lang) ||\r\n        this.DEFAULT_FIRST_TOKEN_THRESHOLD\r\n      );\r\n    }\r\n    return o[lang];\r\n  }\r\n\r\n  public getLanguageEnabled(lang: string): boolean {\r\n    if (lang === LanguageId.TYPESCRIPT_REACT) {\r\n      return this.storage.get(\"intellicodeCompletions.language\", LanguageId.TYPESCRIPT, false);\r\n    } else if (lang === LanguageId.JAVASCRIPT_REACT) {\r\n      return this.storage.get(\"intellicodeCompletions.language\", LanguageId.JAVASCRIPT, false);\r\n    } else {\r\n      return this.storage.get(\"intellicodeCompletions.language\", lang, false);\r\n    }\r\n  }\r\n\r\n  public get WLC_RECOMMENDATION_LENGTH_PENALTY(): number {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"recommendationLengthPenalty\",\r\n      1.01\r\n    );\r\n  }\r\n\r\n  public get USE_WORKER_THREAD(): boolean {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"inferenceWorkerThread\",\r\n      true\r\n    );\r\n  }\r\n\r\n  public get BRACE_COMPLETION(): boolean {\r\n    return this.storage.get(\r\n      \"intellicode-completions.internal\",\r\n      \"braceCompletions\",\r\n      false\r\n    );\r\n  }\r\n\r\n  public get PARSE_ERROR_FILTER(): boolean {\r\n    return this.storage.get(\r\n      \"intellicodeCompletions\",\r\n      \"parseErrorFilter\",\r\n      false\r\n    );\r\n  }\r\n\r\n  public get SNIPPET_COMPLETION(): boolean {\r\n    return this.storage.get(\r\n      \"intellicodeCompletions\",\r\n      \"snippetCompletions\",\r\n      true\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;\r\n","import { workspace } from \"vscode\";\r\nimport { SettingsStorage } from \"./settings\";\r\n\r\nexport class VSCodeSettings implements SettingsStorage {\r\n  get<T>(section: string, key: string, defaultValue: T): T {\r\n    return workspace.getConfiguration(section).get(key, defaultValue);\r\n  }\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport ISurveyService from \"./surveyService\";\r\nimport * as constants from \"./index\";\r\n\r\nexport default class FeedbackSurveyService implements ISurveyService {\r\n  context: vscode.ExtensionContext;\r\n\r\n  constructor(extensionContext: vscode.ExtensionContext) {\r\n    this.context = extensionContext;\r\n  }\r\n\r\n  public initializeGlobalStateKeys() {\r\n    this.context.globalState.setKeysForSync([\r\n      constants.DO_NOT_SHOW_AGAIN_SELECTED,\r\n      constants.NUMBER_OF_COMPLETIONS_SHOWN,\r\n      constants.NOTIFICATION_ALREADY_SHOWN,\r\n      constants.SHOW_NOTIFICATION_AT_TIME,\r\n      constants.LAST_TIME_USER_WAS_ACTIVE,\r\n    ]);\r\n  }\r\n\r\n  public async showToastNotification() {\r\n    if (!this.shouldShowNotification()) {\r\n      return;\r\n    }\r\n\r\n    const options = [\r\n      constants.NOTIFICATION_RESPONSE_YES,\r\n      constants.NOTIFICATION_RESPONSE_MAYBE_LATER,\r\n      constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN,\r\n    ];\r\n    this.context.globalState.update(constants.NOTIFICATION_ALREADY_SHOWN, true);\r\n    const selection = await vscode.window.showInformationMessage(\r\n      constants.FEEDBACK_MESSAGE,\r\n      ...options\r\n    );\r\n\r\n    if (!selection) {\r\n      return;\r\n    }\r\n\r\n    if (selection === constants.NOTIFICATION_RESPONSE_YES) {\r\n      vscode.env.openExternal(vscode.Uri.parse(constants.FEEDBACK_SURVEY_URI));\r\n    } else if (selection === constants.NOTIFICATION_RESPONSE_MAYBE_LATER) {\r\n      // Show notification after some time\r\n      this.context.globalState.update(\r\n        constants.SHOW_NOTIFICATION_AT_TIME,\r\n        new Date().getTime() + constants.MAYBE_LATER_WAIT_TIME\r\n      );\r\n      this.context.globalState.update(\r\n        constants.NOTIFICATION_ALREADY_SHOWN,\r\n        false\r\n      );\r\n    } else if (\r\n      selection === constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN\r\n    ) {\r\n      this.context.globalState.update(\r\n        constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN,\r\n        true\r\n      );\r\n    }\r\n  }\r\n\r\n  private shouldShowNotification(): boolean {\r\n    if (\r\n      this.context.globalState.get(\r\n        constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    if (this.context.globalState.get(constants.NOTIFICATION_ALREADY_SHOWN)) {\r\n      return false;\r\n    }\r\n\r\n    const oldNumberOfCompletionsShown: number =\r\n      this.context.globalState.get(constants.NUMBER_OF_COMPLETIONS_SHOWN) ?? 0;\r\n    if (\r\n      oldNumberOfCompletionsShown <\r\n      constants.CAN_SHOW_SURVEY_AFTER_NUMBER_OF_COMPLETIONS\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    const timeNow: number = new Date().getTime();\r\n    const showNotificationWhenTime: number =\r\n      this.context.globalState.get(constants.SHOW_NOTIFICATION_AT_TIME) ?? 0;\r\n    if (timeNow < showNotificationWhenTime) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public incrementNumberOfCompletionsShown() {\r\n    const oldNumberOfCompletionsShown: number =\r\n      this.context.globalState.get(constants.NUMBER_OF_COMPLETIONS_SHOWN) ?? 0;\r\n    this.context.globalState.update(\r\n      constants.NUMBER_OF_COMPLETIONS_SHOWN,\r\n      oldNumberOfCompletionsShown + 1\r\n    );\r\n  }\r\n}\r\n","import FeedbackSurveyService from \"./feedbackSurveyService\";\r\n\r\n// Survey response options\r\nexport const NOTIFICATION_RESPONSE_YES: string = \"Yes\";\r\nexport const NOTIFICATION_RESPONSE_MAYBE_LATER: string = \"Maybe later\";\r\nexport const NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN: string =\r\n  \"Do not show again\";\r\n\r\nconst EXTENSION_ID_PREFIX =\r\n  \"visualstudioexptteam.vscodeintellicode-completions/\";\r\n\r\n// Global State Keys\r\nexport const DO_NOT_SHOW_AGAIN_SELECTED: string =\r\n  EXTENSION_ID_PREFIX + \"doNotShowAgain\";\r\nexport const NUMBER_OF_COMPLETIONS_SHOWN: string =\r\n  EXTENSION_ID_PREFIX + \"numberOfCompletionsShown\";\r\nexport const NOTIFICATION_ALREADY_SHOWN: string =\r\n  EXTENSION_ID_PREFIX + \"notificationAlreadyShown\";\r\nexport const SHOW_NOTIFICATION_AT_TIME =\r\n  EXTENSION_ID_PREFIX + \"showNotificationAtTime\";\r\nexport const LAST_TIME_USER_WAS_ACTIVE: string =\r\n  EXTENSION_ID_PREFIX + \"lastTimeUserWasActive\";\r\nexport const COPILOT_NOTIFICATION_DO_NOT_SHOW_AGAIN: string =\r\n  EXTENSION_ID_PREFIX + \"copilotNotificationDoNotShowAgain\";\r\nexport const UNSUPPORTED_ARCH_NOTIFICATION_DO_NOT_SHOW_AGAIN: string =\r\n  EXTENSION_ID_PREFIX + \"unsupportedArchNotificationDoNotShowAgain\";\r\nexport const COPILOT_ENABLED: string = EXTENSION_ID_PREFIX + \"copilotEnabled\";\r\n\r\n// Survey constants\r\nexport const FEEDBACK_SURVEY_URI: string =\r\n  \"https://aka.ms/ICVSCodeInlineSurvey\";\r\nexport const FEEDBACK_MESSAGE: string =\r\n  \"Would you like to provide feedback for IntelliCode whole line completions?\";\r\n\r\n/**\r\n * When user clicks on Maybe Later, they'll see the notification again in 24 hours\r\n */\r\nexport const MAYBE_LATER_WAIT_TIME: number = 1000 * 60 * 60 * 24; // 24 hours\r\n/**\r\n * The user gets a feedback notification only after they've seen 500 IntelliCode completions\r\n */\r\nexport const CAN_SHOW_SURVEY_AFTER_NUMBER_OF_COMPLETIONS: number = 500;\r\n/**\r\n * The user needs to be in rest state i.e. inactive for 15 seconds before they get a notification\r\n */\r\nexport const USER_IN_REST_STATE_TIME: number = 1000 * 15; // 15 seconds\r\n\r\nexport { FeedbackSurveyService };\r\n","import { ILoggingService } from \"../logging\";\r\nimport { LanguageId } from \"../../utils/language\";\r\nimport * as Parser from \"web-tree-sitter\";\r\nimport { ParsedCode } from \"../normalization/normalizationService\";\r\nimport { DocumentRange } from \"../../utils/range/documentRange\";\r\nimport { matchBraces } from \"../../utils/postProcRules\";\r\n\r\nexport class TreeSitterSyntacticFilterService {\r\n  /**\r\n   *\r\n   * @param Logger Instance of a LoggingService\r\n   */\r\n  public constructor(private Logger: ILoggingService) {}\r\n\r\n  /**\r\n   * Walks a syntax tree and applies tags to nodes.\r\n   * @param parsedCode Parsed syntax tree to apply tags to.\r\n   * @param previousParse Previous parsed syntax tree to use as reference for some tags (such as Changed)\r\n   * @param insertedSuggestionRange A document range where a suggestion was applied, used as reference for some tags.\r\n   * @returns Tagged nodes.\r\n   */\r\n  public tagSyntaxNodes(\r\n    parsedCode: ParsedCode,\r\n    previousParse: ParsedCode | undefined,\r\n    insertedSuggestionRange: DocumentRange | undefined\r\n  ): TaggedNodes {\r\n    const tags: TaggedNodes = new TaggedNodes(parsedCode.lang);\r\n\r\n    // If there was a previous parse to diff against, get the changed ranges.\r\n    let changedRanges: Parser.Range[] | undefined;\r\n    if (previousParse !== undefined) {\r\n      changedRanges = parsedCode.tree.getChangedRanges(previousParse.tree);\r\n    }\r\n\r\n    // Walk the tree and collect interesting nodes.\r\n    const nodes: {\r\n      node: Parser.SyntaxNode;\r\n      parentTags: Set<NodeTag>;\r\n    }[] = [\r\n      {\r\n        node: parsedCode.tree.rootNode,\r\n        parentTags: new Set<NodeTag>(),\r\n      },\r\n    ];\r\n\r\n    while (nodes.length > 0) {\r\n      let shouldVisitChildNodes = false; // so we know whether to visit child nodes\r\n      const current = nodes.shift();\r\n      if (current === undefined) {\r\n        throw new Error(\"node was undefined but shouldn't be\");\r\n      }\r\n\r\n      // hasError and isMissing are true if this node or any child nodes are errors or missing. Use this to direct\r\n      // which child nodes we need to visit.\r\n      if (current.node.hasError() || current.node.isMissing()) {\r\n        shouldVisitChildNodes = true;\r\n      }\r\n\r\n      // Collect nodes that intersect with the suggestion.\r\n      let nodeRange = new DocumentRange(\r\n        current.node.startPosition.row,\r\n        current.node.startPosition.column,\r\n        current.node.endPosition.row,\r\n        current.node.endPosition.column\r\n      );\r\n      if (insertedSuggestionRange !== undefined) {\r\n        if (insertedSuggestionRange.rangesOverlap(nodeRange)) {\r\n          tags.tagNode(current.node, NodeTag.OverlapsSuggestion);\r\n          shouldVisitChildNodes = true;\r\n        }\r\n        if (insertedSuggestionRange.containsRange(nodeRange)) {\r\n          tags.tagNode(current.node, NodeTag.InsideSuggestion);\r\n          shouldVisitChildNodes = true;\r\n        }\r\n      }\r\n\r\n      // Tags based on node type\r\n      if (current.node.type === \"ERROR\" || current.node.type === \"MISSING\") {\r\n        const nodeTags = this.getTagsForErrorAndMissingNodes(current.node);\r\n        for (const tag of nodeTags) {\r\n          tags.tagNode(current.node, tag);\r\n        }\r\n      } else if (current.node.type === \"parenthesized_expression\") {\r\n        tags.tagNode(current.node, NodeTag.Parenthesized);\r\n      } else if (parsedCode.lang === \"python\" && current.node.type === \"print_statement\") {\r\n        // Python 2.x-style print statements should not be suggested.\r\n        tags.tagNode(current.node, NodeTag.Error);\r\n      }\r\n\r\n      // If comparing two parses, tag nodes which are intersecting the parse change ranges\r\n      if (changedRanges !== undefined) {\r\n        for (const changedRange of changedRanges) {\r\n          // If the error is completely before or completely after the changed range, it does not intersect the change\r\n          if (\r\n            (current.node.startIndex <= changedRange.startIndex &&\r\n              current.node.endIndex <= changedRange.startIndex) ||\r\n            (current.node.startIndex >= changedRange.endIndex &&\r\n              current.node.endIndex >= changedRange.endIndex)\r\n          ) {\r\n            continue; // keep looping because another changed range may intersect with the error\r\n          }\r\n          tags.tagNode(current.node, NodeTag.Changed);\r\n        }\r\n      }\r\n\r\n      if (current.node.children.length == 0) {\r\n        tags.tagNode(current.node, NodeTag.Leaf);\r\n      }\r\n\r\n      // tags based on the parent's tags\r\n      if (\r\n        current.parentTags.has(NodeTag.Error) ||\r\n        current.parentTags.has(NodeTag.ErrorChild)\r\n      ) {\r\n        tags.tagNode(current.node, NodeTag.ErrorChild);\r\n      }\r\n\r\n      if (current.parentTags.has(NodeTag.Parenthesized)) {\r\n        tags.tagNode(current.node, NodeTag.Parenthesized);\r\n      }\r\n\r\n      // Optimization so we don't need to visit every node:\r\n      // If the current node contains any ERROR or MISSING nodes, or intersects with the suggestion, we should visit all child nodes.\r\n      // Revisit if we need to tag more nodes\r\n      if (shouldVisitChildNodes) {\r\n        const thisNodeTags = tags.getNodeTags(current.node.id);\r\n        for (const child of current.node.children) {\r\n          nodes.push({\r\n            node: child,\r\n            parentTags: thisNodeTags,\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return tags;\r\n  }\r\n\r\n  private getTagsForErrorAndMissingNodes(node: Parser.SyntaxNode): NodeTag[] {\r\n    // Nodes with type \"ERROR\" and \"MISSING\" will be given the \"Error\" tag by default, with exceptions.\r\n    // If a node is tagged both \"Error\" and \"OverlapsSuggestion\" then the whole prediction is filtered.\r\n    // We want this usually to catch obviously incorrect code, but there are cases that cause parse errors which are actually not reason to discard the prediction.\r\n\r\n    // If the node has unmatched braces, then allow the error\r\n    const unmatchedBraces = matchBraces(node.text);\r\n    if (unmatchedBraces.length > 0) {\r\n      return [NodeTag.ErrorUnmatched];\r\n    }\r\n\r\n    if (node.id == node.tree.rootNode.id) {\r\n      // Do *not* tag the root node if it's an error. These are likely to be false positives.\r\n      return [];\r\n    }\r\n\r\n    // Any error/missing node which didn't match any of the exceptional cases.\r\n    return [NodeTag.Error];\r\n  }\r\n}\r\n\r\n// Tags that can be assigned to a node\r\nexport enum NodeTag {\r\n  OverlapsSuggestion, // This node overlaps the gray text region\r\n  InsideSuggestion, // This node is completely within the gray text region\r\n  Error, // This is an ERROR or MISSING node\r\n  ErrorChild, // This node is the child of an ERROR or MISSING node\r\n  Changed, // This node was affected somehow by the suggestion (usually this is the entire document following the suggestion)\r\n  Leaf, // This node has no children.\r\n  Parenthesized, // This node is within a parenthesized expression (or is itself parentheses). TODO: Not used yet, revisit later. I was trying to allow parse errors which open a ( but don't close it\r\n  ErrorUnmatched, // This node is an ERROR or MISSING node containing unmatched braces.\r\n}\r\n\r\nexport class TaggedNodes {\r\n  public tagNodeMap: Map<NodeTag, Map<number, Parser.SyntaxNode>>;\r\n  constructor(public language: LanguageId) {\r\n    this.tagNodeMap = new Map();\r\n  }\r\n\r\n  /**\r\n   * Apply a tag to a syntax node.\r\n   * @param node The node to tag. Node ids must stay consistent for tags to be valid.\r\n   * @param tag The tag to apply to the node.\r\n   */\r\n  public tagNode(node: Parser.SyntaxNode, tag: NodeTag) {\r\n    let idMapForTag = this.tagNodeMap.get(tag);\r\n\r\n    if (idMapForTag === undefined) {\r\n      idMapForTag = new Map();\r\n      this.tagNodeMap.set(tag, idMapForTag);\r\n    }\r\n\r\n    idMapForTag.set(node.id, node);\r\n  }\r\n\r\n  /**\r\n   * Get all nodes that are tagged with /all/ of the specified tags.\r\n   * @param tags The set of tags to require on a node for it to be returned.\r\n   * @returns The nodes which had all of the tags.\r\n   */\r\n  public getNodesWithAllTags(...tags: NodeTag[]): Parser.SyntaxNode[] {\r\n    let collectedNodes: Parser.SyntaxNode[] = [];\r\n\r\n    for (let i = 0; i < tags.length; i++) {\r\n      let idMapForTag = this.tagNodeMap.get(tags[i]);\r\n\r\n      if (idMapForTag === undefined) {\r\n        // A tag was not present in the map, so we can conclude that there are no nodes that are in all the specified tags and exit early.\r\n        return [];\r\n      }\r\n\r\n      if (i == 0) {\r\n        // For the first tag, just copy the entire list\r\n        collectedNodes = [...idMapForTag.values()];\r\n      } else {\r\n        // For subsequent tags, narrow down the set by pruning nodes that aren't in the map\r\n        // Iterate backwards through the list of collected nodes so that the indices of untested nodes don't change when we delete them.\r\n        for (let i = collectedNodes.length - 1; i >= 0; i--) {\r\n          if (!idMapForTag.has(collectedNodes[i].id)) {\r\n            collectedNodes.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return collectedNodes;\r\n  }\r\n\r\n  /**\r\n   * Get all tags that have been assigned to a node\r\n   * @param nodeId The id of the node to get tags for.\r\n   * @returns A set of tags that were assigned to the node.\r\n   */\r\n  public getNodeTags(nodeId: number): Set<NodeTag> {\r\n    const nodeTags: Set<NodeTag> = new Set<NodeTag>();\r\n    for (let [tag, idMapForTag] of this.tagNodeMap) {\r\n      if (idMapForTag.has(nodeId)) {\r\n        nodeTags.add(tag);\r\n      }\r\n    }\r\n    return nodeTags;\r\n  }\r\n}\r\n","/*! Copyright (c) Microsoft Corporation. All rights reserved. */\r\n\r\nimport * as crypto from \"crypto\";\r\nimport { IExperimentationTelemetry } from \"tas-client\";\r\nimport TelemetryReporter from \"vscode-extension-telemetry\";\r\nimport { ITelemetrySender } from \"./sender\";\r\nimport { LogLevel } from \"../logging\";\r\nimport { Instance as Logger } from \"../logging/VSCodeOutputLogger\";\r\nimport * as vscode from \"vscode\";\r\nimport EventEmitter = require(\"events\");\r\nimport {\r\n  TelemetryEventEmitter,\r\n  TelemetryEventNames,\r\n  TelemetryMeasureNames,\r\n  TelemetryPropertyNames,\r\n} from \"../../@types/telemetry\";\r\n\r\nexport function initVsCodeTelemetryService(context: vscode.ExtensionContext) {\r\n  /**\r\n   * vscode.ExtensionContext according to the .d.ts file does not expose .extension\r\n   * However, it exists and is usable.\r\n   *\r\n   * This may cause problems if vscode changes their API.\r\n   */\r\n  //@ts-ignore\r\n  const { aiKey, name, version } = context.extension.packageJSON;\r\n  return new Telemetry(name, version, aiKey);\r\n}\r\n\r\nfunction shortHashPII(value: string): string {\r\n  // store a short hash if collecting PII is not allowed.\r\n  const hash = crypto.createHash(\"sha256\");\r\n  hash.update(value);\r\n  return hash.digest(\"hex\").substr(0, 8);\r\n}\r\n\r\nfunction removePath(filePath: string): string {\r\n  // Path names are PII, so we need to remove all parts preceding the filename\r\n  return filePath.replace(/([A-Z]:)?[\\\\\\/](.*[\\\\\\/])*/gi, \"\");\r\n}\r\n\r\nexport class Telemetry implements IExperimentationTelemetry, ITelemetrySender {\r\n  public static readonly canCollectPII = false; // todo: make this configurable\r\n\r\n  public reporter: TelemetryReporter;\r\n  private contextProperties: Partial<Record<TelemetryPropertyNames, any>>;\r\n  private correlationEvent: TelemetryEvent | undefined;\r\n\r\n  /**\r\n   * EventEmitter that will be lazily initialized.\r\n   * Currently used during testing.\r\n   */\r\n  private eventEmitter?: TelemetryEventEmitter;\r\n\r\n  constructor(name: string, version: string, aiKey: string) {\r\n    this.reporter = new TelemetryReporter(name, version, aiKey);\r\n    this.contextProperties = {};\r\n  }\r\n\r\n  /**\r\n   * Initialize and return an event emitter\r\n   */\r\n  public get EventEmitter() {\r\n    if (this.eventEmitter === undefined) {\r\n      this.eventEmitter = new EventEmitter();\r\n    }\r\n    return this.eventEmitter;\r\n  }\r\n\r\n  public addContextProperty(\r\n    property: TelemetryPropertyNames,\r\n    value: any,\r\n    isPII = false\r\n  ): void {\r\n    // no need to set `undefined` values\r\n    if (value === undefined) {\r\n      return;\r\n    }\r\n\r\n    const valueString = String(value);\r\n\r\n    if (isPII && !Telemetry.canCollectPII) {\r\n      this.contextProperties[property] = shortHashPII(valueString);\r\n    } else {\r\n      this.contextProperties[property] = valueString;\r\n    }\r\n  }\r\n\r\n  public removeContextProperty(property: TelemetryPropertyNames): void {\r\n    delete this.contextProperties[property];\r\n  }\r\n\r\n  public sendTelemetryEvent(\r\n    eventName: TelemetryEventNames,\r\n    properties?: Partial<Record<TelemetryPropertyNames, any>>,\r\n    measures?: Partial<Record<TelemetryMeasureNames, number>>\r\n  ) {\r\n    if (this.reporter === undefined) {\r\n      Logger.write(\r\n        LogLevel.ERROR,\r\n        \"Tried to send a telemetry event but the reporter has been disposed.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.reporter.sendTelemetryEvent(\r\n      eventName,\r\n      this.addContextPropertiesToObject(properties),\r\n      measures\r\n    );\r\n    this.eventEmitter?.emit(eventName, {\r\n      properties: properties,\r\n      measures: measures,\r\n    });\r\n    this.eventEmitter?.emit(\"telemetrySent\", {\r\n      telemetryEventName: eventName,\r\n      properties: properties,\r\n      measures: measures,\r\n    });\r\n  }\r\n\r\n  public setSharedProperty(name: TelemetryPropertyNames, value: string): void {\r\n    // This will allow us to add a context property to the telemetry events.\r\n    // By doing this, we will be able to publish the assignment context we get from experimentation service.\r\n    this.addContextProperty(name, value);\r\n  }\r\n\r\n  public postEvent(\r\n    eventName: TelemetryEventNames,\r\n    props: Map<string, string>\r\n  ): void {\r\n    // This allows us to post the event\r\n    // whenever a flight is requested from the client.\r\n    const obj: any = {};\r\n\r\n    // Converting the Map into an object.\r\n    for (const prop of props) {\r\n      obj[prop[0]] = prop[1];\r\n    }\r\n\r\n    this.sendTelemetryEvent(eventName, obj);\r\n  }\r\n\r\n  public sendFault(\r\n    eventName: TelemetryEventNames,\r\n    type: FaultType,\r\n    details?: string,\r\n    exception?: any,\r\n    correlatedEvent?: TelemetryEvent\r\n  ) {\r\n    new Fault(\r\n      this,\r\n      eventName,\r\n      type,\r\n      details,\r\n      exception,\r\n      correlatedEvent\r\n    ).send();\r\n  }\r\n\r\n  public setCorrelationEvent(correlationEvent: TelemetryEvent) {\r\n    this.correlationEvent = correlationEvent;\r\n  }\r\n\r\n  public removeCorrelationEvent(correlationEvent: TelemetryEvent) {\r\n    if (this.correlationEvent === correlationEvent) {\r\n      this.correlationEvent = undefined;\r\n    }\r\n  }\r\n\r\n  public startTimedEvent(\r\n    eventName: TelemetryEventNames,\r\n    correlate = false\r\n  ): TimedEvent {\r\n    return new TimedEvent(this, eventName, correlate);\r\n  }\r\n\r\n  public correlate(telemetryEvent: TelemetryEvent): void {\r\n    if (this.correlationEvent) {\r\n      telemetryEvent.correlateWith(this.correlationEvent);\r\n    }\r\n  }\r\n\r\n  private addContextPropertiesToObject(\r\n    properties?: Partial<Record<TelemetryPropertyNames, any>>\r\n  ) {\r\n    return Object.assign({}, this.contextProperties, properties);\r\n  }\r\n}\r\n\r\nexport class TelemetryEvent {\r\n  protected telemetryInstance: Telemetry;\r\n  private eventName: TelemetryEventNames;\r\n  private properties: Partial<Record<TelemetryPropertyNames, string>>;\r\n  private measures: Partial<Record<TelemetryMeasureNames, number>>;\r\n  private correlationId: number;\r\n\r\n  constructor(\r\n    telemetryInstance: Telemetry,\r\n    eventName: TelemetryEventNames,\r\n    correlate = false\r\n  ) {\r\n    this.telemetryInstance = telemetryInstance;\r\n    this.eventName = eventName;\r\n    this.properties = {};\r\n    this.measures = {};\r\n    // tslint:disable-next-line:insecure-random\r\n    this.correlationId = Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\r\n    if (correlate) {\r\n      telemetryInstance.correlate(this);\r\n    }\r\n  }\r\n\r\n  public addProperty(\r\n    property: TelemetryPropertyNames,\r\n    value: any,\r\n    isPII = false\r\n  ): void {\r\n    // no need to set `undefined` values\r\n    if (value === undefined) {\r\n      return;\r\n    }\r\n\r\n    const valueString = String(value);\r\n\r\n    if (isPII && !Telemetry.canCollectPII) {\r\n      this.properties[property] = shortHashPII(valueString);\r\n    } else {\r\n      this.properties[property] = valueString;\r\n    }\r\n  }\r\n\r\n  public propertyExists(property: string) {\r\n    return property in this.properties;\r\n  }\r\n\r\n  public addMeasure(measure: TelemetryMeasureNames, value: number): void {\r\n    this.measures[measure] = value;\r\n  }\r\n\r\n  public getCorrelationId(): number {\r\n    return this.correlationId;\r\n  }\r\n\r\n  public correlateWith(otherEvent: TelemetryEvent) {\r\n    this.correlationId = otherEvent.getCorrelationId();\r\n  }\r\n\r\n  public correlateWithId(correlationId: number) {\r\n    this.correlationId = correlationId;\r\n  }\r\n\r\n  public async send() {\r\n    this.addMeasure(TelemetryMeasureNames.CORRELATION_ID, this.correlationId);\r\n    this.telemetryInstance.sendTelemetryEvent(\r\n      this.eventName,\r\n      this.properties,\r\n      this.measures\r\n    );\r\n  }\r\n}\r\n\r\nexport class Fault extends TelemetryEvent {\r\n  constructor(\r\n    telemetryInstance: Telemetry,\r\n    eventName: TelemetryEventNames,\r\n    type: FaultType,\r\n    details?: string,\r\n    exception?: any,\r\n    correlatedEvent?: TelemetryEvent\r\n  ) {\r\n    super(telemetryInstance, eventName);\r\n    this.addProperty(TelemetryPropertyNames.FAULT_TYPE, FaultType[type]);\r\n    if (details) {\r\n      this.addProperty(\r\n        TelemetryPropertyNames.EVENT_MESSAGE,\r\n        removePath(details)\r\n      );\r\n    }\r\n    let exceptionStack = \"\";\r\n    if (exception && exception.stack && typeof exception.stack === \"string\") {\r\n      exceptionStack += removePath(exception.stack);\r\n    }\r\n    if (!exceptionStack) {\r\n      exceptionStack = \"No Stack\";\r\n    }\r\n    this.addProperty(\r\n      TelemetryPropertyNames.EVENT_EXCEPTION_STACK,\r\n      exceptionStack\r\n    );\r\n    if (correlatedEvent) {\r\n      this.correlateWith(correlatedEvent);\r\n    }\r\n  }\r\n}\r\n\r\nexport class TimedEvent extends TelemetryEvent {\r\n  private startTime: number;\r\n  private lastMarkTime: number;\r\n  constructor(\r\n    telemetryInstance: Telemetry,\r\n    eventName: TelemetryEventNames,\r\n    correlate = false\r\n  ) {\r\n    super(telemetryInstance, eventName, correlate);\r\n    this.startTime = new Date().getTime();\r\n    this.lastMarkTime = this.startTime;\r\n  }\r\n\r\n  public markTime(markName: TelemetryMeasureNames, fromStart = false) {\r\n    const currentTime = new Date().getTime();\r\n    const duration = fromStart\r\n      ? currentTime - this.startTime\r\n      : currentTime - this.lastMarkTime;\r\n    this.lastMarkTime = currentTime;\r\n    this.addMeasure(markName, duration);\r\n  }\r\n\r\n  public end(result: TelemetryResult, message?: string, sendNow = true) {\r\n    this.addProperty(\r\n      TelemetryPropertyNames.EVENT_RESULT,\r\n      TelemetryResult[result]\r\n    );\r\n    if (message) {\r\n      this.addProperty(\r\n        TelemetryPropertyNames.EVENT_MESSAGE,\r\n        removePath(message)\r\n      );\r\n    }\r\n    this.markTime(TelemetryMeasureNames.EVENT_DURATION, true);\r\n    this.telemetryInstance.removeCorrelationEvent(this);\r\n    if (sendNow) {\r\n      this.send();\r\n    }\r\n  }\r\n}\r\n\r\nexport enum FaultType {\r\n  Error,\r\n  User,\r\n  Unknown,\r\n}\r\n\r\nexport enum TelemetryResult {\r\n  Cancel,\r\n  Success,\r\n  Failure,\r\n  UserFailure,\r\n  IndeterminateFailure,\r\n}\r\n","import { EventEmitter } from \"stream\";\r\nimport { IdentifiableMessage } from \"../workerThread/messages\";\r\n\r\n/**\r\n * Helper for sending a request and awaiting a response, where both the request and response share an ID.\r\n */\r\nexport class AwaitableMessageExchanger<TSend extends IdentifiableMessage, TReceive extends IdentifiableMessage> {\r\n    /**\r\n     * Relays any received messages so that an awaiting promise can be resolved.\r\n     */\r\n    private relayEmitter: EventEmitter;\r\n\r\n    public constructor(private post: (msg: TSend) => void) {\r\n        this.relayEmitter = new EventEmitter();\r\n    }\r\n\r\n    /**\r\n     * Post a request message and resolve a promise when a matching response is returned.\r\n     * Conveniently awaitable.\r\n     * @param outboundMsg Outbound request message.\r\n     * @param completionState The cache that the resulting completion can be stored in.\r\n     * @returns Promise which is resolved when a completion has been cached.\r\n     */\r\n    public exchange(\r\n        outboundMsg: TSend,\r\n    ): Promise<TReceive> {\r\n        try {\r\n            this.post(outboundMsg);\r\n        } catch (e) {\r\n            return Promise.reject(e);\r\n        }\r\n\r\n        return new Promise((resolve) => {\r\n            this.relayEmitter.once(\r\n                buildEventName(outboundMsg),\r\n                (response: TReceive) => {\r\n                    resolve(response);\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handles messages that were received, and forwards them on to an awaiter that's\r\n     * waiting for a response with the same message id.\r\n     * This must be called eventually once for each call to exchange(),\r\n     * otherwise that promise will *never* be resolved.\r\n     * @param inboundMsg Message that was received and should be forwarded to an awaiter\r\n     */\r\n    public handleReceivedMessage(inboundMsg: TReceive) {\r\n        this.relayEmitter.emit(\r\n            buildEventName(inboundMsg),\r\n            inboundMsg\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Build internal event names for relayEmitter, used to emit and wait for messages with the right ID.\r\n * @param msg Message to derive an event name for\r\n * @returns Event name\r\n */\r\nexport function buildEventName<TMsg extends IdentifiableMessage>(msg: TMsg): string {\r\n    return `message-${msg.requestId}`;\r\n}","/**\r\n * Returns a value indicating whether the current VSCode instance is being used by an internal user.\r\n */\r\nexport function isInternal(): boolean {\r\n  const userDomain = process.env.USERDNSDOMAIN\r\n    ? process.env.USERDNSDOMAIN.toLowerCase()\r\n    : \"\";\r\n  return userDomain.endsWith(\"microsoft.com\");\r\n}\r\n","/**\r\n *\r\n * @param completionString\r\n * @param snippet Will replace literal tokens w/ VSCode snippet notation if true. Else replace w/ default values.\r\n * @returns\r\n */\r\nexport function extractCompletionPlaceholder(\r\n  completionString: string,\r\n  snippet: boolean = false\r\n) {\r\n  const allMatchRegex = /<(NUM|STR|CHAR|REGEX)_LIT(?::(.+?))?>/;\r\n  let snippetCount = 0;\r\n  let next = completionString.match(allMatchRegex);\r\n  while (next) {\r\n    completionString = completionString.replace(\r\n      allMatchRegex,\r\n      (full, type, topLiteral) => {\r\n        if (topLiteral) {\r\n          const parsedTopLit = hardcodedParseUnicode(topLiteral);\r\n          return type === \"STR\" ? `\"${parsedTopLit}\"` : `${parsedTopLit}`;\r\n        }\r\n\r\n        const defaultPlaceholder = type === \"NUM\" ? \"0\" : \"\";\r\n        if (snippet) {\r\n          snippetCount += 1;\r\n          return type === \"STR\"\r\n            ? `\"$\\{${snippetCount}:${defaultPlaceholder}}\"`\r\n            : `$\\{${snippetCount}:${defaultPlaceholder}}`;\r\n        } else {\r\n          return type === \"STR\"\r\n            ? `\"${defaultPlaceholder}\"`\r\n            : `${defaultPlaceholder}`;\r\n        }\r\n      }\r\n    );\r\n\r\n    next = completionString.match(allMatchRegex);\r\n  }\r\n  return { completionString, snippetCount };\r\n}\r\n\r\nexport function normalizeCode(code: string): string {\r\n  return code\r\n    .replace(/\\\".*?\\\"/gi, '\"\"')\r\n    .replace(/\\'.*?\\'/gi, \"''\")\r\n    .replace(/ +/g, \" \")\r\n    .replace(/\\r/g, \"\");\r\n}\r\n\r\nfunction hardcodedParseUnicode(s: string) {\r\n  return s.replace(/U\\+0020/g, \" \").replace(/U\\+002C/g, \",\");\r\n}\r\n\r\nexport function isAlphanumeric(charCode: number) {\r\n  return (\r\n    (charCode > 47 && charCode < 58) || // numeric (0-9)\r\n    (charCode > 64 && charCode < 91) || // upper alpha (A-Z)\r\n    (charCode > 96 && charCode < 123) // lower alpha (a-z)\r\n  );\r\n}\r\n\r\n/**\r\n * VSCode's completion API requires that we recommend an entire replacement.\r\n * ex) If we want to suggest \"string\", and \"str\" is already typed out by the user,\r\n *    We still suggest \"string\" and not just \"ing\".\r\n *\r\n * However, our cache is currently designed so that it only remembers the remaining suffix.\r\n * Use this function to manually add back the prefix.\r\n *\r\n * @param codeBefore Searches for the prefix from here\r\n * @returns The last \"word\" at the end of codeBefore\r\n */\r\nexport function getPrefix(codeBefore: string) {\r\n  for (let i = codeBefore.length; i > 0; i--) {\r\n    const curCharNum = codeBefore.charCodeAt(i - 1);\r\n    if (\r\n      !(curCharNum > 47 && curCharNum < 58) && // numeric (0-9)\r\n      !(curCharNum > 64 && curCharNum < 91) && // upper alpha (A-Z)\r\n      !(curCharNum > 96 && curCharNum < 123) && // lower alpha (a-z)\r\n      curCharNum !== 95 // underscore (_)\r\n    ) {\r\n      return codeBefore.slice(i);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport {\r\n  FullyProcessedCompletionData,\r\n  PostprocessResults,\r\n} from \"../../@types/inlineCompletionProvider\";\r\nimport { extractCompletionPlaceholder, getPrefix } from \"../document\";\r\nimport {\r\n  removeIndentDedentToken,\r\n  removeOverlappingWhiteSpace,\r\n} from \"../postProcRules\";\r\n\r\n/**\r\n * This function deals with all the steps necessary to process\r\n * our completion item fetched from cache as acceptable by VSCode\r\n * @param codeTillCursor The code in line till the cursor\r\n * @param codeTillSelectedCompletion The code in line till the selected intellisense completion item\r\n * @param selectedCompletionText The text of the selected intellisense completion item\r\n * @param selectedCompletionRange The range of the selected intellisense completion item\r\n * @param position position passed into inlineCompletionProvider\r\n * @param completionFromCache CompletionText retrieved from cache\r\n * @returns Updated completionText accepted by VSCode with additional data to help validation.\r\n */\r\nexport function processCompletion(\r\n  codeTillCursor: string,\r\n  codeTillSelectedCompletion: string | undefined,\r\n  selectedCompletionText: string | undefined,\r\n  selectedCompletionRange: vscode.Range | undefined,\r\n  position: vscode.Position,\r\n  completionFromCache: string\r\n): FullyProcessedCompletionData {\r\n  let fullLineWithCompletion: string | undefined;\r\n  let fullLineWithSnippet: string | undefined;\r\n  let completionToReturn: string | undefined;\r\n  let snippetToReturn: string | undefined;\r\n  let postAcceptanceRange: vscode.Range | undefined;\r\n  let completionRange: vscode.Range | undefined;\r\n\r\n  const { completionText, snippetCompletionText, snippetCount } = postProcess(\r\n    completionFromCache,\r\n    codeTillCursor\r\n  );\r\n\r\n  if (!completionText) {\r\n    return {\r\n      completionToReturn: \"\",\r\n      snippetToReturn: \"\",\r\n      additionalData: {\r\n        fullLineWithCompletion: \"\",\r\n        fullLineWithSnippet: \"\",\r\n        postAcceptanceRange: new vscode.Range(position, position),\r\n        completionRange: new vscode.Range(position, position),\r\n        snippetCount: 0,\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Calculate what the full line would look like w/ the completion\r\n   * Append the prefix to the completion.\r\n   */\r\n  if (selectedCompletionText && selectedCompletionRange) {\r\n    completionToReturn = selectedCompletionText + completionText;\r\n    snippetToReturn = selectedCompletionText + snippetCompletionText;\r\n\r\n    const endOfIntelliSenseCharNum =\r\n      selectedCompletionRange.start.character + selectedCompletionText.length;\r\n\r\n    /**For the inline completion to show,\r\n     * it has to be an extension of the selectedCompletion from the IntelliSense menu\r\n     */\r\n    completionRange = selectedCompletionRange;\r\n\r\n    postAcceptanceRange = new vscode.Range(\r\n      new vscode.Position(\r\n        selectedCompletionRange.start.line,\r\n        endOfIntelliSenseCharNum\r\n      ),\r\n      new vscode.Position(\r\n        selectedCompletionRange.start.line,\r\n        endOfIntelliSenseCharNum + completionText.length\r\n      )\r\n    );\r\n\r\n    /**\r\n     * 3 part scenario) IntelliSense active\r\n     *   Text before IntelliSense\r\n     *   + IntelliSense selection\r\n     *   + WLC suggestion after IntelliSense\r\n     */\r\n    fullLineWithCompletion =\r\n      codeTillSelectedCompletion + selectedCompletionText + completionText;\r\n    fullLineWithSnippet =\r\n      codeTillSelectedCompletion +\r\n      selectedCompletionText +\r\n      snippetCompletionText;\r\n  } else {\r\n    /* Append the prefix to the suggestion */\r\n    const prefix = getPrefix(codeTillCursor);\r\n    completionToReturn = prefix + completionText;\r\n    snippetToReturn = prefix + snippetCompletionText;\r\n    postAcceptanceRange = new vscode.Range(\r\n      new vscode.Position(position.line, position.character - prefix?.length),\r\n      new vscode.Position(\r\n        position.line,\r\n        position.character + completionText.length\r\n      )\r\n    );\r\n\r\n    /**\r\n     * If there is no selectedCompletion from the IntelliSense menu,\r\n     * then the inline completion should be an extension of the text written so far\r\n     */\r\n    completionRange = new vscode.Range(\r\n      new vscode.Position(position.line, position.character - prefix?.length),\r\n      new vscode.Position(\r\n        position.line,\r\n        position.character + completionText.length\r\n      )\r\n    );\r\n\r\n    /**\r\n     * 2 part scenario) No IntelliSense\r\n     *   Text before cursor\r\n     *   + WLC suggestion after cursor\r\n     */\r\n    fullLineWithCompletion = codeTillCursor + completionText;\r\n    fullLineWithSnippet = codeTillCursor + snippetCompletionText;\r\n  }\r\n\r\n  return {\r\n    completionToReturn,\r\n    snippetToReturn,\r\n    additionalData: {\r\n      fullLineWithCompletion,\r\n      fullLineWithSnippet,\r\n      postAcceptanceRange,\r\n      completionRange,\r\n      snippetCount,\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Certain steps need to be done after results are pulled out of cache.\r\n * This function takes care of those steps.\r\n *\r\n * Our cache will return only the part that needs to be appended after the cursor.\r\n * For example, it'll only return `sole.log` when the cursor is after `con`.\r\n *\r\n * @param completion Suggestions as returned by cache\r\n * @param codeTillCursor Code before the suggesting  on that line\r\n * @returns Post processed completions that can be returned to VSCode\r\n */\r\nfunction postProcess(\r\n  completion: string,\r\n  codeTillCursor: string\r\n): PostprocessResults {\r\n  const inProcess = removeIndentDedentToken(\r\n    removeOverlappingWhiteSpace(codeTillCursor, completion)\r\n  ).replace(/\\r?\\n/g, \"\");\r\n\r\n  const completionWithoutSnippet = extractCompletionPlaceholder(\r\n    inProcess,\r\n    false\r\n  ).completionString;\r\n  const { completionString: completionWithSnippet, snippetCount } =\r\n    extractCompletionPlaceholder(inProcess, true);\r\n\r\n  return {\r\n    completionText: completionWithoutSnippet,\r\n    snippetCompletionText: completionWithSnippet,\r\n    snippetCount,\r\n  };\r\n}\r\n\r\nexport const exportedMethodsForTesting = {\r\n  postProcess\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport { ILoggingService, LogLevel } from \"../../services/logging\";\r\nimport { INormalizationService } from \"../../services/normalization\";\r\nimport { ParsedCode } from \"../../services/normalization/normalizationService\";\r\nimport { NodeTag, TreeSitterSyntacticFilterService } from \"../../services/syntacticFilter/treeSitterSyntacticFilter\";\r\nimport { FromVsCodeRange } from \"../range/conversions\";\r\nimport {\r\n  duplicateLineExistsAfter,\r\n  duplicateLineExistsBefore,\r\n} from \"../vscodeEditor\";\r\n\r\n/**\r\n * Check that accepting our suggestion doesn't create a duplicate line\r\n * immediately above or below our current line.\r\n * @param fullLineWithCompletion What the full line would look like after our suggestion is accepted\r\n * @param document The document we are checking for duplicate lines\r\n * @param position Our position within the document\r\n * @param logger (Optional) Logger to output logs to\r\n * @param logPrefix (Optional) LogPrefix to attach to logs\r\n * @returns Boolean on whether we are not duplicating code immediately above or below\r\n */\r\nexport function isUniqueLine(\r\n  fullLineWithCompletion: string,\r\n  document: vscode.TextDocument,\r\n  position: vscode.Position,\r\n  logger?: ILoggingService,\r\n  logPrefix?: string\r\n): boolean {\r\n  logPrefix = logPrefix ? logPrefix + \" \" : \"\";\r\n  if (fullLineWithCompletion == \"\") {\r\n    logger?.write(LogLevel.INFO, `${logPrefix}No completion available`);\r\n    return false;\r\n  }\r\n\r\n  // We don't want the completed line to be a duplicate of another line above or below\r\n  if (\r\n    duplicateLineExistsBefore(fullLineWithCompletion, document, position) ||\r\n    duplicateLineExistsAfter(fullLineWithCompletion, document, position)\r\n  ) {\r\n    logger?.write(\r\n      LogLevel.INFO,\r\n      `${logPrefix}` +\r\n        `Skipping completion as it is a repeated above or below current line:\\n` +\r\n        `${fullLineWithCompletion}`\r\n    );\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * Uses a syntax aware parser to parse the code to search for syntax errors.\r\n * Returns whether the code is syntactically correct.\r\n * \r\n * Be aware that this function will return true if the parser fails to parse the code.\r\n * @param fullLineWithCompletion \r\n * @param document \r\n * @param position \r\n * @param parsedCode \r\n * @param codeParsingService \r\n * @param logger \r\n * @param logPrefix \r\n * @returns \r\n */\r\n\r\nexport function createDocumentWithCompletionApplied(document: vscode.TextDocument, position: vscode.Position, fullLineWithCompletion: string): string {\r\n    const contextBeforeCurrentLine =\r\n      position.line == 0\r\n        ? \"\"\r\n        : document.getText(\r\n            new vscode.Range(\r\n              new vscode.Position(0, 0),\r\n              document.lineAt(position.line - 1).range.end\r\n            )\r\n          );\r\n\r\n    const contextAfterCurrentLine =\r\n      position.line == document.lineCount - 1\r\n        ? \"\"\r\n        : document.getText(\r\n            new vscode.Range(\r\n              document.lineAt(position.line + 1).range.start,\r\n              document.lineAt(document.lineCount - 1).range.end\r\n            )\r\n          );\r\n\r\n    return contextBeforeCurrentLine + \"\\n\" + fullLineWithCompletion + \"\\n\" + contextAfterCurrentLine;\r\n}\r\n\r\nexport function isSyntacticallyCorrect(\r\n  fullLineWithCompletion: string,\r\n  postAcceptanceRange: vscode.Range,\r\n  document: vscode.TextDocument,\r\n  position: vscode.Position,\r\n  parsedCode: ParsedCode,\r\n  codeParsingService: INormalizationService,\r\n  syntacticFilter: TreeSitterSyntacticFilterService,\r\n  logger?: ILoggingService,\r\n  logPrefix?: string\r\n) : boolean {\r\n  logPrefix = logPrefix ? logPrefix + \" \" : \"\";\r\n  try {\r\n    const resultingDocument = createDocumentWithCompletionApplied(document, position, fullLineWithCompletion);\r\n    // todo: derive this from the existing parse instead of re-parsing\r\n    const parsedWithCompletion = codeParsingService.parse(\r\n      resultingDocument,\r\n      document.languageId\r\n    );\r\n    let tags = syntacticFilter.tagSyntaxNodes(parsedWithCompletion, parsedCode, FromVsCodeRange(postAcceptanceRange));\r\n\r\n    // todo: refactor repetition\r\n\r\n    // If there are any error nodes in the resulting document that overlap the suggestion, reject the prediction\r\n    {\r\n      // this tagging might be incorrect, revisit\r\n      const nodes = tags.getNodesWithAllTags(NodeTag.OverlapsSuggestion, NodeTag.Error);\r\n      if (nodes.length > 0) {\r\n        const printableNodes = nodes.map(n => `L${n.startPosition.row}:${n.startPosition.column}-L${n.endPosition.row}:${n.endPosition.column}`).join(\", \");\r\n        logger?.write(\r\n          LogLevel.INFO,\r\n          logPrefix + `Filtering completion because the suggestion overlaps a parse error ${printableNodes}`\r\n        );\r\n        for (const n of nodes){\r\n          logger?.write(\r\n            LogLevel.INFO,\r\n            logPrefix + `node`\r\n          );\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // If there are any comment nodes overlapping the suggestion range, reject the prediction.\r\n    {\r\n      const nodes = tags.getNodesWithAllTags(NodeTag.OverlapsSuggestion, NodeTag.Leaf);\r\n      if (nodes.filter(n => n.type === \"comment\").length > 0){\r\n        const printableNodes = nodes.map(n => `L${n.startPosition.row}:${n.startPosition.column}-L${n.endPosition.row}:${n.endPosition.column}`).join(\", \");\r\n        logger?.write(\r\n          LogLevel.INFO,\r\n          logPrefix + `Filtering completion because the suggestion overlaps a comment ${printableNodes}`\r\n        );\r\n        return false;\r\n      }\r\n    }\r\n  } catch (e) {\r\n    if (e instanceof Error) {\r\n      logger?.write(\r\n        LogLevel.ERROR,\r\n        `error parsing the prediction: ${e.message}`\r\n      );\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport {\r\n  ModifiedCompletionResult,\r\n} from \"../../@types/inlineCompletionProvider\";\r\n\r\n/**\r\n * Returns true if the user moved to a different document\r\n */\r\nexport function hasDocumentChanged(\r\n  prevDocument: vscode.TextDocument,\r\n  currDocument: vscode.TextDocument\r\n) {\r\n  return !(prevDocument === currDocument);\r\n}\r\n\r\n/**\r\n * Returns true if the user moved to a different line\r\n */\r\nexport function hasLineNumberChanged(prevLine: number, currLine: number) {\r\n  return !(prevLine === currLine);\r\n}\r\n\r\n/**\r\n * Returns if user is walking the prediction\r\n * @param hasDocumentChanged Whether the document has changed since the last prediction\r\n * @param hasLineNumberChanged Whether the line number has changed since the last prediction\r\n * @param currSelectedCompletion The current item selected in the IntelliSense menu\r\n * @param prevSelectedCompletion The previous item selected in the IntelliSense menu\r\n * @param prevFullLineCompletion The full line with the last completion provided\r\n * @param currLine The text on the current line\r\n * @param lineTillCursor The text on the line till the cursor\r\n * @returns True if user is walking the prediction, false otherwise\r\n */\r\nexport function walkingThePredictionStatus(\r\n  hasDocumentChanged: boolean,\r\n  hasLineNumberChanged: boolean,\r\n  currSelectedCompletion: string | undefined,\r\n  prevSelectedCompletion: string | undefined,\r\n  prevFullLineCompletion: string,\r\n  currLine: string,\r\n  lineTillCursor: string\r\n): boolean {\r\n  if (hasDocumentChanged || hasLineNumberChanged) {\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Sometimes VS Code returns the selected completion menu with a \".\" before the text\r\n   * Removing the \".\" if it is there so that the equality check works\r\n   */\r\n  if (currSelectedCompletion?.startsWith(\".\")) {\r\n    currSelectedCompletion = currSelectedCompletion.substring(1);\r\n  }\r\n  if (prevSelectedCompletion?.startsWith(\".\")) {\r\n    prevSelectedCompletion = prevSelectedCompletion.substring(1);\r\n  }\r\n  /**\r\n   * If the user changes their selected in the completion menu\r\n   */\r\n  if (currSelectedCompletion != prevSelectedCompletion) {\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Removing extra white spaces.\r\n   * If the prediction is `const abc` and the user has typed `const  abc` (notice 2 spaces between const and abc),\r\n   * we'll still be able to say the user is walking the prediction\r\n   * */\r\n  currLine = currLine.replace(/\\s+/g, \" \");\r\n  lineTillCursor = lineTillCursor.replace(/\\s+/g, \" \");\r\n  prevFullLineCompletion = prevFullLineCompletion.replace(/\\s+/g, \" \");\r\n\r\n  if (\r\n    currLine &&\r\n    prevFullLineCompletion.startsWith(lineTillCursor) &&\r\n    currLine != prevFullLineCompletion\r\n  )\r\n    return true;\r\n  else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * When the user is walking the prediction i.e. typing the same characters as those displayed in the prediction, we need to return the remaining prediction that the user hasn't typed/accepted yet\r\n * @param currLine The text on the current line\r\n * @param positionLine Current line position of cursor\r\n * @param prevFullLineCompletion Full line with the previously provided completion\r\n * @returns Remaining prediction i.e. token the user is typing over + remaining tokens\r\n */\r\nexport function modifyPredictionForWalking(\r\n  currLine: string,\r\n  positionLine: number,\r\n  prevFullLineCompletion: string\r\n): ModifiedCompletionResult | undefined {\r\n  if (!prevFullLineCompletion) {\r\n    return undefined;\r\n  }\r\n  /**\r\n   * Number of spaces in the text on the current line.\r\n   * Multiple consecutive spaces will be counted as 1 space\r\n   */\r\n  const numSpacesInLineTillCaret: number = (currLine.match(/ /g) || []).length;\r\n  for (let i = 0; i < currLine.length; i++) {\r\n    if (currLine[i] == \" \" && currLine[i] != prevFullLineCompletion[i]) {\r\n      prevFullLineCompletion = [\r\n        prevFullLineCompletion.slice(0, i),\r\n        \" \",\r\n        prevFullLineCompletion.slice(i),\r\n      ].join(\"\");\r\n    }\r\n  }\r\n  const tokens: string[] = prevFullLineCompletion.split(\" \");\r\n  /**\r\n   * The starting position of the current token in the line\r\n   * Length of all tokens in the string + number of spaces in the string\r\n   */\r\n  const currTokenStartColumn: number =\r\n    tokens.slice(0, numSpacesInLineTillCaret).join(\"\").length +\r\n    numSpacesInLineTillCaret;\r\n\r\n  /**\r\n   * If the user has typed some of the prediction, we need to show the remaining prediction\r\n   * The prediction is truncated to include the current token and beyond\r\n   * For example, if the full prediction is `const abc = method()`\r\n   * and the user has typed `const a`, we will return `abc = method()`\r\n   */\r\n  const truncatedCompletionString = tokens\r\n    .slice(numSpacesInLineTillCaret)\r\n    .join(\" \");\r\n\r\n  /**\r\n   * The entire range of the token in the user's document needs to be replaced\r\n   * For example, if the prediction is `const abc = method()` and the user has typed `const a`, the truncated prediction will be `abc = method()`\r\n   * Instead of inserting `bc = method()`, we will actually replace `a` with `abc = method` and the range of `a` needs to be provided\r\n   */\r\n  const modifiedResult: ModifiedCompletionResult = {\r\n    newText: truncatedCompletionString,\r\n    newRange: new vscode.Range(\r\n      new vscode.Position(positionLine, currTokenStartColumn),\r\n      new vscode.Position(\r\n        positionLine,\r\n        currTokenStartColumn + truncatedCompletionString.length\r\n      )\r\n    ),\r\n  };\r\n  return modifiedResult;\r\n}\r\n\r\nexport function modifyPreviousCompletionProvided(\r\n  prevFullLineCompletion: string,\r\n  prevSnippetString: string,\r\n  prevSnippetRange: vscode.Range,\r\n  prevCompletionItemText: string, \r\n  prevCompletionItemRange: vscode.Range | undefined,\r\n  codeOnLine: string,\r\n  positionLine: number\r\n) {\r\n  const modifiedCompletion = modifyPredictionForWalking(\r\n    codeOnLine,\r\n    positionLine,\r\n    prevFullLineCompletion\r\n  );\r\n\r\n  const modifiedSnippet = modifyPredictionForWalking(\r\n    codeOnLine,\r\n    positionLine,\r\n    prevSnippetString\r\n  );\r\n\r\n  return {\r\n    newCompletionText: modifiedCompletion\r\n      ? modifiedCompletion.newText\r\n      : prevCompletionItemText,\r\n    newCompletionRange: modifiedCompletion\r\n      ? modifiedCompletion.newRange\r\n      : prevCompletionItemRange,\r\n    newSnippetText: modifiedSnippet\r\n      ? modifiedSnippet.newText\r\n      : prevSnippetString,\r\n    newSnippetRange: modifiedSnippet\r\n      ? modifiedSnippet.newRange\r\n      : prevSnippetRange,\r\n  };\r\n}\r\n","export function isPythonFunctionSignature(code: string) {\r\n  const funcSigRegex = /def (\\w+)\\s*\\((.*?)\\):/;\r\n  return funcSigRegex.test(code);\r\n}\r\n\r\nexport enum LanguageId {\r\n  JAVA = \"java\",\r\n  JAVASCRIPT = \"javascript\",\r\n  JAVASCRIPT_REACT = \"javascriptreact\",\r\n  PYTHON = \"python\",\r\n  TYPESCRIPT = \"typescript\",\r\n  TYPESCRIPT_REACT = \"typescriptreact\",\r\n}","export function removeOverlappingWhiteSpace(\r\n  codeTillCursor: string,\r\n  completion: string\r\n) {\r\n  return codeTillCursor.endsWith(\" \") && completion.startsWith(\" \")\r\n    ? completion.slice(1)\r\n    : completion;\r\n}\r\n\r\nexport function isPreexistingCode(noMaskCompletion: string, codeAfter: string) {\r\n  return noMaskCompletion === codeAfter;\r\n}\r\n\r\nexport function isSuffixedByCodeAfter(completion: string, codeAfter: string) {\r\n  return completion.endsWith(codeAfter);\r\n}\r\n\r\nexport function codeAfterWithinCompletion(\r\n  completion: string,\r\n  codeAfter: string\r\n) {\r\n  return completion.indexOf(codeAfter) !== -1;\r\n}\r\n\r\n/**\r\n * Due to a bug during training, #<COMMENT> tokens are now in the model.\r\n *\r\n * This has also been implemented as a post-processing rule as #<COMMENT> is actually 4 tokens,\r\n * making it extremely difficult to ignore during caching.\r\n *\r\n * Remove this function when the model has been fixed.\r\n *\r\n * @param completion completion to remove #<COMMENT> tokens from\r\n * @returns string without #<COMMENT> tokens\r\n */\r\nexport function removeIndentDedentToken(completion: string) {\r\n  return completion.replace(/#<COMMENT>|<INDENT>|<DEDENT>/g, \"\");\r\n}\r\n\r\nconst bracesMap = new Map<string, string>([\r\n  [\"(\", \")\"],\r\n  [\"{\", \"}\"],\r\n  [\"[\", \"]\"],\r\n]);\r\n/**\r\n * Heuristic checking of (, {, [ that need to be matched.\r\n * Only deals with simple cases, and ignores unbalanced braces.\r\n * @param unmatchedString String with potential unmatched braces\r\n * @returns String of braces that need to be appended at the end\r\n */\r\nexport function matchBraces(unmatchedString: string) {\r\n  const bracesStack: string[] = [];\r\n  for (const c of unmatchedString) {\r\n    if (bracesMap.get(bracesStack[bracesStack.length - 1]) === c) {\r\n      bracesStack.pop();\r\n    } else if (bracesMap.has(c)) {\r\n      bracesStack.push(c);\r\n    }\r\n  }\r\n\r\n  let requiredBraces = \"\";\r\n  while (bracesStack.length !== 0) {\r\n    const unmatchedBrace = bracesStack.pop();\r\n    if (!unmatchedBrace) {\r\n      break;\r\n    }\r\n    requiredBraces += bracesMap.get(unmatchedBrace);\r\n  }\r\n  return requiredBraces;\r\n}\r\n","import { Range } from \"vscode\";\r\nimport { DocumentRange } from \"./documentRange\";\r\n\r\nexport function FromVsCodeRange(\r\n  range: Range | undefined\r\n): DocumentRange | undefined {\r\n  if (\r\n    range === undefined ||\r\n    range.start === undefined ||\r\n    range.end === undefined\r\n  ) {\r\n    return undefined;\r\n  }\r\n  return new DocumentRange(\r\n    range.start.line,\r\n    range.start.character,\r\n    range.end.line,\r\n    range.end.character\r\n  );\r\n}\r\n","/**\r\n * Represents a range within a document, without taking a dependency on vscode types.\r\n */\r\nexport class DocumentRange {\r\n  public constructor(\r\n    public startLine: number,\r\n    public startColumn: number,\r\n    public endLine: number,\r\n    public endColumn: number\r\n  ) {}\r\n\r\n  /**\r\n   * Whether a location in the document is contained within this range.\r\n   * @param line The location line to test.\r\n   * @param column The location column to test.\r\n   * @returns True if the location at line & column is within this range.\r\n   */\r\n  public containsLocation(line: number, column: number): boolean {\r\n    const locationIsAfterStart =\r\n      line > this.startLine ||\r\n      (line == this.startLine && column >= this.startColumn);\r\n    const locationIsBeforeEnd =\r\n      line < this.endLine || (line == this.endLine && column <= this.endColumn); // viv: should it be <= this.endColumn??\r\n    return locationIsAfterStart && locationIsBeforeEnd;\r\n  }\r\n\r\n  /**\r\n   * Whether another range is contained completely within this one.\r\n   * @param other The range to test.\r\n   * @returns True if the other range is completely within this range.\r\n   */\r\n  public containsRange(other: DocumentRange): boolean {\r\n    return (\r\n      this.containsLocation(other.startLine, other.startColumn) &&\r\n      this.containsLocation(other.endLine, other.endColumn)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Whether another range has any part which overlaps another range.\r\n   * @param other The range to test.\r\n   * @returns True if the other range overlaps any location of this one.\r\n   */\r\n  public rangesOverlap(other: DocumentRange): boolean {\r\n    return (\r\n      this.containsLocation(other.startLine, other.startColumn) || // Start of other lands within this range\r\n      this.containsLocation(other.endLine, other.endColumn) || // End of other lands within this range\r\n      other.containsRange(this)\r\n    ); // The other range completely contains this one - that's the only other way they could overlap if the other's start and end points are outside\r\n  }\r\n}\r\n","import { Tensor } from \"onnxruntime-node\";\r\n\r\nexport const filledTensor = (\r\n  shape: number[],\r\n  type: Tensor.Type,\r\n  fill: any = undefined\r\n) => {\r\n  const total = shape.reduce((prev, curr) => {\r\n    return prev * curr;\r\n  }, 1);\r\n  const data = Array(total);\r\n  if (fill) {\r\n    data.fill(fill);\r\n  }\r\n  return new Tensor(type, data, shape);\r\n};\r\n\r\n// type NumericElementTypes = \"int64\" | \"float32\" | \"uint16\";\r\nexport function concat2d(a: Tensor, b: Tensor, dim: 0 | 1): any {\r\n  if (dim === 0) {\r\n    const outputArray: any[] = Array(...a.data, ...b.data);\r\n    return new Tensor(a.type, outputArray, [a.dims[0] + b.dims[0], a.dims[1]]);\r\n  } else {\r\n    const outputArray: any[] = [];\r\n    const lastDimSizeA = a.dims[a.dims.length - 1];\r\n    const lastDimSizeB = b.dims[b.dims.length - 1];\r\n\r\n    for (var i = 0; i < a.dims[0]; i++) {\r\n      outputArray.push(\r\n        ...a.data.slice(i * lastDimSizeA, i * lastDimSizeA + lastDimSizeA),\r\n        ...b.data.slice(i * lastDimSizeB, i * lastDimSizeB + lastDimSizeB)\r\n      );\r\n    }\r\n    return new Tensor(a.type, outputArray, [a.dims[0], a.dims[1] + b.dims[1]]);\r\n  }\r\n}\r\n","import * as vscode from \"vscode\";\r\n\r\n/**\r\n * Helper function to calculate current context taking IntelliSense into consideration.\r\n * 1) w/ IntelliSense\r\n *   Code before IntelliSense + IntelliSense selection\r\n * 2) w/o IntelliSense\r\n *   Just the code before the current trigger\r\n * @param document Document to provide inline completions to\r\n * @param position Position where InlineCompletion has been triggered\r\n * @param context InlineCompletionContext passed in by vscode\r\n * @returns The context to be used taking IntelliSense into consideration\r\n */\r\nexport function getContext(\r\n  document: vscode.TextDocument,\r\n  position: vscode.Position,\r\n  context: vscode.InlineCompletionContext\r\n) {\r\n  const codeBefore: string[] = [];\r\n  // add previous cells\r\n  if ('notebook' in document && (document as any).notebook !== undefined) {\r\n    const notebook = (document as any).notebook;\r\n    for (const cell of notebook.getCells()) {\r\n      if (cell.document === document) {\r\n        break;\r\n      }\r\n      codeBefore.push(cell.document.getText());\r\n    }\r\n  }\r\n  codeBefore.push(context.selectedCompletionInfo !== undefined\r\n    ? /**\r\n       * IntelliSense selection active.\r\n       * Code before IntelliSense + IntelliSense selection\r\n       */\r\n      getCodeBefore(context.selectedCompletionInfo.range.start, document) +\r\n        context.selectedCompletionInfo.text\r\n    : /**\r\n       * No IntelliSense.\r\n       * Just the code before the cursor.\r\n       */\r\n      getCodeBefore(position, document));\r\n  \r\n  // Avoid calling join if there's only one element, which we expect to be true\r\n  // in all documents except notebooks.\r\n  if (codeBefore.length === 1){\r\n    return codeBefore[0];\r\n  }\r\n  return codeBefore.join(\"\\n\");\r\n}\r\n\r\nexport function getCodeBefore(\r\n  position: vscode.Position,\r\n  document: vscode.TextDocument\r\n) {\r\n  return document.getText(new vscode.Range(document.positionAt(0), position));\r\n}\r\n\r\nexport function getCodeAfter(\r\n  position: vscode.Position,\r\n  document: vscode.TextDocument,\r\n  includeLineBreak = false\r\n) {\r\n  const afterEnd = includeLineBreak\r\n    ? getAfterEOLPosition(position, document)\r\n    : getCurrentEOLPosition(position, document);\r\n  return document.getText(new vscode.Range(position, afterEnd));\r\n}\r\n\r\nfunction getCurrentEOLPosition(\r\n  position: vscode.Position,\r\n  document: vscode.TextDocument\r\n) {\r\n  return document.lineAt(position).range.end;\r\n}\r\n\r\nfunction getAfterEOLPosition(\r\n  position: vscode.Position,\r\n  document: vscode.TextDocument\r\n) {\r\n  return document.lineAt(position).rangeIncludingLineBreak.end;\r\n}\r\n\r\nexport function showCompletion(\r\n  activeEditor: vscode.TextEditor,\r\n  decorationType: vscode.TextEditorDecorationType,\r\n  completionToShow: string,\r\n  positionToShow: vscode.Position\r\n) {\r\n  activeEditor.setDecorations(decorationType, [\r\n    decorationOption(positionToShow, completionToShow),\r\n  ]);\r\n}\r\n\r\nfunction decorationOption(position: vscode.Position, suggestion: string) {\r\n  return {\r\n    range: new vscode.Range(position, position),\r\n    renderOptions: {\r\n      before: {\r\n        contentText: suggestion,\r\n      },\r\n      dark: {\r\n        before: {\r\n          color: \"rgba(196, 196, 196, 0.4)\",\r\n        },\r\n      },\r\n      light: {\r\n        before: {\r\n          color: \"rgba(0, 0, 0, 0.4)\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n}\r\n\r\n/**\r\n * Sometimes our model returns the exact same line as before.\r\n * This function checks if that's the case.\r\n *\r\n * @param fullLineWithCompletion What the current line would look like w/ the completion\r\n * @param document The VSCode document object to check\r\n * @param position The VSCode position object. Will start checking from the line before this.\r\n * @returns Whether the first non-whitespace line before position is equal to the completion\r\n */\r\nexport function duplicateLineExistsBefore(\r\n  fullLineWithCompletion: string,\r\n  document: vscode.TextDocument,\r\n  position: vscode.Position\r\n) {\r\n  const trimmedFullLine = fullLineWithCompletion.trim();\r\n  for (let idx = position.line - 1; idx >= 0; idx--) {\r\n    const curLine = document.lineAt(idx);\r\n    if (curLine.isEmptyOrWhitespace) {\r\n      continue;\r\n    }\r\n    return curLine.text.trim() === trimmedFullLine;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Sometimes our model returns the exact same line as before.\r\n * This function checks if that's the case.\r\n *\r\n * @param fullLineWithCompletion The completion string to be shown\r\n * @param document The VSCode document object to check\r\n * @param position The VSCode position object. Will start checking from the line after this.\r\n * @returns Whether the first non-whitespace line after position is equal to the completion\r\n */\r\nexport function duplicateLineExistsAfter(\r\n  fullLineWithCompletion: string,\r\n  document: vscode.TextDocument,\r\n  position: vscode.Position\r\n) {\r\n  const trimmedFullLine = fullLineWithCompletion.trim();\r\n  for (let idx = position.line + 1; idx < document.lineCount; idx++) {\r\n    const curLine = document.lineAt(idx);\r\n    if (curLine.isEmptyOrWhitespace) {\r\n      continue;\r\n    }\r\n    return curLine.text.trim() === trimmedFullLine;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import * as vscode from \"vscode\";\r\nimport { CompletionState } from \"../../resultCache/completionState\";\r\nimport { INormalizationService } from \"../../services/normalization\";\r\nimport { getCodeBefore } from \"../../utils/vscodeEditor\";\r\nimport {\r\n  CREATE_VISUALIZATION_COMMAND,\r\n  CREATE_PARSE_TREE_VISUALIZATION_COMMAND,\r\n} from \"./ids\";\r\nimport { showTreeWindow } from \"../visualization/window\";\r\nimport {\r\n  DEFAULT_GRAPH_OPTIONS,\r\n  parsedCodeToGraphData,\r\n} from \"../visualization/parsedCode\";\r\nimport { ILoggingService, LogLevel } from \"../../services/logging\";\r\nimport { TrieNode } from \"../../resultCache/hashTrie\";\r\nimport { ParsedCode } from \"../../services/normalization/normalizationService\";\r\nimport Settings from \"../../services/settings/settings\";\r\nimport { processCompletion } from \"../../utils/inlineCompletionProvider/processCompletionItem\";\r\nimport { createDocumentWithCompletionApplied } from \"../../utils/inlineCompletionProvider/validateCompletionItem\";\r\nimport { FullyProcessedCompletionData } from \"../../@types/inlineCompletionProvider\";\r\nimport {\r\n  TaggedNodes,\r\n  TreeSitterSyntacticFilterService,\r\n} from \"../../services/syntacticFilter/treeSitterSyntacticFilter\";\r\nimport { performance } from \"perf_hooks\";\r\nimport { FromVsCodeRange } from \"../../utils/range/conversions\";\r\n\r\nexport function registerCompletionVisualizationCommand(\r\n  completionCache: CompletionState,\r\n  normalizationService: INormalizationService\r\n): vscode.Disposable {\r\n  return vscode.commands.registerCommand(CREATE_VISUALIZATION_COMMAND, () => {\r\n    const context = getCompletionContextFromActiveEditor(normalizationService);\r\n    if (context) {\r\n      const currentTrieNode = completionCache.getCacheTrieNode(context);\r\n      if (currentTrieNode) {\r\n        let graphData = currentTrieNode.getTreeForVisualization();\r\n        showTreeWindow(\"Completion Visualization\", graphData, []);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction getCompletionContextFromActiveEditor(\r\n  normalizationService: INormalizationService\r\n): string | undefined {\r\n  const e = vscode.window.activeTextEditor;\r\n  if (e && vscode.window.activeTextEditor) {\r\n    const codeBefore = getCodeBefore(\r\n      vscode.window.activeTextEditor.selection.active,\r\n      vscode.window.activeTextEditor.document\r\n    );\r\n    if (codeBefore) {\r\n      return normalizationService.parseAndNormalize(\r\n        codeBefore,\r\n        e.document.languageId\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport function registerParseTreeVisualizationCommand(\r\n  completionCache: CompletionState,\r\n  normalizationService: INormalizationService,\r\n  syntacticFilter: TreeSitterSyntacticFilterService,\r\n  loggingService: ILoggingService,\r\n  settings: Settings\r\n): vscode.Disposable {\r\n  return vscode.commands.registerCommand(\r\n    CREATE_PARSE_TREE_VISUALIZATION_COMMAND,\r\n    async () => {\r\n      loggingService.write(LogLevel.INFO, \"Creating parse tree\");\r\n      const e = vscode.window.activeTextEditor;\r\n      try {\r\n        if (e) {\r\n          let parsedCode: ParsedCode | undefined;\r\n\r\n          let aboveGraphText: string[] = [];\r\n\r\n          // If there is a completion (provided by the model or by the user in a text box) then insert that into the document before processing, and highlight its nodes.\r\n          const completionContext =\r\n            getCompletionContextFromActiveEditor(normalizationService);\r\n          let completionFromModel: string | undefined;\r\n\r\n          // Handle the case where there is a completion in the cache.\r\n          if (completionContext) {\r\n            const start = performance.now();\r\n            // Get the prediction from the cache. Doesn't do all the postprocessing that the actual inlinecompletionprovider does.\r\n            const completion = completionCache.getLineCompletion(\r\n              completionContext,\r\n              settings.getFirstTokenConfidenceThreshold(e.document.languageId),\r\n              Number.NEGATIVE_INFINITY\r\n            );\r\n\r\n            if (completion.bestCompletion.length > 0) {\r\n              completionFromModel = completion.bestCompletion;\r\n            }\r\n            const cacheQueryDuration = performance.now() - start;\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Querying cache: ${cacheQueryDuration}ms`\r\n            );\r\n          }\r\n          // This will be defined if there was a completion- if so, create the resulting document, parse it and highlight the nodes\r\n          let mockCompletion = await vscode.window.showInputBox({\r\n            prompt:\r\n              \"Inline completion to be inserted after the cursor (optional)\",\r\n            ignoreFocusOut: true,\r\n            value: completionFromModel,\r\n          });\r\n\r\n          let postAcceptanceRange: vscode.Range | undefined;\r\n          const codeTillCursor = e.document.getText(\r\n            new vscode.Range(\r\n              e.document.lineAt(e.selection.start.line).range.start,\r\n              e.selection.start\r\n            )\r\n          );\r\n\r\n          if (mockCompletion !== undefined && mockCompletion.length > 0) {\r\n            let start = performance.now();\r\n            // build fake completion\r\n            let processedCompletion = processCompletion(\r\n              codeTillCursor,\r\n              undefined,\r\n              undefined,\r\n              undefined,\r\n              e.selection.start,\r\n              mockCompletion\r\n            );\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Processing completion: ${performance.now() - start}ms`\r\n            );\r\n\r\n            start = performance.now();\r\n            const resultingDocument = createDocumentWithCompletionApplied(\r\n              e.document,\r\n              e.selection.start,\r\n              processedCompletion.additionalData.fullLineWithCompletion\r\n            );\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Creating document with completion applied: ${\r\n                performance.now() - start\r\n              }ms`\r\n            );\r\n            start = performance.now();\r\n            parsedCode = normalizationService.parse(\r\n              resultingDocument,\r\n              e.document.languageId\r\n            );\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Parsed document with completion applied: ${\r\n                performance.now() - start\r\n              }ms`\r\n            );\r\n            aboveGraphText.push(\r\n              `Graph for ${e.document.fileName} with prediction '${mockCompletion}' resulting in full line: <pre>${processedCompletion.additionalData.fullLineWithCompletion}</pre>`\r\n            );\r\n            postAcceptanceRange =\r\n              processedCompletion.additionalData.postAcceptanceRange;\r\n          }\r\n\r\n          let startUnmodifiedParse = performance.now();\r\n          let unmodifiedParsedCode = normalizationService.parse(\r\n            e.document.getText(),\r\n            e.document.languageId\r\n          );\r\n          loggingService.write(\r\n            LogLevel.INFO,\r\n            `Parsed original document: ${\r\n              performance.now() - startUnmodifiedParse\r\n            }ms`\r\n          );\r\n          if (!parsedCode) {\r\n            // If there wasn't a prediction, just parse the whole document.\r\n            aboveGraphText.push(`Graph for ${e.document.fileName}`);\r\n          }\r\n\r\n          // Tag nodes\r\n          let nodeLists: TaggedNodes;\r\n          let parsedCodeToDisplay: ParsedCode;\r\n          if (!parsedCode) {\r\n            let start = performance.now();\r\n            nodeLists = syntacticFilter.tagSyntaxNodes(\r\n              unmodifiedParsedCode,\r\n              undefined,\r\n              FromVsCodeRange(postAcceptanceRange)\r\n            );\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Tagged nodes of unmodified tree: ${performance.now() - start}ms`\r\n            );\r\n            parsedCodeToDisplay = unmodifiedParsedCode;\r\n          } else {\r\n            let start = performance.now();\r\n            nodeLists = syntacticFilter.tagSyntaxNodes(\r\n              parsedCode,\r\n              unmodifiedParsedCode,\r\n              FromVsCodeRange(postAcceptanceRange)\r\n            );\r\n            loggingService.write(\r\n              LogLevel.INFO,\r\n              `Tagged nodes of modified tree and changes from unmodified tree: ${\r\n                performance.now() - start\r\n              }ms`\r\n            );\r\n            parsedCodeToDisplay = parsedCode;\r\n          }\r\n\r\n          let startBuildGraphData = performance.now();\r\n          const graphData = parsedCodeToGraphData(\r\n            parsedCodeToDisplay,\r\n            nodeLists,\r\n            DEFAULT_GRAPH_OPTIONS\r\n          );\r\n          loggingService.write(\r\n            LogLevel.INFO,\r\n            `Built graph data: ${performance.now() - startBuildGraphData}ms`\r\n          );\r\n\r\n          showTreeWindow(\"Parse Tree Visualization\", graphData, aboveGraphText);\r\n        } else {\r\n          loggingService.write(LogLevel.ERROR, \"No active editor\");\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof Error) {\r\n          loggingService.write(\r\n            LogLevel.ERROR,\r\n            `Error creating parse tree visualization: \\n${e.message}\\n${e.stack}`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  );\r\n}\r\n","export const CREATE_VISUALIZATION_COMMAND =\r\n  \"IntellicodeCompletions.CreateInlineCompletionVisualization\";\r\nexport const CREATE_PARSE_TREE_VISUALIZATION_COMMAND =\r\n  \"IntellicodeCompletions.CreateParseTreeVisualization\";\r\nexport const POST_ACCEPTANCE_COMMAND = \"IntellicodeCompletions.PostAcceptance\";\r\n","import * as vscode from \"vscode\";\r\nimport { POST_ACCEPTANCE_COMMAND } from \"./ids\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryMeasureNames,\r\n  TelemetryPropertyNames,\r\n} from \"../../@types/telemetry\";\r\nimport { ITelemetrySender } from \"../../services/telemetry/sender\";\r\nimport { postAcceptanceCommandArguments } from \"../../@types/inlineCompletionProvider\";\r\n\r\n/**\r\n * Registering the command and the command handler to be run when the user accepts a prediction\r\n */\r\nexport default (\r\n  telemetry: ITelemetrySender,\r\n  useVsCodeVimSnippetWorkaround: boolean\r\n) =>\r\n  /**\r\n   * Deals with actions that need to take place after the completion has been accepted by the user.\r\n   * Currently carries out 2 actions:\r\n   *   1. Send telemetry\r\n   *   2. Append the given string to behind the cursor\r\n   * @param telemetryEventName Telemetry event to send\r\n   * @param telemetryProperties Telemetry properties to send\r\n   * @param telemetryMeasures Telemetry measures to send\r\n   * @param editor The editor to add {@link postAcceptanceInsertion} to\r\n   * @param postAcceptanceInsertion String to append to behind where the cursor is after the completion has been accepted\r\n   * @param overwritePosition If this value is populated, postAcceptanceInsertion will overwrite the rest of the line starting from this position.\r\n   */\r\n  vscode.commands.registerCommand(\r\n    POST_ACCEPTANCE_COMMAND,\r\n    async (postAcceptanceCommandArguments: postAcceptanceCommandArguments) => {\r\n      const {\r\n        languageId: languageId,\r\n        completionLength: completionLength,\r\n        firstTokenScore: firstTokenScore,\r\n        cumulativeLastTokenScore: cumulativeLastTokenScore,\r\n        tokenCount: tokenCount,\r\n        lengthPenalizedLastTokenScore: lengthPenalizedLastTokenScore,\r\n        snippetPlaceholderCount: snippetPlaceholderCount,\r\n        editor: editor,\r\n        postInsertionString: postInsertionString,\r\n        overwriteRange: overwriteRange,\r\n      } = postAcceptanceCommandArguments;\r\n\r\n      if (editor && postInsertionString) {\r\n        // Fix #1429586: Work around an issue in VSCodeVim where inserting a snippet over a non-empty location\r\n        // will exit insert mode. This is extremely disruptive to vim users. https://github.com/VSCodeVim/Vim/issues/7068\r\n        // Instead, we first delete the overwrite range and then insert the snippet at the beginning position of the overwrite range.\r\n        // We avoid this workaround if the user doesn't have VSCodeVim. I'm not sure if it has any adverse effects,\r\n        // but seems reasonable to me that we should try to use insertSnippet as it is designed except in the one case\r\n        // where we need to work around the issue.\r\n        if (useVsCodeVimSnippetWorkaround && overwriteRange) {\r\n          await editor.edit((edit) => {\r\n            edit.delete(overwriteRange);\r\n          });\r\n\r\n          await editor.insertSnippet(\r\n            new vscode.SnippetString(postInsertionString),\r\n            overwriteRange.start,\r\n            {\r\n              undoStopBefore: false, // Ctrl+Z takes users back to before InlineCompletion\r\n              undoStopAfter: true,\r\n            }\r\n          );\r\n        } else {\r\n          await editor.insertSnippet(\r\n            new vscode.SnippetString(postInsertionString),\r\n            overwriteRange,\r\n            {\r\n              undoStopBefore: false, // Ctrl+Z takes users back to before InlineCompletion\r\n              undoStopAfter: true,\r\n            }\r\n          );\r\n        }\r\n      }\r\n\r\n      const telemetryEventName = TelemetryEventNames.COMPLETION_ACCEPTED;\r\n      const telemetryProperties = {\r\n        [TelemetryPropertyNames.LANGUAGE_ID]: languageId,\r\n      };\r\n      const telemetryMeasures = {\r\n        [TelemetryMeasureNames.COMPLETION_LENGTH]: completionLength,\r\n        [TelemetryMeasureNames.FIRST_TOKEN_SCORE]: firstTokenScore,\r\n        [TelemetryMeasureNames.CUMULATIVE_LAST_TOKEN_SCORE]:\r\n          cumulativeLastTokenScore,\r\n        [TelemetryMeasureNames.TOKEN_COUNT]: tokenCount,\r\n        [TelemetryMeasureNames.LENGTH_PENALIZED_LAST_TOKEN_SCORE]:\r\n          lengthPenalizedLastTokenScore,\r\n        [TelemetryMeasureNames.SNIPPET_PLACEHOLDER_COUNT]:\r\n          snippetPlaceholderCount,\r\n      };\r\n\r\n      telemetry.sendTelemetryEvent(\r\n        telemetryEventName as string,\r\n        telemetryProperties,\r\n        telemetryMeasures\r\n      );\r\n    }\r\n  );\r\n","// Entry ring 2: It is safe to reference VSCode APIs and reference native modules, VSCode is running on an architecture\r\n// that is supported by onnxruntime.\r\nimport * as vscode from \"vscode\";\r\nimport { CompletionService } from \"../services/completion\";\r\nimport { CompletionState } from \"../resultCache/completionState\";\r\nimport { ExtensionApi } from \"../extensionApi\";\r\nimport { IntelliCodeInlineCompletionItemProvider } from \"./inlineCompletionProvider\";\r\nimport { ILoggingService, LogLevel } from \"../services/logging\";\r\nimport { INormalizationService } from \"../services/normalization\";\r\nimport {\r\n  FeedbackSurveyService,\r\n  USER_IN_REST_STATE_TIME,\r\n} from \"../services/survey\";\r\nimport { isInternal } from \"../utils/common\";\r\nimport {\r\n  Telemetry,\r\n  TelemetryResult,\r\n  FaultType,\r\n} from \"../services/telemetry/vscodeTelemetry\";\r\nimport Settings from \"../services/settings/settings\";\r\nimport { VSCodeSettings } from \"../services/settings/vscodeSettings\";\r\nimport { ITelemetrySender } from \"../services/telemetry/sender\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryPropertyNames,\r\n} from \"../@types/telemetry\";\r\nimport postAcceptanceCommand from \"./commands/postAcceptanceCommand\";\r\nimport {\r\n  registerCompletionVisualizationCommand,\r\n  registerParseTreeVisualizationCommand,\r\n} from \"./commands/createVisualizationCommands\";\r\nimport { TreeSitterSyntacticFilterService } from \"../services/syntacticFilter/treeSitterSyntacticFilter\";\r\nimport * as constants from \"../services/survey/index\";\r\nimport { createLineCompletionServiceWithRetriesAsync } from \"../services/completion/localLineCompletionService\"; // MARKER: might have to move this deeper idk\r\nimport { initWorkerThreadCompletionService } from \"../services/completion/workerThreadLineCompletionService\";\r\nimport { initNormalizationService } from \"../services/normalization/treeSitterNormalizationService\";\r\nimport { initVsCodeTelemetryService } from \"../services/telemetry/vscodeTelemetry\";\r\nimport { VSCodeOutputLogger } from \"../services/logging/VSCodeOutputLogger\";\r\nimport { IExtension } from \"./extension\";\r\nimport { ExtendedInlineCompletionItem } from \"../@types/inlineCompletionProvider\";\r\n\r\n// These constants are populated at build time by webpack, and are defined in webpack.config.js.\r\ndeclare let __PACKAGE_VERSION__: string;\r\ndeclare let __COMMIT_HASH__: string;\r\n\r\nexport function defaultExtensionFactory(context: any) {\r\n  return new ExtensionFactory(\r\n    (settings, telemetry, logger) => {\r\n      // Choose which completion service to init based on config\r\n      if (settings.USE_WORKER_THREAD) {\r\n        return initWorkerThreadCompletionService(\r\n          new VSCodeSettings(), // Pass in setting storage backed by vscode's workspace\r\n          telemetry,\r\n          logger\r\n        );\r\n      } else {\r\n        return createLineCompletionServiceWithRetriesAsync(\r\n          settings,\r\n          telemetry,\r\n          logger\r\n        );\r\n      }\r\n    },\r\n    initNormalizationService,\r\n    initVsCodeTelemetryService,\r\n    VSCodeOutputLogger.Instance\r\n  );\r\n}\r\nexport class ExtensionFactory {\r\n  private completionState: CompletionState | undefined;\r\n  private telemetry: Telemetry | undefined;\r\n\r\n  constructor(\r\n    private initializeCompletionService: (\r\n      settings: Settings,\r\n      telemetry: ITelemetrySender,\r\n      logger: ILoggingService\r\n    ) => Promise<CompletionService>,\r\n    private initializeNormalizationService: (\r\n      logger: ILoggingService\r\n    ) => Promise<INormalizationService>,\r\n    private initTelemetryService: (\r\n      context: vscode.ExtensionContext,\r\n      logger: ILoggingService\r\n    ) => Telemetry,\r\n    private loggingService: ILoggingService\r\n  ) {}\r\n\r\n  /**\r\n   * Returns an object containing the activate and deactivate functions.\r\n   * Exporting those two are the minimum requirements of a VSCode extension.\r\n   */\r\n  public get Extension(): IExtension {\r\n    const ext = {\r\n      activate: this.createActivate(),\r\n      deactivate: () => {\r\n        this.telemetry?.reporter.dispose();\r\n      },\r\n    };\r\n    return ext;\r\n  }\r\n\r\n  private createActivate() {\r\n    const activate = async (context: vscode.ExtensionContext) => {\r\n      if (this.telemetry === undefined) {\r\n        this.telemetry = this.initTelemetryService(\r\n          context,\r\n          this.loggingService\r\n        );\r\n      }\r\n\r\n      // If copilot was enabled before, but isn't anymore, send telemetry\r\n      const copilotPreviouslyEnabled = context.globalState.get(\r\n        constants.COPILOT_ENABLED\r\n      );\r\n\r\n      if (copilotPreviouslyEnabled) {\r\n        const copilotEnabled =\r\n          vscode.extensions.getExtension(\"github.copilot\") !== undefined;\r\n        if (!copilotEnabled) {\r\n          this.telemetry.sendTelemetryEvent(\r\n            TelemetryEventNames.COPILOT_DISABLED_AFTER_BEING_ENABLED\r\n          );\r\n        }\r\n      }\r\n\r\n      try {\r\n        if (this.completionState === undefined) {\r\n          this.completionState = new CompletionState(\r\n            this.loggingService,\r\n            this.telemetry\r\n          );\r\n        }\r\n\r\n        // Create settings instance which is backed by VSCode's settings\r\n        const settings = new Settings(new VSCodeSettings());\r\n        const completionService = await this.initializeCompletionService(\r\n          settings,\r\n          this.telemetry,\r\n          this.loggingService\r\n        );\r\n\r\n        context.subscriptions.push(this.telemetry.reporter);\r\n        const activateTelemetryEvent = this.telemetry.startTimedEvent(\r\n          TelemetryEventNames.EXTENSION_ACTIVATED,\r\n          true\r\n        );\r\n        this.telemetry.addContextProperty(\r\n          TelemetryPropertyNames.IS_INTERNAL,\r\n          isInternal()\r\n        );\r\n\r\n        // Fix #1429586: If VsCodeVim is present, we need to use a workaround in the post-acceptance command\r\n        // so that inserting a completion which contains a placeholder doesn't eject the user\r\n        // from insert mode. https://github.com/VSCodeVim/Vim/issues/7068\r\n        const vsCodeVimExtension =\r\n          vscode.extensions.getExtension(\"vscodevim.vim\");\r\n        const vsCodeVimIsEnabled = vsCodeVimExtension !== undefined;\r\n        if (vsCodeVimIsEnabled) {\r\n          this.loggingService.write(LogLevel.INFO, \"VSCodeVim is installed.\");\r\n        }\r\n        context.subscriptions.push(\r\n          postAcceptanceCommand(this.telemetry, vsCodeVimIsEnabled)\r\n        );\r\n\r\n        const normalizationService = await this.initializeNormalizationService(\r\n          this.loggingService\r\n        );\r\n        const syntacticFilter = new TreeSitterSyntacticFilterService(\r\n          this.loggingService\r\n        );\r\n\r\n        const inlineCompletionProvider = registerInlineCompletionItemProvider(\r\n          context,\r\n          normalizationService,\r\n          syntacticFilter,\r\n          this.loggingService,\r\n          this.telemetry,\r\n          this.completionState,\r\n          completionService,\r\n          settings\r\n        );\r\n\r\n        const feedbackSurveyService = new FeedbackSurveyService(context);\r\n        feedbackSurveyService.initializeGlobalStateKeys();\r\n        let timeout: NodeJS.Timeout;\r\n\r\n        vscode.window\r\n          .getInlineCompletionItemController(inlineCompletionProvider)\r\n          .onDidShowCompletionItem((e) => {\r\n            // All our completion items are ExtendedInlineCompletionItem, so assert the type.\r\n            const item = e.completionItem as ExtendedInlineCompletionItem;\r\n\r\n            this.telemetry?.sendTelemetryEvent(\r\n              TelemetryEventNames.COMPLETION_SHOWN,\r\n              item.properties ?? {},\r\n              item.measures ?? {},\r\n            );\r\n\r\n            feedbackSurveyService.incrementNumberOfCompletionsShown();\r\n            if (timeout) {\r\n              clearTimeout(timeout);\r\n            }\r\n            // Show the notification only when the user has been inactive for some time\r\n            timeout = setTimeout(() => {\r\n              feedbackSurveyService.showToastNotification();\r\n            }, USER_IN_REST_STATE_TIME);\r\n          });\r\n\r\n        activateTelemetryEvent.end(TelemetryResult.Success);\r\n        this.loggingService.write(\r\n          LogLevel.FATAL,\r\n          `Extension version: ${__PACKAGE_VERSION__} ${__COMMIT_HASH__}`\r\n        );\r\n        const api: ExtensionApi = {\r\n          // API for other extensions to use\r\n          registerDevCommands: () => {\r\n            context.subscriptions.push(\r\n              registerCompletionVisualizationCommand(\r\n                <CompletionState>this.completionState,\r\n                normalizationService\r\n              ),\r\n              registerParseTreeVisualizationCommand(\r\n                <CompletionState>this.completionState,\r\n                normalizationService,\r\n                syntacticFilter,\r\n                this.loggingService,\r\n                settings\r\n              )\r\n            );\r\n          },\r\n          getTelemetryEmitter:\r\n            this.telemetry === undefined\r\n              ? () => {\r\n                  throw new Error(\"Telemetry Service not intialized\");\r\n                }\r\n              : () => this.telemetry!.EventEmitter,\r\n        };\r\n\r\n        return api;\r\n      } catch (e) {\r\n        if (!(e instanceof Error)) {\r\n          throw e;\r\n        }\r\n        this.telemetry?.sendFault(\r\n          TelemetryEventNames.EXTENSION_ACTIVATION_FAULT,\r\n          FaultType.Unknown,\r\n          e.message,\r\n          e,\r\n          undefined\r\n        );\r\n        return {\r\n          // Failure scenario. Notify user of failure.\r\n          registerDevCommands: () => {\r\n            vscode.window.showErrorMessage(\r\n              \"IntelliCode Completions failed to initialize. DevTools couldn't be initialized.\\n\" +\r\n                e\r\n            );\r\n          },\r\n          getTelemetryEmitter: () => {\r\n            throw new Error(\"Telemetry Service not intialized\");\r\n          },\r\n        };\r\n      }\r\n    };\r\n    return activate;\r\n  }\r\n}\r\n\r\n// Languages current support in WLC\r\nconst documentSelector = [\r\n  //\"java\",\r\n  \"javascript\",\r\n  \"javascriptreact\",\r\n  \"typescript\",\r\n  \"typescriptreact\",\r\n  \"python\",\r\n];\r\n\r\nfunction registerInlineCompletionItemProvider(\r\n  context: vscode.ExtensionContext,\r\n  normalizationService: INormalizationService,\r\n  syntacticFilter: TreeSitterSyntacticFilterService,\r\n  loggingService: ILoggingService,\r\n  telemetry: Telemetry,\r\n  completionState: CompletionState,\r\n  lineCompletionService: CompletionService,\r\n  settings: Settings\r\n) {\r\n  const disposable = vscode.commands.registerCommand(\r\n    \"extension.inline-completion-settings\",\r\n    () => {\r\n      vscode.window.showInformationMessage(\"Show settings\");\r\n    }\r\n  );\r\n\r\n  context.subscriptions.push(disposable);\r\n\r\n  const intelliCodeInlineCompletionItemProvider: vscode.InlineCompletionItemProvider<vscode.InlineCompletionItem> =\r\n    new IntelliCodeInlineCompletionItemProvider(\r\n      normalizationService,\r\n      syntacticFilter,\r\n      loggingService,\r\n      telemetry,\r\n      completionState,\r\n      lineCompletionService,\r\n      settings\r\n    );\r\n\r\n  vscode.languages.registerInlineCompletionItemProvider(\r\n    documentSelector,\r\n    intelliCodeInlineCompletionItemProvider\r\n  );\r\n  return intelliCodeInlineCompletionItemProvider;\r\n}\r\n","import { Mutex } from \"async-mutex\";\r\nimport { performance } from \"perf_hooks\";\r\nimport * as vscode from \"vscode\";\r\nimport { InlineCompletionContext } from \"vscode\";\r\nimport { POST_ACCEPTANCE_COMMAND } from \"./commands/ids\";\r\nimport { CompletionService } from \"../services/completion\";\r\nimport {\r\n  CompletionState,\r\n  penalizedLogConfidence,\r\n} from \"../resultCache/completionState\";\r\nimport Settings from \"../services/settings/settings\";\r\nimport { ILoggingService, LogLevel } from \"../services/logging\";\r\nimport { INormalizationService } from \"../services/normalization\";\r\nimport { isAlphanumeric } from \"../utils/document\";\r\nimport { matchBraces } from \"../utils/postProcRules\";\r\nimport { FaultType, Telemetry } from \"../services/telemetry/vscodeTelemetry\";\r\nimport { getContext } from \"../utils/vscodeEditor\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryMeasureNames,\r\n  TelemetryPropertyNames,\r\n} from \"../@types/telemetry\";\r\nimport { ParsedCode } from \"../services/normalization/normalizationService\";\r\n\r\nimport { processCompletion } from \"../utils/inlineCompletionProvider/processCompletionItem\";\r\n\r\nimport {\r\n  isSyntacticallyCorrect,\r\n  isUniqueLine,\r\n} from \"../utils/inlineCompletionProvider/validateCompletionItem\";\r\nimport { TreeSitterSyntacticFilterService } from \"../services/syntacticFilter/treeSitterSyntacticFilter\";\r\nimport {\r\n  ExtendedInlineCompletionItem,\r\n  postAcceptanceCommandArguments,\r\n  PreviousCompletionItemProvided,\r\n} from \"../@types/inlineCompletionProvider\";\r\n\r\nimport {\r\n  walkingThePredictionStatus,\r\n  modifyPreviousCompletionProvided,\r\n  hasDocumentChanged,\r\n  hasLineNumberChanged,\r\n} from \"../utils/inlineCompletionProvider/walkingThePrediction\";\r\n\r\n/**\r\n * These are characters that we consider acceptable for the suggestion to start with\r\n * when the context ends on a whitespace.\r\n * Most tokens, even including brackets and parenthesis, will have a space prepended.\r\n * We just added the parenthesis and brackets in as a safety measure.\r\n */\r\nconst whitespaceAllowed = new Set([\" \", \"(\", \"{\", \"[\"]);\r\n\r\nexport function createAcceptCommand(\r\n  postAcceptanceCommandArguments: postAcceptanceCommandArguments\r\n) {\r\n  return {\r\n    command: POST_ACCEPTANCE_COMMAND,\r\n    title: \"Send Acceptance Telemetry\",\r\n    arguments: [postAcceptanceCommandArguments],\r\n  } as vscode.Command;\r\n}\r\n\r\n/**\r\n * Implements vscode.InlineCompletionItemProvider- this is what VSCode calls when\r\n * we need to provide a gray-text completion.\r\n */\r\nexport class IntelliCodeInlineCompletionItemProvider\r\n  implements vscode.InlineCompletionItemProvider\r\n{\r\n  /**\r\n   * Timestamp of the last call to this provider.\r\n   * Used to keep track of how frequent calls to this provider is.\r\n   */\r\n  private lastCallTime = performance.now();\r\n\r\n  /**\r\n   * Enforces only a single model inference to be running at a given time.\r\n   */\r\n  private inferenceLock = new Mutex();\r\n\r\n  /**\r\n   * Assign each request a unique id for debugging purposes.\r\n   */\r\n  private requestId = 0;\r\n  private prevCompletionProvided: PreviousCompletionItemProvided | undefined;\r\n\r\n  constructor(\r\n    private normalizationService: INormalizationService,\r\n    private syntacticFilter: TreeSitterSyntacticFilterService,\r\n    private loggingService: ILoggingService,\r\n    private telemetry: Telemetry,\r\n    private completionState: CompletionState,\r\n    private lineCompletionService: CompletionService,\r\n    private settings: Settings\r\n  ) {}\r\n\r\n  public async provideInlineCompletionItems(\r\n    document: vscode.TextDocument,\r\n    position: vscode.Position,\r\n    context: InlineCompletionContext,\r\n    cancellationToken: vscode.CancellationToken\r\n  ): Promise<\r\n    | vscode.InlineCompletionList<vscode.InlineCompletionItem>\r\n    | vscode.InlineCompletionItem[]\r\n    | null\r\n    | undefined\r\n  > {\r\n    // Only get inline completion items for enabled languages.\r\n    if (!this.settings.getLanguageEnabled(document.languageId)) {\r\n      return undefined;\r\n    }\r\n\r\n    const logPrefix = `[inlineCompletionProvider.provideInlineCompletionItems() ${this.requestId}] `;\r\n    this.requestId += 1;\r\n\r\n    if (context.selectedCompletionInfo !== undefined) {\r\n      if (context.selectedCompletionInfo.isSnippetText) {\r\n        this.loggingService.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix} Skipped IntelliSense snippet text completion item`\r\n        );\r\n        return undefined;\r\n      }\r\n\r\n      let kind = context.selectedCompletionInfo.completionKind;\r\n      if (kind !== undefined) {\r\n        switch (kind) {\r\n          case vscode.CompletionItemKind.File:\r\n          case vscode.CompletionItemKind.Folder:\r\n          case vscode.CompletionItemKind.Color:\r\n          case vscode.CompletionItemKind.Unit:\r\n          case vscode.CompletionItemKind.Snippet:\r\n          case vscode.CompletionItemKind.Text:\r\n            this.loggingService.write(\r\n              LogLevel.DEBUG,\r\n              `${logPrefix} Skipped completion item of kind ${kind}`\r\n            );\r\n            return undefined;\r\n        }\r\n      }\r\n    }\r\n    try {\r\n      this.loggingService.write(\r\n        LogLevel.DEBUG,\r\n        `${logPrefix} Entered provideInlineCompletionItems() try block`\r\n      );\r\n\r\n      const providerCalledTime = performance.now();\r\n\r\n      const timeSinceLastProvide = providerCalledTime - this.lastCallTime;\r\n      this.telemetry.sendTelemetryEvent(\r\n        TelemetryEventNames.COMPLETION_PROVIDER_CALLED,\r\n\r\n        {},\r\n        {\r\n          [TelemetryMeasureNames.TIME_SINCE_LAST_PROVIDE]: timeSinceLastProvide,\r\n        }\r\n      );\r\n      this.lastCallTime = providerCalledTime;\r\n\r\n      cancellationToken.onCancellationRequested((e) => {\r\n        const providerCancelRequestTime = performance.now();\r\n        const timeTillCancel = providerCancelRequestTime - providerCalledTime;\r\n\r\n        this.loggingService.write(\r\n          LogLevel.INFO,\r\n          `${logPrefix} Recieved cancellation event, ran for ${timeTillCancel}`\r\n        );\r\n\r\n        this.telemetry.sendTelemetryEvent(\r\n          TelemetryEventNames.COMPLETION_PROVIDER_CANCEL_REQUESTED,\r\n          {},\r\n          {\r\n            [TelemetryMeasureNames.TIME_TIL_CANCEL_REQ]: timeTillCancel,\r\n          }\r\n        );\r\n      });\r\n\r\n      const documentLanguage = document.languageId;\r\n\r\n      if (!this.normalizationService.isAvailableFor(documentLanguage)) {\r\n        await this.normalizationService.initialize(documentLanguage);\r\n      }\r\n\r\n      if (cancellationToken.isCancellationRequested) {\r\n        this.loggingService.write(LogLevel.DEBUG, `${logPrefix} Cancelled`);\r\n        return undefined;\r\n      }\r\n      /**\r\n       * Code in the document\r\n       */\r\n      const codeBefore = getContext(document, position, context);\r\n      /**\r\n       * Code in the line\r\n       */\r\n      const codeOnLine = document.lineAt(position.line).text;\r\n      /**\r\n       * Code on line till the cursor\r\n       */\r\n      const codeTillCursor = codeOnLine.substring(0, position.character);\r\n\r\n      if (this.prevCompletionProvided) {\r\n        const isUserWalkingThePrediction = walkingThePredictionStatus(\r\n          hasDocumentChanged(\r\n            this.prevCompletionProvided.prevDocument,\r\n            document\r\n          ),\r\n          hasLineNumberChanged(\r\n            this.prevCompletionProvided.prevLine,\r\n            position.line\r\n          ),\r\n          context.selectedCompletionInfo?.text,\r\n          this.prevCompletionProvided.prevSelectedCompletion,\r\n          this.prevCompletionProvided.prevFullLineCompletion,\r\n          codeOnLine,\r\n          codeTillCursor\r\n        );\r\n\r\n        if (isUserWalkingThePrediction) {\r\n          this.loggingService.write(\r\n            LogLevel.DEBUG,\r\n            `${logPrefix} User is walking the prediction`\r\n          );\r\n          const modifiedPreviousCompletionProvided =\r\n            modifyPreviousCompletionProvided(\r\n              this.prevCompletionProvided.prevFullLineCompletion,\r\n              this.prevCompletionProvided.prevSnippetString,\r\n              this.prevCompletionProvided.prevSnippetRange,\r\n              this.prevCompletionProvided.prevCompletionItem.text,\r\n              this.prevCompletionProvided.prevCompletionItem.range,\r\n              codeOnLine,\r\n              position.line\r\n            );\r\n          this.prevCompletionProvided.prevCompletionItem.text =\r\n            modifiedPreviousCompletionProvided.newCompletionText;\r\n          this.prevCompletionProvided.prevCompletionItem.range =\r\n            modifiedPreviousCompletionProvided.newCompletionRange;\r\n\r\n          // Updating arguments for postAcceptanceCommand here\r\n          let modifiedCommandArguments: postAcceptanceCommandArguments =\r\n            this.prevCompletionProvided.prevCompletionItem.command!\r\n              .arguments![0];\r\n\r\n          modifiedCommandArguments.postInsertionString =\r\n            modifiedPreviousCompletionProvided.newSnippetText;\r\n          modifiedCommandArguments.overwriteRange =\r\n            modifiedPreviousCompletionProvided.newSnippetRange;\r\n          this.prevCompletionProvided.prevCompletionItem.command!.arguments![0] =\r\n            modifiedCommandArguments;\r\n\r\n          return new vscode.InlineCompletionList([\r\n            this.prevCompletionProvided.prevCompletionItem,\r\n          ]);\r\n        } else {\r\n          this.prevCompletionProvided = undefined;\r\n        }\r\n      }\r\n\r\n      let parsedCode: ParsedCode | undefined;\r\n      let normCodeBefore: string | undefined;\r\n\r\n      try {\r\n        parsedCode = this.normalizationService.parse(\r\n          codeBefore,\r\n          documentLanguage\r\n        );\r\n        normCodeBefore = this.normalizationService.normalize(parsedCode);\r\n\r\n        if (!normCodeBefore) {\r\n          // We're most likely writing a comment right now, and we do not want to run extension.\r\n          return undefined;\r\n        }\r\n      } catch (e) {\r\n        this.loggingService.write(\r\n          LogLevel.ERROR,\r\n          `${logPrefix} Error during normalization: ${e}`\r\n        );\r\n        return undefined;\r\n      }\r\n\r\n      if (cancellationToken.isCancellationRequested) {\r\n        this.loggingService.write(LogLevel.DEBUG, `${logPrefix} Cancelled`);\r\n        return undefined;\r\n      }\r\n\r\n      const request: boolean =\r\n        !cancellationToken.isCancellationRequested &&\r\n        codeBefore.length > 0 &&\r\n        (!isAlphanumeric(codeBefore.charCodeAt(codeBefore.length - 1)) ||\r\n          context.selectedCompletionInfo !== undefined); // Trigger inference if the user has a selected item in the suggestions widget/completion menu\r\n\r\n      if (request) {\r\n        this.loggingService.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix}Starting request`\r\n        );\r\n        const beforeLock = performance.now();\r\n\r\n        /**\r\n         * This lock ensures that only one inference is running at a time..\r\n         *\r\n         * Without this once the user types fast enough,\r\n         * multiple inference instances will be proc'd at the same time leading to a lag spike.\r\n         *\r\n         * Another solution that was tested was honoring the cancellation token within onnxModelWrapper.\r\n         * This solution stopped farther inferences once a token was marked as cancelled,\r\n         * but had the problem of leading to inconsistent recommendations\r\n         * as each inference would lead to a different number of tokens being produced.\r\n         */\r\n\r\n        const release = await this.inferenceLock.acquire();\r\n        const afterLock = performance.now();\r\n        if (cancellationToken.isCancellationRequested) {\r\n          this.loggingService.write(\r\n            LogLevel.DEBUG,\r\n            logPrefix + `Cancelled after ${afterLock - beforeLock}ms wait`\r\n          );\r\n          release();\r\n          return undefined;\r\n        }\r\n        try {\r\n          await this.lineCompletionService.request(\r\n            this.requestId,\r\n            normCodeBefore,\r\n            documentLanguage,\r\n            this.completionState,\r\n            { isCancellationRequested: false }\r\n          );\r\n        } catch (e) {\r\n          this.loggingService.write(\r\n            LogLevel.ERROR,\r\n            `${logPrefix} Caught error when requesting inline completion: ${e}`\r\n          );\r\n          throw e;\r\n        } finally {\r\n          release();\r\n          this.loggingService.write(\r\n            LogLevel.INFO,\r\n            `${logPrefix}\\n\\t` +\r\n              `Wait: ${afterLock - beforeLock}ms\\n\\t` +\r\n              `Full inference: ${performance.now() - afterLock}`\r\n          );\r\n        }\r\n      } else {\r\n        this.loggingService.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix}Skipping request`\r\n        );\r\n      }\r\n      if (cancellationToken.isCancellationRequested) {\r\n        return undefined;\r\n      }\r\n\r\n      const {\r\n        bestCompletion: completion,\r\n        metadata: { firstTokenScore, cumulativeLastScore, tokenCount },\r\n      } = this.completionState.getLineCompletion(\r\n        normCodeBefore,\r\n        this.settings.getFirstTokenConfidenceThreshold(documentLanguage),\r\n        Number.NEGATIVE_INFINITY /* Deactivating Log Cutoff after cache schema change to individual token probability */\r\n      );\r\n\r\n      // const a vs const a_\r\n      // Check if last whitespace exists, and if the recommendation makes sense w/ it in mind\r\n      if (\r\n        !document.lineAt(position.line).isEmptyOrWhitespace &&\r\n        codeBefore.endsWith(\" \") &&\r\n        !whitespaceAllowed.has(completion.charAt(0))\r\n      ) {\r\n        this.loggingService.write(\r\n          LogLevel.INFO,\r\n          `${logPrefix} Ignoring completion as it did not start w/ a whitespace:\\n\\t` +\r\n            completion\r\n        );\r\n        return undefined;\r\n      }\r\n\r\n      // Check if indentation level is at a place where we want to show suggestions\r\n      // WARNING: E2E TESTS CAN FAIL IF YOU HAVE AN OPENED DOCUMENT IN THE EXTENSION HOST\r\n      const { activeTextEditor } = vscode.window;\r\n      if (activeTextEditor) {\r\n        if (activeTextEditor.document !== document) {\r\n          // Defensive coding\r\n          this.loggingService.write(\r\n            LogLevel.FATAL,\r\n            logPrefix +\r\n              `Active text editor and document mismatch, returning undefined.`\r\n          );\r\n          return undefined;\r\n        }\r\n\r\n        if (\r\n          !correctlyIndented(\r\n            completion,\r\n            document,\r\n            position,\r\n            +(activeTextEditor.options.tabSize || \"4\") // +() syntax casts to number\r\n          )\r\n        ) {\r\n          this.loggingService.write(\r\n            LogLevel.INFO,\r\n            logPrefix +\r\n              `Suggestion triggered on wrong indentation level, returning undefined.`\r\n          );\r\n          return undefined;\r\n        }\r\n      }\r\n\r\n      const codeTillSelectedCompletion = context.selectedCompletionInfo\r\n        ? codeOnLine.substring(\r\n            0,\r\n            context.selectedCompletionInfo.range.start.character\r\n          )\r\n        : undefined;\r\n\r\n      const {\r\n        completionToReturn,\r\n        snippetToReturn,\r\n        additionalData: {\r\n          fullLineWithCompletion,\r\n          fullLineWithSnippet,\r\n          postAcceptanceRange,\r\n          completionRange,\r\n          snippetCount,\r\n        },\r\n      } = processCompletion(\r\n        codeTillCursor,\r\n        codeTillSelectedCompletion,\r\n        context.selectedCompletionInfo?.text,\r\n        context.selectedCompletionInfo?.range,\r\n        position,\r\n        completion\r\n      );\r\n\r\n      if (\r\n        !isUniqueLine(\r\n          fullLineWithCompletion,\r\n          document,\r\n          position,\r\n          this.loggingService,\r\n          logPrefix\r\n        )\r\n      ) {\r\n        return undefined;\r\n      }\r\n\r\n      if (this.settings.PARSE_ERROR_FILTER) {\r\n        // try to parse result\r\n        if (\r\n          !isSyntacticallyCorrect(\r\n            fullLineWithCompletion,\r\n            postAcceptanceRange,\r\n            document,\r\n            position,\r\n            parsedCode,\r\n            this.normalizationService,\r\n            this.syntacticFilter,\r\n            this.loggingService,\r\n            logPrefix\r\n          )\r\n        ) {\r\n          return undefined;\r\n        }\r\n      }\r\n\r\n      const items: vscode.InlineCompletionItem[] = [];\r\n\r\n      let postAcceptanceInsertion = \"\";\r\n      if (\r\n        this.settings.SNIPPET_COMPLETION &&\r\n        completionToReturn !== snippetToReturn\r\n      ) {\r\n        // Prepare snippet to overwrite entire completion\r\n        postAcceptanceInsertion += snippetToReturn;\r\n      }\r\n      if (this.settings.BRACE_COMPLETION) {\r\n        this.loggingService.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix} Matching braces in completion`\r\n        );\r\n        const requiredBraces = matchBraces(completionToReturn);\r\n        postAcceptanceInsertion += `$0${requiredBraces}`;\r\n      }\r\n\r\n      const lengthPenalizedLastTokenScore = penalizedLogConfidence(\r\n        cumulativeLastScore,\r\n        tokenCount,\r\n        this.settings.WLC_RECOMMENDATION_LENGTH_PENALTY\r\n      );\r\n\r\n      const postAcceptanceCommandArguments: postAcceptanceCommandArguments = {\r\n        languageId: document.languageId,\r\n        completionLength: completionToReturn.length,\r\n        firstTokenScore: firstTokenScore,\r\n        cumulativeLastTokenScore: cumulativeLastScore,\r\n        tokenCount: tokenCount,\r\n        lengthPenalizedLastTokenScore: lengthPenalizedLastTokenScore,\r\n        snippetPlaceholderCount: snippetCount,\r\n        editor: activeTextEditor,\r\n        postInsertionString: postAcceptanceInsertion,\r\n        overwriteRange: postAcceptanceRange,\r\n        [Symbol.toStringTag]: \"PostAcceptanceCommandArgumentsTag\",\r\n      };\r\n\r\n      const completionItem: ExtendedInlineCompletionItem = {\r\n        text: completionToReturn,\r\n        range: completionRange,\r\n        command: createAcceptCommand(postAcceptanceCommandArguments),\r\n        properties: {\r\n          [TelemetryPropertyNames.LANGUAGE_ID]: document.languageId,\r\n        },\r\n        measures: {\r\n          [TelemetryMeasureNames.COMPLETION_LENGTH]: completionToReturn.length,\r\n          [TelemetryMeasureNames.FIRST_TOKEN_SCORE]: firstTokenScore,\r\n          [TelemetryMeasureNames.CUMULATIVE_LAST_TOKEN_SCORE]:\r\n            cumulativeLastScore,\r\n          [TelemetryMeasureNames.TOKEN_COUNT]: tokenCount,\r\n          [TelemetryMeasureNames.LENGTH_PENALIZED_LAST_TOKEN_SCORE]:\r\n            lengthPenalizedLastTokenScore,\r\n          [TelemetryMeasureNames.SNIPPET_PLACEHOLDER_COUNT]:\r\n            snippetCount,\r\n          }\r\n      };\r\n\r\n      items.push(completionItem);\r\n\r\n      // Updating last provided prediction\r\n\r\n      this.prevCompletionProvided = {\r\n        prevFullLineCompletion: fullLineWithCompletion,\r\n        prevCompletionItem: completionItem,\r\n        prevDocument: document,\r\n        prevLine: position.line,\r\n        prevSnippetString: fullLineWithSnippet,\r\n        prevSnippetRange: postAcceptanceRange,\r\n        prevSelectedCompletion: context.selectedCompletionInfo?.text,\r\n      };\r\n\r\n      if (\r\n        isPredictionAddingOnlyWhitespace(\r\n          fullLineWithCompletion,\r\n          document.lineAt(position).text\r\n        )\r\n      ) {\r\n        this.loggingService.write(\r\n          LogLevel.DEBUG,\r\n          `${logPrefix} Skipping prediction because it only adds/removes whitespaces`\r\n        );\r\n        return undefined;\r\n      }\r\n\r\n      return new vscode.InlineCompletionList(items);\r\n    } catch (e) {\r\n      if (e instanceof Error) {\r\n        this.loggingService?.write(\r\n          LogLevel.ERROR,\r\n          `${logPrefix}Unexpected exception: ${e.message}\\n${e.stack}`\r\n        );\r\n\r\n        this.telemetry.sendFault(\r\n          TelemetryEventNames.UNEXPECTED_EXCEPTION,\r\n          FaultType.Unknown,\r\n          e.message,\r\n          e,\r\n          undefined\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction isPredictionAddingOnlyWhitespace(\r\n  prediction: string,\r\n  currLine: string\r\n) {\r\n  const predictionWithoutWhitespace = prediction.replace(/\\s+/g, \"\");\r\n  const currLineWithoutWhitespace = currLine.replace(/\\s+/g, \"\");\r\n  if (predictionWithoutWhitespace === currLineWithoutWhitespace) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Heuristic used to check that the suggestions were triggered on the \"correct\" indentation level.\r\n * To determine this, the <INDENT>, <DEDENT> tokens are taken into consideration.\r\n *\r\n * Instead of having a single correct position for the suggestion,\r\n * this checks if the position is at least a certain indentation level.\r\n * Defining a single correct position made it so that the UX felt like a hide-and-seek with the suggestion.\r\n *\r\n * @param completion Suggested completion with <INDENT>, <DEDENT> tokens\r\n * @param document The VSCode document to provide suggestions to\r\n * @param pos Location of the cursor when suggestions were triggered\r\n * @param indentSize The indent size to use\r\n * @return True if current indentation \"correct\"\r\n */\r\nfunction correctlyIndented(\r\n  completion: string,\r\n  document: vscode.TextDocument,\r\n  pos: vscode.Position,\r\n  indentSize: number = 4\r\n): boolean {\r\n  if (pos.line === 0) {\r\n    // We should not assume indentation level on the very first line\r\n    return true;\r\n  }\r\n  const prevIndent = document.lineAt(\r\n    pos.line - 1\r\n  ).firstNonWhitespaceCharacterIndex;\r\n\r\n  if (completion.startsWith(\"<INDENT>\")) {\r\n    // First count how many <INDENT> are there at the start\r\n    const indents = getNumberOfRepeatsAtStart(completion, \"<INDENT>\");\r\n\r\n    // Consider correct if indented the correct amount of times or more\r\n    // Purposefully loosely adhering to account for different code formatting\r\n    return pos.character >= prevIndent + indents * indentSize;\r\n  } else if (completion.startsWith(\"<DEDENT>\")) {\r\n    // First count how many <DEDENT> are there at the start\r\n    const dedents = getNumberOfRepeatsAtStart(completion, \"<DEDENT>\");\r\n\r\n    // Consider correct if dedented the correct amount of times or more\r\n    // Purposefully loosely adhering to account for different code formatting\r\n    return pos.character >= prevIndent - dedents * indentSize;\r\n  } else {\r\n    return pos.character >= prevIndent;\r\n  }\r\n}\r\n\r\n/**\r\n * Used to count how many times a certain substring repeats at the beginning of another string.\r\n * @param s Target string to check\r\n * @param tokenToLook Repeating token\r\n * @returns How many times tokenToLook repeats at the start of s\r\n */\r\nfunction getNumberOfRepeatsAtStart(s: string, tokenToLook: string) {\r\n  let tokenCount = 0;\r\n  while (s.slice(tokenToLook.length * tokenCount).startsWith(tokenToLook)) {\r\n    tokenCount += 1;\r\n  }\r\n  return tokenCount;\r\n}\r\n","import {\r\n  TelemetryEventNames,\r\n  TelemetryPropertyNames,\r\n} from \"../@types/telemetry\";\r\nimport { LogLevel } from \"../services/logging\";\r\nimport * as vscode from \"vscode\";\r\nimport * as constants from \"../services/survey/index\";\r\nimport { Telemetry } from \"../services/telemetry/vscodeTelemetry\";\r\nimport { ExtensionApi } from \"../extensionApi\";\r\nimport { IExtension } from \"./extension\";\r\nimport { initVsCodeTelemetryService } from \"../services/telemetry/vscodeTelemetry\";\r\nimport { VSCodeOutputLogger } from \"../services/logging/VSCodeOutputLogger\";\r\n\r\n/**\r\n * A simple extension activation path which only shows a warning toast and sends a telemetry event.\r\n * Use this when the extension should be prevented from initializing normally for some reason.\r\n */\r\nexport class StubToastExtensionFactory {\r\n  private telemetry: Telemetry | undefined;\r\n\r\n  /**\r\n   * @param message Message to display to the user in a warning notification\r\n   * @param doNotShowStateKey global state key to use to record if 'do not show again' is clicked\r\n   * @param stubActivationTelemetryEvent the telemetry event to send if activation has been stubbed.\r\n   * @param stubActivationTelemetryProperties telemetry properties to attach\r\n   */\r\n  constructor(\r\n    private message: string,\r\n    private doNotShowStateKey: string,\r\n    private stubActivationTelemetryEvent: TelemetryEventNames,\r\n    private stubActivationTelemetryProperties?: Partial<\r\n      Record<TelemetryPropertyNames, any>\r\n    >\r\n  ) {}\r\n\r\n  /**\r\n   * Returns an object containing the activate and deactivate functions.\r\n   * Exporting those two are the minimum requirements of a VSCode extension.\r\n   */\r\n  public get Extension(): IExtension {\r\n    const ext = {\r\n      activate: this.createStubActivate(),\r\n      deactivate: () => {\r\n        this.telemetry?.reporter.dispose();\r\n      },\r\n    };\r\n    return ext;\r\n  }\r\n\r\n  public createStubActivate() {\r\n    VSCodeOutputLogger.Instance.write(LogLevel.WARN, this.message);\r\n    const activate = async (context: vscode.ExtensionContext) => {\r\n      context.globalState.setKeysForSync([this.doNotShowStateKey]);\r\n      if (this.telemetry === undefined) {\r\n        this.telemetry = initVsCodeTelemetryService(context);\r\n      }\r\n      this.telemetry.sendTelemetryEvent(\r\n        this.stubActivationTelemetryEvent,\r\n        this.stubActivationTelemetryProperties\r\n      );\r\n      if (!context.globalState.get(this.doNotShowStateKey)) {\r\n        const selection = await vscode.window.showWarningMessage(\r\n          this.message,\r\n          constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN\r\n        );\r\n\r\n        if (selection === constants.NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN) {\r\n          context.globalState.update(this.doNotShowStateKey, true);\r\n        }\r\n      }\r\n      const api: ExtensionApi = {\r\n        registerDevCommands: () => {},\r\n        getTelemetryEmitter:\r\n          this.telemetry === undefined\r\n            ? () => {\r\n                throw new Error(\"Telemetry Service not initialized\");\r\n              }\r\n            : () => this.telemetry!.EventEmitter,\r\n      };\r\n      return api;\r\n    };\r\n    return activate;\r\n  }\r\n}\r\n","import { GraphData } from \"./graphData\";\r\n// These constants are populated at build time by webpack, and are defined in webpack.config.js.\r\nexport function visualizationHtml(\r\n  graphData: GraphData,\r\n  aboveGraphText: string[]\r\n) {\r\n  const nodeString = JSON.stringify(graphData.nodes);\r\n  const edgeString = JSON.stringify(graphData.edges);\r\n  const optionsString = JSON.stringify(graphData.options);\r\n\r\n  let insertAboveGraphText = \"\";\r\n\r\n  for (let line of aboveGraphText) {\r\n    insertAboveGraphText += `<div>${line}</div>`;\r\n  }\r\n\r\n  return `<!doctype html>\r\n    <html>\r\n    <head>\r\n      <title>Network</title>\r\n      <meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=1.0\">\r\n      <script\r\n        type=\"text/javascript\"\r\n        src=\"https://unpkg.com/vis-network@9.1.0/standalone/umd/vis-network.min.js\"\r\n      ></script>\r\n      <style type=\"text/css\">\r\n        #mynetwork {\r\n          width: 100%;\r\n          height: 600%;\r\n          border: 1px solid lightgray;\r\n        }\r\n      </style>\r\n    </head>\r\n    <body>\r\n    ${insertAboveGraphText}\r\n    <div id=\"mynetwork\"></div>\r\n    <script type=\"text/javascript\">\r\n      var nodes = new vis.DataSet(${nodeString});\r\n      var edges = new vis.DataSet(${edgeString});\r\n      var container = document.getElementById('mynetwork');\r\n      var data = {\r\n        nodes: nodes,\r\n        edges: edges\r\n      };\r\n      var options = ${optionsString};\r\n      var network = new vis.Network(container, data, options);\r\n    </script>\r\n    </body>\r\n    </html>`;\r\n}\r\n","import p = require(\"proxyquire\");\r\nimport { Node, Options } from \"vis-network\";\r\nimport { Position, Range } from \"vscode\";\r\nimport Parser = require(\"web-tree-sitter\");\r\nimport { ParsedCode } from \"../../services/normalization/normalizationService\";\r\nimport {\r\n  NodeTag,\r\n  TaggedNodes as TaggedNodes,\r\n} from \"../../services/syntacticFilter/treeSitterSyntacticFilter\";\r\nimport { GraphData } from \"./graphData\";\r\n\r\nexport function parsedCodeToGraphData(\r\n  parsedCode: ParsedCode,\r\n  tags: TaggedNodes,\r\n  options: Options\r\n): GraphData {\r\n  let graphData: GraphData = {\r\n    nodes: [],\r\n    edges: [],\r\n    options,\r\n  };\r\n\r\n  // Colors are applied from top to bottom\r\n  let nodeTagColorMap: Map<NodeTag, string> = new Map<NodeTag, string>([\r\n    [NodeTag.OverlapsSuggestion, \"#eeeeee\"],\r\n    [NodeTag.InsideSuggestion, \"#aaaaaa\"],\r\n    [NodeTag.Error, \"#990000\"],\r\n    [NodeTag.ErrorChild, \"#efb4b4\"],\r\n  ]);\r\n\r\n  // Nodes to traverse\r\n  const nodes: Parser.SyntaxNode[] = [parsedCode.tree.rootNode];\r\n  while (nodes.length > 0) {\r\n    const node = nodes.shift();\r\n    if (node === undefined) {\r\n      throw new Error(\"node was undefined but shouldn't be\");\r\n    }\r\n    let label: string[] = [];\r\n\r\n    label.push(\r\n      `L${node.startPosition.row}:${node.startPosition.column} - L${node.endPosition.row}:${node.endPosition.column}`\r\n    );\r\n    label.push(`<i>${node.type}</i>`);\r\n    if (node.hasError()) {\r\n      label.push(\"<b>hasError</b>\");\r\n    }\r\n\r\n    // quick and dirty escape html tags. otherwise they can break the layout of the graph\r\n    // https://stackoverflow.com/a/18750001\r\n    let mouseoverLabel = node.text.replace(\r\n      /[\\u00A0-\\u9999<>\\&]/g,\r\n      function (i) {\r\n        return \"&#\" + i.charCodeAt(0) + \";\";\r\n      }\r\n    );\r\n\r\n    let thisNodeTags = tags.getNodeTags(node.id);\r\n    if (thisNodeTags.size > 0) {\r\n      let tagNames: string[] = [];\r\n      for (let tag of thisNodeTags.values()) {\r\n        tagNames.push(NodeTag[tag]);\r\n      }\r\n      label.push(tagNames.join(\",\"));\r\n    }\r\n\r\n    let newNode: Node = {\r\n      id: node.id,\r\n      label: label.join(\"\\n\"),\r\n      title: mouseoverLabel,\r\n    };\r\n\r\n    // Colorize node based on its tags\r\n    for (let [tag, tagColor] of nodeTagColorMap) {\r\n      if (thisNodeTags.has(tag)) {\r\n        newNode.color = tagColor;\r\n      }\r\n    }\r\n\r\n    graphData.nodes.push(newNode);\r\n\r\n    for (const child of node.children) {\r\n      nodes.push(child);\r\n      graphData.edges.push({\r\n        from: node.id,\r\n        to: child.id,\r\n      });\r\n    }\r\n  }\r\n  return graphData;\r\n}\r\n\r\nexport const DEFAULT_GRAPH_OPTIONS: Options = {\r\n  autoResize: true,\r\n  height: \"1200px\",\r\n  clickToUse: false,\r\n  edges: {\r\n    selectionWidth: 5,\r\n  },\r\n  layout: {\r\n    improvedLayout: true,\r\n    hierarchical: {\r\n      direction: \"UD\",\r\n      blockShifting: false,\r\n      edgeMinimization: false,\r\n      sortMethod: \"directed\",\r\n      shakeTowards: \"roots\",\r\n      nodeSpacing: 175,\r\n      //levelSeparation: 400,\r\n    },\r\n  },\r\n  interaction: {\r\n    multiselect: true,\r\n  },\r\n  nodes: {\r\n    color: {\r\n      highlight: {\r\n        border: \"#FF0000\",\r\n      },\r\n    },\r\n    size: 15,\r\n    font: {\r\n      size: 20,\r\n      color: \"#000000\",\r\n      face: \"sans-serif\",\r\n      background: \"#FFFFFF00\",\r\n      align: \"center\",\r\n      strokeColor: \"#00000000\",\r\n      strokeWidth: 0,\r\n      multi: \"html\",\r\n    },\r\n    shape: \"box\",\r\n  },\r\n  physics: false,\r\n};\r\n","import * as vscode from \"vscode\";\r\nimport { visualizationHtml } from \"./content\";\r\nimport { GraphData } from \"./graphData\";\r\n\r\ndeclare let __COMMIT_HASH__: string;\r\ndeclare let __PACKAGE_VERSION__: string;\r\n\r\nexport async function showTreeWindow(\r\n  title: string,\r\n  graphData: GraphData,\r\n  aboveGraphText: string[]\r\n): Promise<void> {\r\n  const panel = vscode.window.createWebviewPanel(\r\n    \"completion visualization\",\r\n    title,\r\n    vscode.ViewColumn.Two,\r\n    {\r\n      enableScripts: true,\r\n    }\r\n  );\r\n\r\n  aboveGraphText.unshift(\r\n    `Extension version: ${__PACKAGE_VERSION__} ${__COMMIT_HASH__}`\r\n  );\r\n\r\n  panel.webview.html = visualizationHtml(graphData, aboveGraphText);\r\n}\r\n","// Entry ring 1: It is safe to assume we are running inside of VSCode and have access to VSCode api, but\r\n// architecture is not assured; do not import any files which could result in a native dependency (onnxruntime)\r\n// being imported, or unsupported architectures will be unable to fail gracefully.\r\nimport { IExtension } from \"./extension\";\r\nimport { StubToastExtensionFactory } from \"./stubActivation\";\r\nimport * as vscode from \"vscode\";\r\nimport * as constants from \"../services/survey/index\";\r\nimport {\r\n  TelemetryEventNames,\r\n  TelemetryPropertyNames,\r\n} from \"../@types/telemetry\";\r\n\r\n/**\r\n * Lazily instantiated instance of the extension.\r\n */\r\nlet extension: undefined | IExtension = undefined;\r\n\r\nfunction activate(context: any) {\r\n  if (extension === undefined) {\r\n    // Conditions to test before we activate for real.\r\n\r\n    // If vscode is using an unsupported architecture, we should avoid activating since otherwise\r\n    // trying to load a missing native module will probably bring down the extension host.\r\n    if (process.arch !== \"x64\" && process.arch !== \"arm64\") {\r\n      extension = new StubToastExtensionFactory(\r\n        `IntelliCode Completions is not currently supported on architecture ${process.arch}. x64 and arm64 are supported.`,\r\n        constants.UNSUPPORTED_ARCH_NOTIFICATION_DO_NOT_SHOW_AGAIN,\r\n        TelemetryEventNames.UNSUPPORTED_ARCH,\r\n        {\r\n          [TelemetryPropertyNames.PROCESS_ARCH_PLATFORM]: `${process.arch} ${process.platform}`,\r\n        }\r\n      ).Extension;\r\n      return extension.activate(context);\r\n    }\r\n\r\n    // If copilot is present, we don't want to activate since our completions will conflict.\r\n    const copilotEnabled =\r\n      vscode.extensions.getExtension(\"github.copilot\") !== undefined;\r\n    if (copilotEnabled) {\r\n      extension = new StubToastExtensionFactory(\r\n        \"IntelliCode will not show completions because Copilot is enabled.\",\r\n        constants.COPILOT_NOTIFICATION_DO_NOT_SHOW_AGAIN,\r\n        TelemetryEventNames.COPILOT_ENABLED\r\n      ).Extension; // returns stub activate\r\n      return extension.activate(context);\r\n    }\r\n\r\n    // importing vscodeExtensionEntry is delayed until this point. If we were to import it too soon on an unsupported\r\n    // architecture, the missing native onnxruntime module would cause activation to fail before we could handle that gracefully.\r\n    extension =\r\n      require(\"./extensionFactory\").defaultExtensionFactory(context).Extension;\r\n  }\r\n  return extension?.activate(context);\r\n}\r\n\r\nfunction deactivate() {\r\n  return extension?.deactivate();\r\n}\r\n\r\nexport { activate, deactivate };\r\n","import { MessagePort, parentPort } from \"worker_threads\";\r\nimport { ILoggingService, LogLevel } from \"../services/logging\";\r\nimport { LocalLineCompletionService } from \"../services/completion\";\r\nimport { CachingResultMessage, Message, ResponseMessage } from \"./messages\";\r\nimport { WorkerThreadCompletionResultCallback } from \"./remotedServices/completionResultCallback\";\r\nimport { WorkerThreadLoggingService } from \"./remotedServices/logging\";\r\nimport { WorkerThreadSettingsStorage } from \"./remotedServices/settings\";\r\nimport { WorkerThreadTelemetryService } from \"./remotedServices/telemetry\";\r\nimport Settings from \"../services/settings/settings\";\r\nimport { createLineCompletionServiceWithRetriesAsync } from \"../services/completion/localLineCompletionService\";\r\nimport { ICompletionResultCallback } from \"../resultCache/completionResultCallback\";\r\nimport { AwaitableMessageExchanger } from \"../utils/awaitableMessageExchanger\";\r\n\r\n/**\r\n * Persistent state needed in the inference worker thread.\r\n */\r\nclass InferenceWorker {\r\n  private responseCacheResultExchanger: AwaitableMessageExchanger<ResponseMessage, CachingResultMessage>;\r\n  private completionState: ICompletionResultCallback;\r\n\r\n  /**\r\n   *\r\n   * @param port Port which is used to communicate with the main extension host process\r\n   * @param logger Logging for this worker.\r\n   * @param lineCompletionService Line completion service to run within the worker.\r\n   * @param completionState Completion callback which the line completion service will call when it has predictions.\r\n   * @param settingCache Setting storage which requests settings from the main extension host, and caches the result.\r\n   */\r\n  constructor(\r\n    private port: MessagePort,\r\n    private logger: ILoggingService,\r\n    private lineCompletionService: LocalLineCompletionService,\r\n    private settingCache: WorkerThreadSettingsStorage\r\n  ) {\r\n    this.responseCacheResultExchanger = new AwaitableMessageExchanger<ResponseMessage, CachingResultMessage>(m => port.postMessage(m));\r\n    this.completionState = new WorkerThreadCompletionResultCallback(this.responseCacheResultExchanger);\r\n    port.on(\"message\", (message) => {\r\n      this.handleMessage(message);\r\n    });\r\n    port.once(\"close\", () => {\r\n      parentPort?.close();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Processes incoming messages and takes appropriate actions.\r\n   * @param msg Incoming message to process\r\n   */\r\n  private handleMessage(msg: Message) {\r\n    try {\r\n      switch (msg.kind) {\r\n        case \"RequestMessage\":\r\n          this.lineCompletionService.request(\r\n            msg.requestId,\r\n            msg.normalizedContext,\r\n            msg.lang,\r\n            this.completionState,\r\n            { isCancellationRequested: false }\r\n          );\r\n          break;\r\n        case \"SettingsResponseMessage\":\r\n          this.settingCache.handleUpdateResponse(msg);\r\n          break;\r\n        case \"CachingResultMessage\":\r\n          this.responseCacheResultExchanger.handleReceivedMessage(msg);\r\n          break;\r\n        default:\r\n          this.logger.write(\r\n            LogLevel.ERROR,\r\n            `Unhandleable message received by inference worker thread: ${JSON.stringify(msg)}`\r\n          );\r\n          break;\r\n      }\r\n    } catch (e) {\r\n      this.logger.write(\r\n        LogLevel.ERROR,\r\n        `Error while handling message: ${e} (message: ${JSON.stringify(msg)})`\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Entry point for the inference worker thread. Sets up listeners and returns.\r\n */\r\nasync function main() {\r\n  // Inside a worker thread.\r\n  if (parentPort === null) {\r\n    // this shouldn't happen...\r\n    console.log(\"no parent port available\");\r\n    return;\r\n  }\r\n\r\n  const logger = new WorkerThreadLoggingService(parentPort);\r\n  logger.write(LogLevel.INFO, \"Inference worker thread started.\");\r\n  try {\r\n    const settingCache = new WorkerThreadSettingsStorage(parentPort);\r\n    const telemetry = new WorkerThreadTelemetryService(parentPort);\r\n    const lineCompletionService =\r\n      await createLineCompletionServiceWithRetriesAsync(\r\n        new Settings(settingCache),\r\n        telemetry,\r\n        logger\r\n      );\r\n\r\n    new InferenceWorker(\r\n      <MessagePort>parentPort,\r\n      logger,\r\n      lineCompletionService,\r\n      settingCache\r\n    );\r\n  } catch (e) {\r\n    logger.write(LogLevel.FATAL, `Error initializing worker thread: ${e}`);\r\n  }\r\n}\r\n\r\nexport { main };\r\n","import { ICompletionResultCallback } from \"../../resultCache/completionResultCallback\";\r\nimport { AwaitableMessageExchanger } from \"../../utils/awaitableMessageExchanger\";\r\nimport { CachingResultMessage, ResponseMessage } from \"../messages\";\r\n\r\n/**\r\n * Remote shim which implements ICompletionResultCallback, sending the inference result\r\n * back to the extension which may then cache it.\r\n */\r\nexport class WorkerThreadCompletionResultCallback\r\n  implements ICompletionResultCallback\r\n{\r\n  constructor(private exchanger: AwaitableMessageExchanger<ResponseMessage, CachingResultMessage>) {}\r\n\r\n  async setLineCompletions(\r\n    requestId: number,\r\n    normContext: string,\r\n    completions: [number | number[], string[]][],\r\n    logConfidenceThreshold: number,\r\n    lengthPenalty: number\r\n  ): Promise<number> {\r\n    let msg: ResponseMessage = {\r\n      kind: \"ResponseMessage\",\r\n      requestId: requestId,\r\n      completions: completions,\r\n      logConfidenceThreshold: logConfidenceThreshold,\r\n      lengthPenalty: lengthPenalty,\r\n    };\r\n\r\n    const cacheResult = await this.exchanger.exchange(msg);\r\n    return cacheResult.numAccepted;\r\n  }\r\n}\r\n","import { MessagePort } from \"worker_threads\";\r\nimport { ILoggingService, LogLevel } from \"../../services/logging\";\r\nimport { LogMessage } from \"../messages\";\r\n\r\n/**\r\n * Remote shim which implements ILoggingService by sending messages to the extension\r\n * telling it what to log.\r\n */\r\nexport class WorkerThreadLoggingService implements ILoggingService {\r\n  constructor(private port: MessagePort) {}\r\n  write(logLevel: LogLevel, str: string): void {\r\n    const logMessage: LogMessage = {\r\n      kind: \"LogMessage\",\r\n      level: logLevel,\r\n      message: str,\r\n    };\r\n    this.port.postMessage(logMessage);\r\n  }\r\n}\r\n","import { MessagePort } from \"worker_threads\";\r\nimport { SettingsStorage } from \"../../services/settings/settings\";\r\nimport { SettingsRequestMessage, SettingsResponseMessage } from \"../messages\";\r\n\r\n/**\r\n * Remote shim which implements settings storage by asking the extension for\r\n * the current value of settings, and returning the default if it is not already known.\r\n */\r\nexport class WorkerThreadSettingsStorage implements SettingsStorage {\r\n  private cachedSettings: Map<string, any> = new Map<string, any>();\r\n\r\n  constructor(private port: MessagePort) {}\r\n  public get<T>(section: string, key: string, defaultValue: T): T {\r\n    // Try to get the setting from the cache\r\n    const cachedValue = this.cachedSettings.get(this.cacheKey(section, key));\r\n    if (cachedValue !== undefined) {\r\n      // We have a cached value, so just return it.\r\n      return cachedValue;\r\n    } else {\r\n      // If it's missing, request the updated value from the main process, and return default\r\n      this.requestUpdate(section, key, defaultValue);\r\n      return defaultValue;\r\n    }\r\n  }\r\n\r\n  public requestUpdate(section: string, key: string, defaultValue: any) {\r\n    const requestMessage: SettingsRequestMessage = {\r\n      kind: \"SettingsRequestMessage\",\r\n      section: section,\r\n      key: key,\r\n      default: defaultValue,\r\n    };\r\n    this.port.postMessage(requestMessage);\r\n  }\r\n\r\n  public handleUpdateResponse(response: SettingsResponseMessage) {\r\n    this.cachedSettings.set(\r\n      this.cacheKey(response.section, response.key),\r\n      response.value\r\n    );\r\n  }\r\n\r\n  private cacheKey(section: string, key: string): string {\r\n    return `${section}.${key}`;\r\n  }\r\n}\r\n","import { MessagePort } from \"worker_threads\";\r\nimport { ITelemetrySender } from \"../../services/telemetry/sender\";\r\nimport { TelemetryMessage } from \"../messages\";\r\n\r\n/**\r\n * Remote shim which implements ITelemetrySender by sending messages\r\n * to the extension host which will then send the telemetry.\r\n */\r\nexport class WorkerThreadTelemetryService implements ITelemetrySender {\r\n  constructor(private port: MessagePort) {}\r\n  sendTelemetryEvent(\r\n    eventName: string,\r\n    properties?: { [key: string]: string },\r\n    measures?: { [key: string]: number }\r\n  ): void {\r\n    const telemetryMessage: TelemetryMessage = {\r\n      kind: \"TelemetryMessage\",\r\n      eventName: eventName,\r\n      properties: properties,\r\n      measures: measures,\r\n    };\r\n    this.port.postMessage(telemetryMessage);\r\n  }\r\n}\r\n","var Buffer = require('buffer').Buffer;\n\n// Backwards compatibility for node versions < 8\nif (Buffer.from === undefined) {\n  Buffer.from = function (a, b, c) {\n    return new Buffer(a, b, c)\n  };\n\n  Buffer.alloc = Buffer.from;\n}\n\nmodule.exports = Buffer;","var Promise = require('bluebird');\nvar Stream = require('stream');\nvar Buffer = require('./Buffer');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nmodule.exports = function(entry) {\n  return new Promise(function(resolve,reject) {\n    var chunks = [];\n    var bufferStream = Stream.Transform()\n      .on('finish',function() {\n        resolve(Buffer.concat(chunks));\n      })\n      .on('error',reject);\n        \n    bufferStream._transform = function(d,e,cb) {\n      chunks.push(d);\n      cb();\n    };\n    entry.on('error',reject)\n      .pipe(bufferStream);\n  });\n};\n","var bigInt = require('big-integer');\nvar Stream = require('stream');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nvar table;\n\nfunction generateTable() {\n  var poly = 0xEDB88320,c,n,k;\n  table = [];\n  for (n = 0; n < 256; n++) {\n    c = n;\n    for (k = 0; k < 8; k++)\n      c = (c & 1) ? poly ^ (c >>> 1) :  c = c >>> 1;\n    table[n] = c >>> 0;\n  }\n}\n\nfunction crc(ch,crc) {\n  if (!table)\n    generateTable();\n\n  if (ch.charCodeAt)\n    ch = ch.charCodeAt(0);        \n\n  return (bigInt(crc).shiftRight(8).and(0xffffff)).xor(table[bigInt(crc).xor(ch).and(0xff)]).value;\n}\n\nfunction Decrypt() {\n  if (!(this instanceof Decrypt))\n    return new Decrypt();\n\n  this.key0 = 305419896;\n  this.key1 = 591751049;\n  this.key2 = 878082192;\n}\n\nDecrypt.prototype.update = function(h) {            \n  this.key0 = crc(h,this.key0);\n  this.key1 = bigInt(this.key0).and(255).and(4294967295).add(this.key1)\n  this.key1 = bigInt(this.key1).multiply(134775813).add(1).and(4294967295).value;\n  this.key2 = crc(bigInt(this.key1).shiftRight(24).and(255), this.key2);\n}\n\n\nDecrypt.prototype.decryptByte = function(c) {\n  var k = bigInt(this.key2).or(2);\n  c = c ^ bigInt(k).multiply(bigInt(k^1)).shiftRight(8).and(255);\n  this.update(c);\n  return c;\n};\n\n Decrypt.prototype.stream = function() {\n  var stream = Stream.Transform(),\n      self = this;\n\n  stream._transform = function(d,e,cb) {\n    for (var i = 0; i<d.length;i++) {\n      d[i] = self.decryptByte(d[i]);\n    }\n    this.push(d);\n    cb();\n  };\n  return stream;\n};\n\n\n\n\nmodule.exports = Decrypt;","var Stream = require('stream');\nvar util = require('util');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nfunction NoopStream() {\n  if (!(this instanceof NoopStream)) {\n    return new NoopStream();\n  }\n  Stream.Transform.call(this);\n}\n\nutil.inherits(NoopStream,Stream.Transform);\n\nNoopStream.prototype._transform = function(d,e,cb) { cb() ;};\n  \nmodule.exports = NoopStream;","var binary = require('binary');\nvar PullStream = require('../PullStream');\nvar unzip = require('./unzip');\nvar Promise = require('bluebird');\nvar BufferStream = require('../BufferStream');\nvar parseExtraField = require('../parseExtraField');\nvar Buffer = require('../Buffer');\nvar path = require('path');\nvar Writer = require('fstream').Writer;\nvar parseDateTime = require('../parseDateTime');\n\nvar signature = Buffer.alloc(4);\nsignature.writeUInt32LE(0x06054b50,0);\n\nfunction getCrxHeader(source) {\n  var sourceStream = source.stream(0).pipe(PullStream());\n\n  return sourceStream.pull(4).then(function(data) {\n    var signature = data.readUInt32LE(0);\n    if (signature === 0x34327243) {\n      var crxHeader;\n      return sourceStream.pull(12).then(function(data) {\n        crxHeader = binary.parse(data)\n          .word32lu('version')\n          .word32lu('pubKeyLength')\n          .word32lu('signatureLength')\n          .vars;\n      }).then(function() {\n        return sourceStream.pull(crxHeader.pubKeyLength +crxHeader.signatureLength);\n      }).then(function(data) {\n        crxHeader.publicKey = data.slice(0,crxHeader.pubKeyLength);\n        crxHeader.signature = data.slice(crxHeader.pubKeyLength);\n        crxHeader.size = 16 + crxHeader.pubKeyLength +crxHeader.signatureLength;\n        return crxHeader;\n      });\n    }\n  });\n}\n\n// Zip64 File Format Notes: https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\nfunction getZip64CentralDirectory(source, zip64CDL) {\n  var d64loc = binary.parse(zip64CDL)\n    .word32lu('signature')\n    .word32lu('diskNumber')\n    .word64lu('offsetToStartOfCentralDirectory')\n    .word32lu('numberOfDisks')\n    .vars;\n\n  if (d64loc.signature != 0x07064b50) {\n    throw new Error('invalid zip64 end of central dir locator signature (0x07064b50): 0x' + d64loc.signature.toString(16));\n  }\n\n  var dir64 = PullStream();\n  source.stream(d64loc.offsetToStartOfCentralDirectory).pipe(dir64);\n\n  return dir64.pull(56)\n}\n\n// Zip64 File Format Notes: https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\nfunction parseZip64DirRecord (dir64record) {\n  var vars = binary.parse(dir64record)\n    .word32lu('signature')\n    .word64lu('sizeOfCentralDirectory')\n    .word16lu('version')\n    .word16lu('versionsNeededToExtract')\n    .word32lu('diskNumber')\n    .word32lu('diskStart')\n    .word64lu('numberOfRecordsOnDisk')\n    .word64lu('numberOfRecords')\n    .word64lu('sizeOfCentralDirectory')\n    .word64lu('offsetToStartOfCentralDirectory')\n    .vars;\n\n  if (vars.signature != 0x06064b50) {\n    throw new Error('invalid zip64 end of central dir locator signature (0x06064b50): 0x0' + vars.signature.toString(16));\n  }\n\n  return vars\n}\n\nmodule.exports = function centralDirectory(source, options) {\n  var endDir = PullStream(),\n      records = PullStream(),\n      tailSize = (options && options.tailSize) || 80,\n      sourceSize,\n      crxHeader,\n      startOffset,\n      vars;\n\n  if (options && options.crx)\n    crxHeader = getCrxHeader(source);\n\n  return source.size()\n    .then(function(size) {\n      sourceSize = size;\n\n      source.stream(Math.max(0,size-tailSize))\n        .on('error', function (error) { endDir.emit('error', error) })\n        .pipe(endDir);\n\n      return endDir.pull(signature);\n    })\n    .then(function() {\n      return Promise.props({directory: endDir.pull(22), crxHeader: crxHeader});\n    })\n    .then(function(d) {\n      var data = d.directory;\n      startOffset = d.crxHeader && d.crxHeader.size || 0;\n\n      vars = binary.parse(data)\n        .word32lu('signature')\n        .word16lu('diskNumber')\n        .word16lu('diskStart')\n        .word16lu('numberOfRecordsOnDisk')\n        .word16lu('numberOfRecords')\n        .word32lu('sizeOfCentralDirectory')\n        .word32lu('offsetToStartOfCentralDirectory')\n        .word16lu('commentLength')\n        .vars;\n\n      // Is this zip file using zip64 format? Use same check as Go:\n      // https://github.com/golang/go/blob/master/src/archive/zip/reader.go#L503\n      // For zip64 files, need to find zip64 central directory locator header to extract\n      // relative offset for zip64 central directory record.\n      if (vars.numberOfRecords == 0xffff|| vars.numberOfRecords == 0xffff ||\n        vars.offsetToStartOfCentralDirectory == 0xffffffff) {\n\n        // Offset to zip64 CDL is 20 bytes before normal CDR\n        const zip64CDLSize = 20\n        const zip64CDLOffset = sourceSize - (tailSize - endDir.match + zip64CDLSize)\n        const zip64CDLStream = PullStream();\n\n        source.stream(zip64CDLOffset).pipe(zip64CDLStream);\n\n        return zip64CDLStream.pull(zip64CDLSize)\n          .then(function (d) { return getZip64CentralDirectory(source, d) })\n          .then(function (dir64record) {\n            vars = parseZip64DirRecord(dir64record)\n          })\n      } else {\n        vars.offsetToStartOfCentralDirectory += startOffset;\n      }\n    })\n    .then(function() {\n      source.stream(vars.offsetToStartOfCentralDirectory).pipe(records);\n\n      vars.extract = function(opts) {\n        if (!opts || !opts.path) throw new Error('PATH_MISSING');\n        return vars.files.then(function(files) {\n          return Promise.map(files, function(entry) {\n            if (entry.type == 'Directory') return;\n\n            // to avoid zip slip (writing outside of the destination), we resolve\n            // the target path, and make sure it's nested in the intended\n            // destination, or not extract it otherwise.\n            var extractPath = path.join(opts.path, entry.path);\n            if (extractPath.indexOf(opts.path) != 0) {\n              return;\n            }\n            var writer = opts.getWriter ? opts.getWriter({path: extractPath}) :  Writer({ path: extractPath });\n\n            return new Promise(function(resolve, reject) {\n              entry.stream(opts.password)\n                .on('error',reject)\n                .pipe(writer)\n                .on('close',resolve)\n                .on('error',reject);\n            });\n          }, opts.concurrency > 1 ? {concurrency: opts.concurrency || undefined} : undefined);\n        });\n      };\n\n      vars.files = Promise.mapSeries(Array(vars.numberOfRecords),function() {\n        return records.pull(46).then(function(data) {    \n          var vars = binary.parse(data)\n            .word32lu('signature')\n            .word16lu('versionMadeBy')\n            .word16lu('versionsNeededToExtract')\n            .word16lu('flags')\n            .word16lu('compressionMethod')\n            .word16lu('lastModifiedTime')\n            .word16lu('lastModifiedDate')\n            .word32lu('crc32')\n            .word32lu('compressedSize')\n            .word32lu('uncompressedSize')\n            .word16lu('fileNameLength')\n            .word16lu('extraFieldLength')\n            .word16lu('fileCommentLength')\n            .word16lu('diskNumber')\n            .word16lu('internalFileAttributes')\n            .word32lu('externalFileAttributes')\n            .word32lu('offsetToLocalFileHeader')\n            .vars;\n\n        vars.offsetToLocalFileHeader += startOffset;\n        vars.lastModifiedDateTime = parseDateTime(vars.lastModifiedDate, vars.lastModifiedTime);\n\n        return records.pull(vars.fileNameLength).then(function(fileNameBuffer) {\n          vars.pathBuffer = fileNameBuffer;\n          vars.path = fileNameBuffer.toString('utf8');\n          vars.isUnicode = vars.flags & 0x11;\n          return records.pull(vars.extraFieldLength);\n        })\n        .then(function(extraField) {\n          vars.extra = parseExtraField(extraField, vars);\n          return records.pull(vars.fileCommentLength);\n        })\n        .then(function(comment) {\n          vars.comment = comment;\n          vars.type = (vars.uncompressedSize === 0 && /[\\/\\\\]$/.test(vars.path)) ? 'Directory' : 'File';\n          vars.stream = function(_password) {\n            return unzip(source, vars.offsetToLocalFileHeader,_password, vars);\n          };\n          vars.buffer = function(_password) {\n            return BufferStream(vars.stream(_password));\n          };\n          return vars;\n        });\n      });\n    });\n\n    return Promise.props(vars);\n  });\n};\n","var fs = require('graceful-fs');\nvar Promise = require('bluebird');\nvar directory = require('./directory');\nvar Stream = require('stream');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nmodule.exports = {\n  buffer: function(buffer, options) {\n    var source = {\n      stream: function(offset, length) {\n        var stream = Stream.PassThrough();\n        stream.end(buffer.slice(offset, length));\n        return stream;\n      },\n      size: function() {\n        return Promise.resolve(buffer.length);\n      }\n    };\n    return directory(source, options);\n  },\n  file: function(filename, options) {\n    var source = {\n      stream: function(offset,length) {\n        return fs.createReadStream(filename,{start: offset, end: length && offset+length});\n      },\n      size: function() {\n        return new Promise(function(resolve,reject) {\n          fs.stat(filename,function(err,d) {\n            if (err)\n              reject(err);\n            else\n              resolve(d.size);\n          });\n        });\n      }\n    };\n    return directory(source, options);\n  },\n\n  url: function(request, params, options) {\n    if (typeof params === 'string')\n      params = {url: params};\n    if (!params.url)\n      throw 'URL missing';\n    params.headers = params.headers || {};\n\n    var source = {\n      stream : function(offset,length) {\n        var options = Object.create(params);\n        options.headers = Object.create(params.headers);\n        options.headers.range = 'bytes='+offset+'-' + (length ? length : '');\n        return request(options);\n      },\n      size: function() {\n        return new Promise(function(resolve,reject) {\n          var req = request(params);\n          req.on('response',function(d) {\n            req.abort();\n            if (!d.headers['content-length'])\n              reject(new Error('Missing content length header'));\n            else\n              resolve(d.headers['content-length']);\n          }).on('error',reject);\n        });\n      }\n    };\n\n    return directory(source, options);\n  },\n\n  s3 : function(client,params, options) {\n    var source = {\n      size: function() {\n        return new Promise(function(resolve,reject) {\n          client.headObject(params, function(err,d) {\n            if (err)\n              reject(err);\n            else\n              resolve(d.ContentLength);\n          });\n        });\n      },\n      stream: function(offset,length) {\n        var d = {};\n        for (var key in params)\n          d[key] = params[key];\n        d.Range = 'bytes='+offset+'-' + (length ? length : '');\n        return client.getObject(d).createReadStream();\n      }\n    };\n\n    return directory(source, options);\n  }\n};\n","var Promise = require('bluebird');\nvar Decrypt = require('../Decrypt');\nvar PullStream = require('../PullStream');\nvar Stream = require('stream');\nvar binary = require('binary');\nvar zlib = require('zlib');\nvar parseExtraField = require('../parseExtraField');\nvar Buffer = require('../Buffer');\nvar parseDateTime = require('../parseDateTime');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nmodule.exports = function unzip(source,offset,_password, directoryVars) {\n  var file = PullStream(),\n      entry = Stream.PassThrough();\n\n  var req = source.stream(offset);\n  req.pipe(file).on('error', function(e) {\n    entry.emit('error', e);\n  });\n\n  entry.vars = file.pull(30)\n    .then(function(data) {\n      var vars = binary.parse(data)\n        .word32lu('signature')\n        .word16lu('versionsNeededToExtract')\n        .word16lu('flags')\n        .word16lu('compressionMethod')\n        .word16lu('lastModifiedTime')\n        .word16lu('lastModifiedDate')\n        .word32lu('crc32')\n        .word32lu('compressedSize')\n        .word32lu('uncompressedSize')\n        .word16lu('fileNameLength')\n        .word16lu('extraFieldLength')\n        .vars;\n\n      vars.lastModifiedDateTime = parseDateTime(vars.lastModifiedDate, vars.lastModifiedTime);\n\n      return file.pull(vars.fileNameLength)\n        .then(function(fileName) {\n          vars.fileName = fileName.toString('utf8');\n          return file.pull(vars.extraFieldLength);\n        })\n        .then(function(extraField) {\n          var checkEncryption;\n          vars.extra = parseExtraField(extraField, vars);\n          // Ignore logal file header vars if the directory vars are available\n          if (directoryVars && directoryVars.compressedSize) vars = directoryVars;\n\n          if (vars.flags & 0x01) checkEncryption = file.pull(12)\n            .then(function(header) {\n              if (!_password)\n                throw new Error('MISSING_PASSWORD');\n\n              var decrypt = Decrypt();\n\n              String(_password).split('').forEach(function(d) {\n                decrypt.update(d);\n              });\n\n              for (var i=0; i < header.length; i++)\n                header[i] = decrypt.decryptByte(header[i]);\n\n              vars.decrypt = decrypt;\n              vars.compressedSize -= 12;\n\n              var check = (vars.flags & 0x8) ? (vars.lastModifiedTime >> 8) & 0xff : (vars.crc32 >> 24) & 0xff;\n              if (header[11] !== check)\n                throw new Error('BAD_PASSWORD');\n\n              return vars;\n            });\n\n          return Promise.resolve(checkEncryption)\n            .then(function() {\n              entry.emit('vars',vars);\n              return vars;\n            });\n        });\n    });\n\n    entry.vars.then(function(vars) {\n      var fileSizeKnown = !(vars.flags & 0x08) || vars.compressedSize > 0,\n          eof;\n\n      var inflater = vars.compressionMethod ? zlib.createInflateRaw() : Stream.PassThrough();\n\n      if (fileSizeKnown) {\n        entry.size = vars.uncompressedSize;\n        eof = vars.compressedSize;\n      } else {\n        eof = Buffer.alloc(4);\n        eof.writeUInt32LE(0x08074b50, 0);\n      }\n\n      var stream = file.stream(eof);\n\n      if (vars.decrypt)\n        stream = stream.pipe(vars.decrypt.stream());\n\n      stream\n        .pipe(inflater)\n        .on('error',function(err) { entry.emit('error',err);})\n        .pipe(entry)\n        .on('finish', function() {\n          if (req.abort)\n            req.abort();\n          else if (req.close)\n            req.close();\n          else if (req.push)\n            req.push();\n          else\n            console.log('warning - unable to close stream');\n        });\n    })\n    .catch(function(e) {\n      entry.emit('error',e);\n    });\n\n  return entry;\n};\n","var Stream = require('stream');\nvar Promise = require('bluebird');\nvar util = require('util');\nvar Buffer = require('./Buffer');\nvar strFunction = 'function';\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nfunction PullStream() {\n  if (!(this instanceof PullStream))\n    return new PullStream();\n\n  Stream.Duplex.call(this,{decodeStrings:false, objectMode:true});\n  this.buffer = Buffer.from('');\n  var self = this;\n  self.on('finish',function() {\n    self.finished = true;\n    self.emit('chunk',false);\n  });\n}\n\nutil.inherits(PullStream,Stream.Duplex);\n\nPullStream.prototype._write = function(chunk,e,cb) {\n  this.buffer = Buffer.concat([this.buffer,chunk]);\n  this.cb = cb;\n  this.emit('chunk');\n};\n\n\n// The `eof` parameter is interpreted as `file_length` if the type is number\n// otherwise (i.e. buffer) it is interpreted as a pattern signaling end of stream\nPullStream.prototype.stream = function(eof,includeEof) {\n  var p = Stream.PassThrough();\n  var done,self= this;\n\n  function cb() {\n    if (typeof self.cb === strFunction) {\n      var callback = self.cb;\n      self.cb = undefined;\n      return callback();\n    }\n  }\n\n  function pull() {\n    var packet;\n    if (self.buffer && self.buffer.length) {\n      if (typeof eof === 'number') {\n        packet = self.buffer.slice(0,eof);\n        self.buffer = self.buffer.slice(eof);\n        eof -= packet.length;\n        done = !eof;\n      } else {\n        var match = self.buffer.indexOf(eof);\n        if (match !== -1) {\n          // store signature match byte offset to allow us to reference\n          // this for zip64 offset\n          self.match = match\n          if (includeEof) match = match + eof.length;\n          packet = self.buffer.slice(0,match);\n          self.buffer = self.buffer.slice(match);\n          done = true;\n        } else {\n          var len = self.buffer.length - eof.length;\n          if (len <= 0) {\n            cb();\n          } else {\n            packet = self.buffer.slice(0,len);\n            self.buffer = self.buffer.slice(len);\n          }\n        }\n      }\n      if (packet) p.write(packet,function() {\n        if (self.buffer.length === 0 || (eof.length && self.buffer.length <= eof.length)) cb();\n      });\n    }\n    \n    if (!done) {\n      if (self.finished && !this.__ended) {\n        self.removeListener('chunk',pull);\n        self.emit('error', new Error('FILE_ENDED'));\n        this.__ended = true;\n        return;\n      }\n      \n    } else {\n      self.removeListener('chunk',pull);\n      p.end();\n    }\n  }\n\n  self.on('chunk',pull);\n  pull();\n  return p;\n};\n\nPullStream.prototype.pull = function(eof,includeEof) {\n  if (eof === 0) return Promise.resolve('');\n\n  // If we already have the required data in buffer\n  // we can resolve the request immediately\n  if (!isNaN(eof) && this.buffer.length > eof) {\n    var data = this.buffer.slice(0,eof);\n    this.buffer = this.buffer.slice(eof);\n    return Promise.resolve(data);\n  }\n\n  // Otherwise we stream until we have it\n  var buffer = Buffer.from(''),\n      self = this;\n\n  var concatStream = Stream.Transform();\n  concatStream._transform = function(d,e,cb) {\n    buffer = Buffer.concat([buffer,d]);\n    cb();\n  };\n  \n  var rejectHandler;\n  var pullStreamRejectHandler;\n  return new Promise(function(resolve,reject) {\n    rejectHandler = reject;\n    pullStreamRejectHandler = function(e) {\n      self.__emittedError = e;\n      reject(e);\n    }\n    if (self.finished)\n      return reject(new Error('FILE_ENDED'));\n    self.once('error',pullStreamRejectHandler);  // reject any errors from pullstream itself\n    self.stream(eof,includeEof)\n      .on('error',reject)\n      .pipe(concatStream)\n      .on('finish',function() {resolve(buffer);})\n      .on('error',reject);\n  })\n  .finally(function() {\n    self.removeListener('error',rejectHandler);\n    self.removeListener('error',pullStreamRejectHandler);\n  });\n};\n\nPullStream.prototype._read = function(){};\n\nmodule.exports = PullStream;\n","module.exports = Extract;\n\nvar Parse = require('./parse');\nvar Writer = require('fstream').Writer;\nvar path = require('path');\nvar stream = require('stream');\nvar duplexer2 = require('duplexer2');\nvar Promise = require('bluebird');\n\nfunction Extract (opts) {\n  // make sure path is normalized before using it\n  opts.path = path.resolve(path.normalize(opts.path));\n\n  var parser = new Parse(opts);\n\n  var outStream = new stream.Writable({objectMode: true});\n  outStream._write = function(entry, encoding, cb) {\n\n    if (entry.type == 'Directory') return cb();\n\n    // to avoid zip slip (writing outside of the destination), we resolve\n    // the target path, and make sure it's nested in the intended\n    // destination, or not extract it otherwise.\n    var extractPath = path.join(opts.path, entry.path);\n    if (extractPath.indexOf(opts.path) != 0) {\n      return cb();\n    }\n\n    const writer = opts.getWriter ? opts.getWriter({path: extractPath}) :  Writer({ path: extractPath });\n\n    entry.pipe(writer)\n      .on('error', cb)\n      .on('close', cb);\n  };\n\n  var extract = duplexer2(parser,outStream);\n  parser.once('crx-header', function(crxHeader) {\n    extract.crxHeader = crxHeader;\n  });\n\n  parser\n    .pipe(outStream)\n    .on('finish',function() {\n      extract.emit('close');\n    });\n  \n  extract.promise = function() {\n    return new Promise(function(resolve, reject) {\n      extract.on('close', resolve);\n      extract.on('error',reject);\n    });\n  };\n\n  return extract;\n}\n","var util = require('util');\nvar zlib = require('zlib');\nvar Stream = require('stream');\nvar binary = require('binary');\nvar Promise = require('bluebird');\nvar PullStream = require('./PullStream');\nvar NoopStream = require('./NoopStream');\nvar BufferStream = require('./BufferStream');\nvar parseExtraField = require('./parseExtraField');\nvar Buffer = require('./Buffer');\nvar parseDateTime = require('./parseDateTime');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nvar endDirectorySignature = Buffer.alloc(4);\nendDirectorySignature.writeUInt32LE(0x06054b50, 0);\n\nfunction Parse(opts) {\n  if (!(this instanceof Parse)) {\n    return new Parse(opts);\n  }\n  var self = this;\n  self._opts = opts || { verbose: false };\n\n  PullStream.call(self, self._opts);\n  self.on('finish',function() {\n    self.emit('close');\n  });\n  self._readRecord().catch(function(e) {\n    if (!self.__emittedError || self.__emittedError !== e)\n      self.emit('error',e);\n  });\n}\n\nutil.inherits(Parse, PullStream);\n\nParse.prototype._readRecord = function () {\n  var self = this;\n  return self.pull(4).then(function(data) {\n    if (data.length === 0)\n      return;\n\n    var signature = data.readUInt32LE(0);\n\n    if (signature === 0x34327243) {\n      return self._readCrxHeader();\n    }\n    if (signature === 0x04034b50) {\n      return self._readFile();\n    }\n    else if (signature === 0x02014b50) {\n      self.__ended = true;\n      return self._readCentralDirectoryFileHeader();\n    }\n    else if (signature === 0x06054b50) {\n      return self._readEndOfCentralDirectoryRecord();\n    }\n    else if (self.__ended) {\n      return self.pull(endDirectorySignature).then(function() {\n          return self._readEndOfCentralDirectoryRecord();\n        });\n    }\n    else\n      self.emit('error', new Error('invalid signature: 0x' + signature.toString(16)));\n  });\n};\n\nParse.prototype._readCrxHeader = function() {\n  var self = this;\n  return self.pull(12).then(function(data) {\n    self.crxHeader = binary.parse(data)\n      .word32lu('version')\n      .word32lu('pubKeyLength')\n      .word32lu('signatureLength')\n      .vars;\n    return self.pull(self.crxHeader.pubKeyLength + self.crxHeader.signatureLength);\n  }).then(function(data) {\n    self.crxHeader.publicKey = data.slice(0,self.crxHeader.pubKeyLength);\n    self.crxHeader.signature = data.slice(self.crxHeader.pubKeyLength);\n    self.emit('crx-header',self.crxHeader);\n    return self._readRecord();\n  });\n};\n\nParse.prototype._readFile = function () {\n  var self = this;\n  return self.pull(26).then(function(data) {\n    var vars = binary.parse(data)\n      .word16lu('versionsNeededToExtract')\n      .word16lu('flags')\n      .word16lu('compressionMethod')\n      .word16lu('lastModifiedTime')\n      .word16lu('lastModifiedDate')\n      .word32lu('crc32')\n      .word32lu('compressedSize')\n      .word32lu('uncompressedSize')\n      .word16lu('fileNameLength')\n      .word16lu('extraFieldLength')\n      .vars;\n\n    vars.lastModifiedDateTime = parseDateTime(vars.lastModifiedDate, vars.lastModifiedTime);\n\n    if (self.crxHeader) vars.crxHeader = self.crxHeader;\n\n    return self.pull(vars.fileNameLength).then(function(fileNameBuffer) {\n      var fileName = fileNameBuffer.toString('utf8');\n      var entry = Stream.PassThrough();\n      var __autodraining = false;\n\n      entry.autodrain = function() {\n        __autodraining = true;\n        var draining = entry.pipe(NoopStream());\n        draining.promise = function() {\n          return new Promise(function(resolve, reject) {\n            draining.on('finish',resolve);\n            draining.on('error',reject);\n          });\n        };\n        return draining;\n      };\n\n      entry.buffer = function() {\n        return BufferStream(entry);\n      };\n\n      entry.path = fileName;\n      entry.props = {};\n      entry.props.path = fileName;\n      entry.props.pathBuffer = fileNameBuffer;\n      entry.props.flags = {\n        \"isUnicode\": vars.flags & 0x11\n      };\n      entry.type = (vars.uncompressedSize === 0 && /[\\/\\\\]$/.test(fileName)) ? 'Directory' : 'File';\n\n      if (self._opts.verbose) {\n        if (entry.type === 'Directory') {\n          console.log('   creating:', fileName);\n        } else if (entry.type === 'File') {\n          if (vars.compressionMethod === 0) {\n            console.log(' extracting:', fileName);\n          } else {\n            console.log('  inflating:', fileName);\n          }\n        }\n      }\n\n      return self.pull(vars.extraFieldLength).then(function(extraField) {\n        var extra = parseExtraField(extraField, vars);\n\n        entry.vars = vars;\n        entry.extra = extra;\n\n        if (self._opts.forceStream) {\n          self.push(entry);\n        } else {\n          self.emit('entry', entry);\n\n          if (self._readableState.pipesCount || (self._readableState.pipes && self._readableState.pipes.length))\n            self.push(entry);\n        }\n\n        if (self._opts.verbose)\n          console.log({\n            filename:fileName,\n            vars: vars,\n            extra: extra\n          });\n\n        var fileSizeKnown = !(vars.flags & 0x08) || vars.compressedSize > 0,\n            eof;\n\n        entry.__autodraining = __autodraining;  // expose __autodraining for test purposes\n        var inflater = (vars.compressionMethod && !__autodraining) ? zlib.createInflateRaw() : Stream.PassThrough();\n\n        if (fileSizeKnown) {\n          entry.size = vars.uncompressedSize;\n          eof = vars.compressedSize;\n        } else {\n          eof = Buffer.alloc(4);\n          eof.writeUInt32LE(0x08074b50, 0);\n        }\n\n        return new Promise(function(resolve, reject) {\n          self.stream(eof)\n            .pipe(inflater)\n            .on('error',function(err) { self.emit('error',err);})\n            .pipe(entry)\n            .on('finish', function() {\n              return fileSizeKnown ?\n                self._readRecord().then(resolve).catch(reject) :\n                self._processDataDescriptor(entry).then(resolve).catch(reject);\n            });\n        });\n      });\n    });\n  });\n};\n\nParse.prototype._processDataDescriptor = function (entry) {\n  var self = this;\n  return self.pull(16).then(function(data) {\n    var vars = binary.parse(data)\n      .word32lu('dataDescriptorSignature')\n      .word32lu('crc32')\n      .word32lu('compressedSize')\n      .word32lu('uncompressedSize')\n      .vars;\n\n    entry.size = vars.uncompressedSize;\n    return self._readRecord();\n  });\n};\n\nParse.prototype._readCentralDirectoryFileHeader = function () {\n  var self = this;\n  return self.pull(42).then(function(data) {\n\n    var vars = binary.parse(data)\n      .word16lu('versionMadeBy')\n      .word16lu('versionsNeededToExtract')\n      .word16lu('flags')\n      .word16lu('compressionMethod')\n      .word16lu('lastModifiedTime')\n      .word16lu('lastModifiedDate')\n      .word32lu('crc32')\n      .word32lu('compressedSize')\n      .word32lu('uncompressedSize')\n      .word16lu('fileNameLength')\n      .word16lu('extraFieldLength')\n      .word16lu('fileCommentLength')\n      .word16lu('diskNumber')\n      .word16lu('internalFileAttributes')\n      .word32lu('externalFileAttributes')\n      .word32lu('offsetToLocalFileHeader')\n      .vars;\n\n    return self.pull(vars.fileNameLength).then(function(fileName) {\n      vars.fileName = fileName.toString('utf8');\n      return self.pull(vars.extraFieldLength);\n    })\n    .then(function(extraField) {\n      return self.pull(vars.fileCommentLength);\n    })\n    .then(function(fileComment) {\n      return self._readRecord();\n    });\n  });\n};\n\nParse.prototype._readEndOfCentralDirectoryRecord = function() {\n  var self = this;\n  return self.pull(18).then(function(data) {\n\n    var vars = binary.parse(data)\n      .word16lu('diskNumber')\n      .word16lu('diskStart')\n      .word16lu('numberOfRecordsOnDisk')\n      .word16lu('numberOfRecords')\n      .word32lu('sizeOfCentralDirectory')\n      .word32lu('offsetToStartOfCentralDirectory')\n      .word16lu('commentLength')\n      .vars;\n\n    return self.pull(vars.commentLength).then(function(comment) {\n      comment = comment.toString('utf8');\n      self.end();\n      self.push(null);\n    });\n\n  });\n};\n\nParse.prototype.promise = function() {\n  var self = this;\n  return new Promise(function(resolve,reject) {\n    self.on('finish',resolve);\n    self.on('error',reject);\n  });\n};\n\nmodule.exports = Parse;\n","// Dates in zip file entries are stored as DosDateTime\n// Spec is here: https://docs.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-dosdatetimetofiletime\n\nmodule.exports = function parseDateTime(date, time) {\n  const day = date & 0x1F;\n  const month = date >> 5 & 0x0F;\n  const year = (date >> 9 & 0x7F) + 1980;\n  const seconds = time ? (time & 0x1F) * 2 : 0;\n  const minutes = time ? (time >> 5) & 0x3F : 0;\n  const hours = time ? (time >> 11): 0;\n\n  return new Date(Date.UTC(year, month-1, day, hours, minutes, seconds));\n};","var binary = require('binary');\n\nmodule.exports = function(extraField, vars) {\n  var extra;\n  // Find the ZIP64 header, if present.\n  while(!extra && extraField && extraField.length) {\n    var candidateExtra = binary.parse(extraField)\n      .word16lu('signature')\n      .word16lu('partsize')\n      .word64lu('uncompressedSize')\n      .word64lu('compressedSize')\n      .word64lu('offset')\n      .word64lu('disknum')\n      .vars;\n\n    if(candidateExtra.signature === 0x0001) {\n      extra = candidateExtra;\n    } else {\n      // Advance the buffer to the next part.\n      // The total size of this part is the 4 byte header + partsize.\n      extraField = extraField.slice(candidateExtra.partsize + 4);\n    }\n  }\n\n  extra = extra || {};\n\n  if (vars.compressedSize === 0xffffffff)\n    vars.compressedSize = extra.compressedSize;\n\n  if (vars.uncompressedSize  === 0xffffffff)\n    vars.uncompressedSize= extra.uncompressedSize;\n\n  if (vars.offsetToLocalFileHeader === 0xffffffff)\n    vars.offsetToLocalFileHeader= extra.offset;\n\n  return extra;\n};\n","var Stream = require('stream');\nvar Parse = require('./parse');\nvar duplexer2 = require('duplexer2');\nvar BufferStream = require('./BufferStream');\n\n// Backwards compatibility for node versions < 8\nif (!Stream.Writable || !Stream.Writable.prototype.destroy)\n  Stream = require('readable-stream');\n\nfunction parseOne(match,opts) {\n  var inStream = Stream.PassThrough({objectMode:true});\n  var outStream = Stream.PassThrough();\n  var transform = Stream.Transform({objectMode:true});\n  var re = match instanceof RegExp ? match : (match && new RegExp(match));\n  var found;\n\n  transform._transform = function(entry,e,cb) {\n    if (found || (re && !re.exec(entry.path))) {\n      entry.autodrain();\n      return cb();\n    } else {\n      found = true;\n      out.emit('entry',entry);\n      entry.on('error',function(e) {\n        outStream.emit('error',e);\n      });\n      entry.pipe(outStream)\n        .on('error',function(err) {\n          cb(err);\n        })\n        .on('finish',function(d) {\n          cb(null,d);\n        });\n    }\n  };\n\n  inStream.pipe(Parse(opts))\n    .on('error',function(err) {\n      outStream.emit('error',err);\n    })\n    .pipe(transform)\n    .on('error',Object)  // Silence error as its already addressed in transform\n    .on('finish',function() {\n      if (!found)\n        outStream.emit('error',new Error('PATTERN_NOT_FOUND'));\n      else\n        outStream.end();\n    });\n\n  var out = duplexer2(inStream,outStream);\n  out.buffer = function() {\n    return BufferStream(outStream);\n  };\n\n  return out;\n}\n\nmodule.exports = parseOne;\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n","\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = require(\"./schedule\");\nvar Queue = require(\"./queue\");\nvar util = require(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n","\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = require(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n","\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = require(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!false) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];};\n    if (!false) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n","\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util\");\nvar getKeys = require(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n","\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = require(\"./errors\").Warning;\nvar util = require(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (false ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n","\"use strict\";\nvar es5 = require(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = require(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n","var isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise) {\nvar util = require(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nreturn PassThroughHandlerContext;\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = require(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = require(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", value) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = require(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!false) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!false) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i < $_len; ++$_i) {args[$_i] = arguments[$_i];};\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n","\"use strict\";\nvar util = require(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = require(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = require(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];};\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar util = require(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n","\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = require(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = require(\"./es5\");\nvar Async = require(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = require(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = require(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = require(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = require(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    require(\"./finally\")(Promise, tryConvertToPromise);\nvar catchFilter = require(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = require(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n    if (self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n}\n\nfunction Promise(executor) {\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    if (executor !== INTERNAL) {\n        check(this, executor);\n        this._resolveFromExecutor(executor);\n    }\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"expecting an object but got \" +\n                    \"A catch statement predicate \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\nrequire(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\nrequire(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\nrequire(\"./direct_resolve\")(Promise);\nrequire(\"./synchronous_inspection\")(Promise);\nrequire(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.4.7\";\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./call_get.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\nrequire('./timers.js')(Promise, INTERNAL, debug);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\nrequire('./nodeify.js')(Promise);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nrequire('./settle.js')(Promise, PromiseArray, debug);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./filter.js')(Promise, INTERNAL);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = require(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = require(\"./util\");\nvar nodebackForPromise = require(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = require(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!false) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n","\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n","\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n","\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n","\"use strict\";\nvar util = require(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n                toggleScheduled = true;\n                div2.classList.toggle(\"foo\");\n            };\n\n            return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n","\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = require(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = require(\"./util\");\nvar RangeError = require(\"./errors\").RangeError;\nvar AggregateError = require(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = require(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n","\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = require(\"./util\");\n    var TypeError = require(\"./errors\").TypeError;\n    var inherits = require(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n","\"use strict\";\nvar es5 = require(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n","'use strict';\n// Polyfills for node 0.8\nrequire('listenercount');\nrequire('buffer-indexof-polyfill');\nrequire('setimmediate');\n\n\nexports.Parse = require('./lib/parse');\nexports.ParseOne = require('./lib/parseOne');\nexports.Extract = require('./lib/extract');\nexports.Open = require('./lib/Open');","\n/**\n * For Node.js, simply re-export the core `util.deprecate` function.\n */\n\nmodule.exports = require('util').deprecate;\n","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  const uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import crypto from 'crypto';\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('md5').update(bytes).digest();\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;","import crypto from 'crypto';\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n\n  return crypto.createHash('sha1').update(bytes).digest();\n}\n\nexport default sha1;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.userOptIn = false;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\r\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: properties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        if (this.userOptIn && error && this.appInsightsClient) {\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: properties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.configListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectConsole = (function () {\r\n    function AutoCollectConsole(client) {\r\n        if (!!AutoCollectConsole.INSTANCE) {\r\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\r\n        }\r\n        this._client = client;\r\n        AutoCollectConsole.INSTANCE = this;\r\n    }\r\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\r\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectConsole.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectConsole.prototype.dispose = function () {\r\n        AutoCollectConsole.INSTANCE = null;\r\n        this.enable(false, false);\r\n    };\r\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\r\n    return AutoCollectConsole;\r\n}());\r\nmodule.exports = AutoCollectConsole;\r\n//# sourceMappingURL=Console.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logging = require(\"../Library/Logging\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar CorrelationContextManager = (function () {\r\n    function CorrelationContextManager() {\r\n    }\r\n    /**\r\n     *  Provides the current Context.\r\n     *  The context is the most recent one entered into for the current\r\n     *  logical chain of execution, including across asynchronous calls.\r\n     */\r\n    CorrelationContextManager.getCurrentContext = function () {\r\n        if (!CorrelationContextManager.enabled) {\r\n            return null;\r\n        }\r\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\r\n        if (context === undefined) {\r\n            return null;\r\n        }\r\n        return context;\r\n    };\r\n    /**\r\n     *  A helper to generate objects conforming to the CorrelationContext interface\r\n     */\r\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\r\n        parentId = parentId || operationId;\r\n        if (this.enabled) {\r\n            return {\r\n                operation: {\r\n                    name: operationName,\r\n                    id: operationId,\r\n                    parentId: parentId,\r\n                    traceparent: traceparent,\r\n                    tracestate: tracestate\r\n                },\r\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     *  Runs a function inside a given Context.\r\n     *  All logical children of the execution path that entered this Context\r\n     *  will receive this Context object on calls to GetCurrentContext.\r\n     */\r\n    CorrelationContextManager.runWithContext = function (context, fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\r\n        }\r\n        else {\r\n            return fn();\r\n        }\r\n        var _a;\r\n    };\r\n    /**\r\n     * Wrapper for cls-hooked bindEmitter method\r\n     */\r\n    CorrelationContextManager.wrapEmitter = function (emitter) {\r\n        if (CorrelationContextManager.enabled) {\r\n            CorrelationContextManager.session.bindEmitter(emitter);\r\n        }\r\n    };\r\n    /**\r\n     *  Patches a callback to restore the correct Context when getCurrentContext\r\n     *  is run within it. This is necessary if automatic correlation fails to work\r\n     *  with user-included libraries.\r\n     *\r\n     *  The supplied callback will be given the same context that was present for\r\n     *  the call to wrapCallback.  */\r\n    CorrelationContextManager.wrapCallback = function (fn) {\r\n        if (CorrelationContextManager.enabled) {\r\n            return CorrelationContextManager.session.bind(fn);\r\n        }\r\n        return fn;\r\n    };\r\n    /**\r\n     *  Enables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.enable = function (forceClsHooked) {\r\n        if (this.enabled) {\r\n            return;\r\n        }\r\n        if (!this.isNodeVersionCompatible()) {\r\n            this.enabled = false;\r\n            return;\r\n        }\r\n        if (!CorrelationContextManager.hasEverEnabled) {\r\n            this.forceClsHooked = forceClsHooked;\r\n            this.hasEverEnabled = true;\r\n            if (typeof this.cls === \"undefined\") {\r\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\r\n                    this.cls = require('cls-hooked');\r\n                }\r\n                else {\r\n                    this.cls = require('continuation-local-storage');\r\n                }\r\n            }\r\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\r\n            DiagChannel.registerContextPreservation(function (cb) {\r\n                return CorrelationContextManager.session.bind(cb);\r\n            });\r\n        }\r\n        this.enabled = true;\r\n    };\r\n    /**\r\n     *  Disables the CorrelationContextManager.\r\n     */\r\n    CorrelationContextManager.disable = function () {\r\n        this.enabled = false;\r\n    };\r\n    /**\r\n     * Reset the namespace\r\n     */\r\n    CorrelationContextManager.reset = function () {\r\n        if (CorrelationContextManager.hasEverEnabled) {\r\n            CorrelationContextManager.session = null;\r\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\r\n        }\r\n    };\r\n    /**\r\n     *  Reports if CorrelationContextManager is able to run in this environment\r\n     */\r\n    CorrelationContextManager.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\r\n    };\r\n    /**\r\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\r\n     * use async-listener (plain -cls)\r\n     */\r\n    CorrelationContextManager.shouldUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\r\n    };\r\n    /**\r\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\r\n     * @internal Used in tests only\r\n     */\r\n    CorrelationContextManager.canUseClsHooked = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\r\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\r\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\r\n        return !(greater800 && less820) && greater470;\r\n    };\r\n    CorrelationContextManager.enabled = false;\r\n    CorrelationContextManager.hasEverEnabled = false;\r\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\r\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\r\n    return CorrelationContextManager;\r\n}());\r\nexports.CorrelationContextManager = CorrelationContextManager;\r\nvar CustomPropertiesImpl = (function () {\r\n    function CustomPropertiesImpl(header) {\r\n        this.props = [];\r\n        this.addHeaderData(header);\r\n    }\r\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\r\n        var keyvals = header ? header.split(\", \") : [];\r\n        this.props = keyvals.map(function (keyval) {\r\n            var parts = keyval.split(\"=\");\r\n            return { key: parts[0], value: parts[1] };\r\n        }).concat(this.props);\r\n    };\r\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\r\n        return this.props.map(function (keyval) {\r\n            return keyval.key + \"=\" + keyval.value;\r\n        }).join(\", \");\r\n    };\r\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                return keyval.value;\r\n            }\r\n        }\r\n        return;\r\n    };\r\n    // TODO: Strictly according to the spec, properties which are recieved from\r\n    // an incoming request should be left untouched, while we may add our own new\r\n    // properties. The logic here will need to change to track that.\r\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\r\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\r\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.props.length; ++i) {\r\n            var keyval = this.props[i];\r\n            if (keyval.key === prop) {\r\n                keyval.value = val;\r\n                return;\r\n            }\r\n        }\r\n        this.props.push({ key: prop, value: val });\r\n    };\r\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\r\n    return CustomPropertiesImpl;\r\n}());\r\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\r\nvar AutoCollectExceptions = (function () {\r\n    function AutoCollectExceptions(client) {\r\n        if (!!AutoCollectExceptions.INSTANCE) {\r\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectExceptions.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    Object.defineProperty(AutoCollectExceptions, \"UNCAUGHT_EXCEPTION_HANDLER_NAME\", {\r\n        get: function () { return \"uncaughtException\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AutoCollectExceptions, \"UNHANDLED_REJECTION_HANDLER_NAME\", {\r\n        get: function () { return \"unhandledRejection\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AutoCollectExceptions.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\r\n        var _this = this;\r\n        if (isEnabled) {\r\n            this._isInitialized = true;\r\n            var self = this;\r\n            if (!this._exceptionListenerHandle) {\r\n                var handle = function (reThrow, error) {\r\n                    _this._client.trackException({ exception: error });\r\n                    _this._client.flush({ isAppCrashing: true });\r\n                    if (reThrow) {\r\n                        var THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION = error;\r\n                        throw THIS_IS_APPLICATION_INSIGHTS_RETHROWING_YOUR_EXCEPTION; // Error originated somewhere else in your app\r\n                    }\r\n                };\r\n                this._exceptionListenerHandle = handle.bind(this, true);\r\n                this._rejectionListenerHandle = handle.bind(this, false);\r\n                process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n            }\r\n        }\r\n        else {\r\n            if (this._exceptionListenerHandle) {\r\n                process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\r\n                process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\r\n                this._exceptionListenerHandle = undefined;\r\n                this._rejectionListenerHandle = undefined;\r\n                delete this._exceptionListenerHandle;\r\n                delete this._rejectionListenerHandle;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectExceptions.prototype.dispose = function () {\r\n        AutoCollectExceptions.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectExceptions.INSTANCE = null;\r\n    return AutoCollectExceptions;\r\n}());\r\nmodule.exports = AutoCollectExceptions;\r\n//# sourceMappingURL=Exceptions.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\r\nvar AutoCollectHttpDependencies = (function () {\r\n    function AutoCollectHttpDependencies(client) {\r\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\r\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpDependencies.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._initialize();\r\n        }\r\n        if (DiagChannel.IsInitialized) {\r\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\r\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpDependencies.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var originalGet = http.get;\r\n        var originalRequest = http.request;\r\n        var originalHttpsRequest = https.request;\r\n        var clientRequestPatch = function (request, options) {\r\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\r\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\r\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\r\n            if (request && options && shouldCollect) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\r\n            }\r\n        };\r\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\r\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\r\n        // Patch both and leave a flag to not double-count on versions that just call through\r\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\r\n        http.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        https.request = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\r\n            clientRequestPatch(request, options);\r\n            return request;\r\n        };\r\n        // Node 8 calls http.request from http.get using a local reference!\r\n        // We have to patch .get manually in this case and can't just assume request is enough\r\n        // We have to replace the entire method in this case. We can't call the original.\r\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\r\n        http.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n        https.get = function (options) {\r\n            var requestArgs = [];\r\n            for (var _i = 1; _i < arguments.length; _i++) {\r\n                requestArgs[_i - 1] = arguments[_i];\r\n            }\r\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\r\n            request.end();\r\n            return request;\r\n            var _a;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks an outgoing request. Because it may set headers this method must be called before\r\n     * writing content to or ending the request.\r\n     */\r\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\r\n        if (!telemetry.options || !telemetry.request || !client) {\r\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\r\n            return;\r\n        }\r\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\r\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var uniqueRequestId;\r\n        var uniqueTraceparent;\r\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\r\n            currentContext.operation.traceparent.updateSpanId();\r\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\r\n        }\r\n        else if (CorrelationIdManager.w3cEnabled) {\r\n            // Start an operation now so that we can include the w3c headers in the outgoing request\r\n            var traceparent = new Traceparent();\r\n            uniqueTraceparent = traceparent.toString();\r\n            uniqueRequestId = traceparent.getBackCompatRequestId();\r\n        }\r\n        else {\r\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\r\n        }\r\n        // Add the source correlationId to the request headers, if a value was not already provided.\r\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\r\n        // are not included in the v0.10 type declarations currently used. So check if the\r\n        // methods exist before invoking them.\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\r\n            if (client.config && client.config.correlationId) {\r\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\r\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\r\n                Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\r\n                if (currentContext && currentContext.operation) {\r\n                    try {\r\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\r\n                        // Also set legacy headers\r\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\r\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\r\n                        // Set W3C headers, if available\r\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\r\n                        }\r\n                        else if (CorrelationIdManager.w3cEnabled) {\r\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\r\n                            var traceparent = new Traceparent().toString();\r\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\r\n                        }\r\n                        if (currentContext.operation.tracestate) {\r\n                            var tracestate = currentContext.operation.tracestate.toString();\r\n                            if (tracestate) {\r\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\r\n                            }\r\n                        }\r\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\r\n                        if (correlationContextHeader) {\r\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Collect dependency telemetry about the request when it finishes.\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on('response', function (response) {\r\n                requestParser.onResponse(response);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n            telemetry.request.on('error', function (e) {\r\n                requestParser.onError(e);\r\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\r\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\r\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\r\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\r\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\r\n                client.trackDependency(dependencyTelemetry);\r\n            });\r\n        }\r\n    };\r\n    AutoCollectHttpDependencies.prototype.dispose = function () {\r\n        AutoCollectHttpDependencies.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\r\n    AutoCollectHttpDependencies.requestNumber = 1;\r\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpDependencies;\r\n}());\r\nmodule.exports = AutoCollectHttpDependencies;\r\n//# sourceMappingURL=HttpDependencies.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpDependencyParser = (function (_super) {\r\n    __extends(HttpDependencyParser, _super);\r\n    function HttpDependencyParser(requestOptions, request) {\r\n        var _this = _super.call(this) || this;\r\n        if (request && request.method && requestOptions) {\r\n            // The ClientRequest.method property isn't documented, but is always there.\r\n            _this.method = request.method;\r\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\r\n            _this.startTime = +new Date();\r\n        }\r\n        return _this;\r\n    }\r\n    /**\r\n     * Called when the ClientRequest emits an error event.\r\n     */\r\n    HttpDependencyParser.prototype.onError = function (error) {\r\n        this._setStatus(undefined, error);\r\n    };\r\n    /**\r\n     * Called when the ClientRequest emits a response event.\r\n     */\r\n    HttpDependencyParser.prototype.onResponse = function (response) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\r\n    };\r\n    /**\r\n     * Gets a dependency data contract object for a completed ClientRequest.\r\n     */\r\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\r\n        var urlObject = url.parse(this.url);\r\n        urlObject.search = undefined;\r\n        urlObject.hash = undefined;\r\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\r\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        var remoteDependencyTarget = urlObject.hostname;\r\n        if (this.correlationId) {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\r\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\r\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\r\n            }\r\n        }\r\n        else {\r\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\r\n        }\r\n        var dependencyTelemetry = {\r\n            id: dependencyId,\r\n            name: dependencyName,\r\n            data: this.url,\r\n            duration: this.duration,\r\n            success: this._isSuccess(),\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            properties: this.properties || {},\r\n            dependencyTypeName: remoteDependencyType,\r\n            target: remoteDependencyTarget\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!dependencyTelemetry[key]) {\r\n                    dependencyTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return dependencyTelemetry;\r\n    };\r\n    /**\r\n     * Builds a URL from request options, using the same logic as http.request(). This is\r\n     * necessary because a ClientRequest object does not expose a url property.\r\n     */\r\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\r\n        if (typeof options === 'string') {\r\n            options = url.parse(options);\r\n        }\r\n        else {\r\n            // Avoid modifying the original options object.\r\n            var originalOptions_1 = options;\r\n            options = {};\r\n            if (originalOptions_1) {\r\n                Object.keys(originalOptions_1).forEach(function (key) {\r\n                    options[key] = originalOptions_1[key];\r\n                });\r\n            }\r\n        }\r\n        // Oddly, url.format ignores path and only uses pathname and search,\r\n        // so create them from the path, if path was specified\r\n        if (options.path) {\r\n            var parsedQuery = url.parse(options.path);\r\n            options.pathname = parsedQuery.pathname;\r\n            options.search = parsedQuery.search;\r\n        }\r\n        // Simiarly, url.format ignores hostname and port if host is specified,\r\n        // even if host doesn't have the port, but http.request does not work\r\n        // this way. It will use the port if one is not specified in host,\r\n        // effectively treating host as hostname, but will use the port specified\r\n        // in host if it exists.\r\n        if (options.host && options.port) {\r\n            // Force a protocol so it will parse the host as the host, not path.\r\n            // It is discarded and not used, so it doesn't matter if it doesn't match\r\n            var parsedHost = url.parse(\"http://\" + options.host);\r\n            if (!parsedHost.port && options.port) {\r\n                options.hostname = options.host;\r\n                delete options.host;\r\n            }\r\n        }\r\n        // Mix in default values used by http.request and others\r\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\r\n        options.hostname = options.hostname || 'localhost';\r\n        return url.format(options);\r\n    };\r\n    return HttpDependencyParser;\r\n}(RequestParser));\r\nmodule.exports = HttpDependencyParser;\r\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar url = require(\"url\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar RequestParser = require(\"./RequestParser\");\r\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\r\nvar Tracestate = require(\"../Library/Tracestate\");\r\nvar Traceparent = require(\"../Library/Traceparent\");\r\n/**\r\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\r\n */\r\nvar HttpRequestParser = (function (_super) {\r\n    __extends(HttpRequestParser, _super);\r\n    function HttpRequestParser(request, requestId) {\r\n        var _this = _super.call(this) || this;\r\n        if (request) {\r\n            _this.method = request.method;\r\n            _this.url = _this._getAbsoluteUrl(request);\r\n            _this.startTime = +new Date();\r\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\r\n            _this.parseHeaders(request, requestId);\r\n            if (request.connection) {\r\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\r\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\r\n            }\r\n        }\r\n        return _this;\r\n    }\r\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\r\n        this._setStatus(undefined, error);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\r\n        this._setStatus(response.statusCode, undefined);\r\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\r\n        if (ellapsedMilliseconds) {\r\n            this.duration = ellapsedMilliseconds;\r\n        }\r\n    };\r\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\r\n        var requestTelemetry = {\r\n            id: this.requestId,\r\n            name: this.method + \" \" + url.parse(this.url).pathname,\r\n            url: this.url,\r\n            /*\r\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\r\n            for reference\r\n            */\r\n            source: this.sourceCorrelationId,\r\n            duration: this.duration,\r\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\r\n            success: this._isSuccess(),\r\n            properties: this.properties\r\n        };\r\n        // We should keep any parameters the user passed in\r\n        // Except the fields defined above in requestTelemetry, which take priority\r\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\r\n        if (baseTelemetry) {\r\n            // Copy missing fields\r\n            for (var key in baseTelemetry) {\r\n                if (!requestTelemetry[key]) {\r\n                    requestTelemetry[key] = baseTelemetry[key];\r\n                }\r\n            }\r\n            // Merge properties\r\n            if (baseTelemetry.properties) {\r\n                for (var key in baseTelemetry.properties) {\r\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\r\n                }\r\n            }\r\n        }\r\n        return requestTelemetry;\r\n    };\r\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\r\n        // create a copy of the context for requests since client info will be used here\r\n        var newTags = {};\r\n        for (var key in tags) {\r\n            newTags[key] = tags[key];\r\n        }\r\n        // don't override tags if they are already set\r\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\r\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\r\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\r\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\r\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\r\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\r\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\r\n        return newTags;\r\n    };\r\n    HttpRequestParser.prototype.getOperationId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\r\n    };\r\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\r\n    };\r\n    HttpRequestParser.prototype.getOperationName = function (tags) {\r\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\r\n    };\r\n    HttpRequestParser.prototype.getRequestId = function () {\r\n        return this.requestId;\r\n    };\r\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\r\n        return this.correlationContextHeader;\r\n    };\r\n    HttpRequestParser.prototype.getTraceparent = function () {\r\n        return this.traceparent;\r\n    };\r\n    HttpRequestParser.prototype.getTracestate = function () {\r\n        return this.tracestate;\r\n    };\r\n    HttpRequestParser.prototype.getLegacyRootId = function () {\r\n        return this.legacyRootId;\r\n    };\r\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\r\n        if (!request.headers) {\r\n            return request.url;\r\n        }\r\n        var encrypted = request.connection ? request.connection.encrypted : null;\r\n        var requestUrl = url.parse(request.url);\r\n        var pathName = requestUrl.pathname;\r\n        var search = requestUrl.search;\r\n        var absoluteUrl = url.format({\r\n            protocol: encrypted ? \"https\" : \"http\",\r\n            host: request.headers.host,\r\n            pathname: pathName,\r\n            search: search\r\n        });\r\n        return absoluteUrl;\r\n    };\r\n    HttpRequestParser.prototype._getIp = function () {\r\n        // regex to match ipv4 without port\r\n        // Note: including the port would cause the payload to be rejected by the data collector\r\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\r\n        var check = function (str) {\r\n            var results = ipMatch.exec(str);\r\n            if (results) {\r\n                return results[0];\r\n            }\r\n        };\r\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\r\n            || check(this.rawHeaders[\"x-client-ip\"])\r\n            || check(this.rawHeaders[\"x-real-ip\"])\r\n            || check(this.connectionRemoteAddress)\r\n            || check(this.socketRemoteAddress)\r\n            || check(this.legacySocketRemoteAddress);\r\n        // node v12 returns this if the address is \"localhost\"\r\n        if (!ip\r\n            && this.connectionRemoteAddress\r\n            && this.connectionRemoteAddress.substr\r\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\r\n            ip = \"127.0.0.1\";\r\n        }\r\n        return ip;\r\n    };\r\n    HttpRequestParser.prototype._getId = function (name) {\r\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\r\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\r\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\r\n        return value;\r\n    };\r\n    /**\r\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\r\n     */\r\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\r\n        // Set operationId\r\n        this.operationId = this.traceparent.traceId;\r\n        if (this.traceparent.legacyRootId) {\r\n            this.legacyRootId = this.traceparent.legacyRootId;\r\n        }\r\n        // Set parentId with existing spanId\r\n        this.parentId = this.traceparent.parentId;\r\n        // Update the spanId and set the current requestId\r\n        this.traceparent.updateSpanId();\r\n        this.requestId = this.traceparent.getBackCompatRequestId();\r\n    };\r\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\r\n        this.rawHeaders = request.headers || request.rawHeaders;\r\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\r\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\r\n        if (request.headers) {\r\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\r\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\r\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\r\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\r\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\r\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\r\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\r\n                // Parse W3C Trace Context headers\r\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\r\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\r\n                this.setBackCompatFromThisTraceContext();\r\n            }\r\n            else if (requestIdHeader) {\r\n                // Parse AI headers\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent(null, requestIdHeader);\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = requestIdHeader;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            else {\r\n                // Legacy fallback\r\n                if (CorrelationIdManager.w3cEnabled) {\r\n                    this.traceparent = new Traceparent();\r\n                    this.traceparent.parentId = legacy_parentId;\r\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\r\n                    this.setBackCompatFromThisTraceContext();\r\n                }\r\n                else {\r\n                    this.parentId = legacy_parentId;\r\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\r\n                    this.correlationContextHeader = null;\r\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n                }\r\n            }\r\n            if (requestId) {\r\n                // For the scenarios that don't guarantee an AI-created context,\r\n                // override the requestId with the provided one.\r\n                this.requestId = requestId;\r\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\r\n            }\r\n        }\r\n    };\r\n    HttpRequestParser.parseId = function (cookieValue) {\r\n        var cookieParts = cookieValue.split(\"|\");\r\n        if (cookieParts.length > 0) {\r\n            return cookieParts[0];\r\n        }\r\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\r\n    };\r\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\r\n    return HttpRequestParser;\r\n}(RequestParser));\r\nmodule.exports = HttpRequestParser;\r\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Util = require(\"../Library/Util\");\r\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\r\nvar HttpRequestParser = require(\"./HttpRequestParser\");\r\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\r\nvar AutoCollectPerformance = require(\"./Performance\");\r\nvar AutoCollectHttpRequests = (function () {\r\n    function AutoCollectHttpRequests(client) {\r\n        if (!!AutoCollectHttpRequests.INSTANCE) {\r\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\r\n        }\r\n        AutoCollectHttpRequests.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\r\n        this._isEnabled = isEnabled;\r\n        // Autocorrelation requires automatic monitoring of incoming server requests\r\n        // Disabling autocollection but enabling autocorrelation will still enable\r\n        // request monitoring but will not produce request events\r\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\r\n            this.useAutoCorrelation(this._isAutoCorrelating);\r\n            this._initialize();\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\r\n        if (isEnabled && !this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\r\n        }\r\n        else if (!isEnabled && this._isAutoCorrelating) {\r\n            CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        }\r\n        this._isAutoCorrelating = isEnabled;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\r\n        return this._isAutoCorrelating;\r\n    };\r\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\r\n        if (!this._isAutoCorrelating) {\r\n            return;\r\n        }\r\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\r\n    };\r\n    AutoCollectHttpRequests.prototype._initialize = function () {\r\n        var _this = this;\r\n        this._isInitialized = true;\r\n        var wrapOnRequestHandler = function (onRequest) {\r\n            if (!onRequest) {\r\n                return undefined;\r\n            }\r\n            if (typeof onRequest !== 'function') {\r\n                throw new Error('onRequest handler must be a function');\r\n            }\r\n            return function (request, response) {\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\r\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\r\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\r\n                if (request && shouldCollect) {\r\n                    // Set up correlation context\r\n                    var requestParser_1 = new HttpRequestParser(request);\r\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\r\n                    // Note: Check for if correlation is enabled happens within this method.\r\n                    // If not enabled, function will directly call the callback.\r\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\r\n                        if (_this._isEnabled) {\r\n                            // Mark as auto collected\r\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\r\n                            // Auto collect request\r\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\r\n                        }\r\n                        // Add this request to the performance counter\r\n                        // Note: Check for if perf counters are enabled happens within this method.\r\n                        // TODO: Refactor common bits between trackRequest and countRequest so they can\r\n                        // be used together, even when perf counters are on, and request tracking is off\r\n                        AutoCollectPerformance.countRequest(request, response);\r\n                        if (typeof onRequest === \"function\") {\r\n                            onRequest(request, response);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    if (typeof onRequest === \"function\") {\r\n                        onRequest(request, response);\r\n                    }\r\n                }\r\n            };\r\n        };\r\n        // The `http.createServer` function will instantiate a new http.Server object.\r\n        // Inside the Server's constructor, it is using addListener to register the\r\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\r\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\r\n        //    the http.createServer call. Or\r\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\r\n        //    fresh server instance. This seems more stable for possible future changes as\r\n        //    it also covers the case where the Server might not use addListener to manage\r\n        //    the callback internally.\r\n        //    And also as long as the constructor uses addListener to add the handle, it is\r\n        //    ok to patch the addListener after construction only. Because if we would patch\r\n        //    the prototype one and the createServer method, we would wrap the handler twice\r\n        //    in case of the constructor call.\r\n        var wrapServerEventHandler = function (server) {\r\n            var originalAddListener = server.addListener.bind(server);\r\n            server.addListener = function (eventType, eventHandler) {\r\n                switch (eventType) {\r\n                    case 'request':\r\n                    case 'checkContinue':\r\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\r\n                    default:\r\n                        return originalAddListener(eventType, eventHandler);\r\n                }\r\n            };\r\n            // on is an alias to addListener only\r\n            server.on = server.addListener;\r\n        };\r\n        var originalHttpServer = http.createServer;\r\n        http.createServer = function (onRequest) {\r\n            // todo: get a pointer to the server so the IP address can be read from server.address\r\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n        var originalHttpsServer = https.createServer;\r\n        https.createServer = function (options, onRequest) {\r\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\r\n            wrapServerEventHandler(server);\r\n            return server;\r\n        };\r\n    };\r\n    /**\r\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\r\n     */\r\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\r\n        // Overwrite correlation context with request parser results\r\n        if (correlationContext) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\r\n    };\r\n    /**\r\n     * Tracks a request by listening to the response 'finish' event\r\n     */\r\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\r\n        if (!telemetry.request || !telemetry.response || !client) {\r\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\r\n            return;\r\n        }\r\n        // store data about the request\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\r\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\r\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\r\n        }\r\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\r\n        if (correlationContext && !_requestParser) {\r\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\r\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\r\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\r\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\r\n        }\r\n        // response listeners\r\n        if (telemetry.response.once) {\r\n            telemetry.response.once(\"finish\", function () {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\r\n            });\r\n        }\r\n        // track a failed request if an error is emitted\r\n        if (telemetry.request.on) {\r\n            telemetry.request.on(\"error\", function (error) {\r\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Add the target correlationId to the response headers, if not already provided.\r\n     */\r\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\r\n        if (client.config && client.config.correlationId &&\r\n            response.getHeader && response.setHeader && !response.headersSent) {\r\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\r\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\r\n        }\r\n    };\r\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\r\n        if (error) {\r\n            requestParser.onError(error, ellapsedMilliseconds);\r\n        }\r\n        else {\r\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\r\n        }\r\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\r\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\r\n        if (telemetry.tagOverrides) {\r\n            for (var key in telemetry.tagOverrides) {\r\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\r\n            }\r\n        }\r\n        var legacyRootId = requestParser.getLegacyRootId();\r\n        if (legacyRootId) {\r\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\r\n        }\r\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\r\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\r\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\r\n        client.trackRequest(requestTelemetry);\r\n    };\r\n    AutoCollectHttpRequests.prototype.dispose = function () {\r\n        AutoCollectHttpRequests.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n        CorrelationContextManager_1.CorrelationContextManager.disable();\r\n        this._isAutoCorrelating = false;\r\n    };\r\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\r\n    return AutoCollectHttpRequests;\r\n}());\r\nmodule.exports = AutoCollectHttpRequests;\r\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Config = require(\"../Library/Config\");\r\nvar Context = require(\"../Library/Context\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar AutoCollectNativePerformance = (function () {\r\n    function AutoCollectNativePerformance(client) {\r\n        this._disabledMetrics = {};\r\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\r\n        // just disable old native instance and reset JS member variables\r\n        if (AutoCollectNativePerformance.INSTANCE) {\r\n            AutoCollectNativePerformance.INSTANCE.dispose();\r\n        }\r\n        AutoCollectNativePerformance.INSTANCE = this;\r\n        this._client = client;\r\n    }\r\n    /**\r\n     *  Reports if NativePerformance is able to run in this environment\r\n     */\r\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\r\n        var nodeVer = process.versions.node.split(\".\");\r\n        return parseInt(nodeVer[0]) >= 6;\r\n    };\r\n    /**\r\n     * Start instance of native metrics agent.\r\n     *\r\n     * @param {boolean} isEnabled\r\n     * @param {number} [collectionInterval=60000]\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\r\n        var _this = this;\r\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\r\n            return;\r\n        }\r\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\r\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\r\n            try {\r\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\r\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\r\n                AutoCollectNativePerformance._metricsAvailable = true;\r\n                Logging.info(\"Native metrics module successfully loaded!\");\r\n            }\r\n            catch (err) {\r\n                // Package not available. Never try again\r\n                AutoCollectNativePerformance._metricsAvailable = false;\r\n                return;\r\n            }\r\n        }\r\n        this._isEnabled = isEnabled;\r\n        this._disabledMetrics = disabledMetrics;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        // Enable the emitter if we were able to construct one\r\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\r\n            // enable self\r\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\r\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\r\n            this._handle.unref();\r\n        }\r\n        else if (AutoCollectNativePerformance._emitter) {\r\n            // disable self\r\n            AutoCollectNativePerformance._emitter.enable(false);\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Cleanup this instance of AutoCollectNativePerformance\r\n     *\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype.dispose = function () {\r\n        this.enable(false);\r\n    };\r\n    /**\r\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\r\n     *\r\n     * @private\r\n     * @static\r\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\r\n     * @returns {(boolean | IDisabledExtendedMetrics)}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\r\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\r\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\r\n        // case 1: disable all env var set, RETURN with isEnabled=false\r\n        if (disableAll) {\r\n            return { isEnabled: false, disabledMetrics: {} };\r\n        }\r\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\r\n        if (individualOptOuts) {\r\n            var optOutsArr = individualOptOuts.split(\",\");\r\n            var disabledMetrics = {};\r\n            if (optOutsArr.length > 0) {\r\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\r\n                    var opt = optOutsArr_1[_i];\r\n                    disabledMetrics[opt] = true;\r\n                }\r\n            }\r\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\r\n            if (typeof collectExtendedMetrics === \"object\") {\r\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\r\n            }\r\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\r\n        }\r\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\r\n        if (typeof collectExtendedMetrics === \"boolean\") {\r\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\r\n        }\r\n        else {\r\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\r\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\r\n        }\r\n    };\r\n    /**\r\n     * Trigger an iteration of native metrics collection\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\r\n        var shouldSendAll = true;\r\n        if (typeof this._isEnabled !== \"object\") {\r\n            shouldSendAll = this._isEnabled;\r\n        }\r\n        if (shouldSendAll) {\r\n            this._trackGarbageCollection();\r\n            this._trackEventLoop();\r\n            this._trackHeapUsage();\r\n        }\r\n    };\r\n    /**\r\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\r\n     * collection that occurred during this collection interval.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\r\n        if (this._disabledMetrics.gc) {\r\n            return;\r\n        }\r\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\r\n        for (var gc in gcData) {\r\n            var metrics = gcData[gc].metrics;\r\n            var name_1 = gc + \" Garbage Collection Duration\";\r\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n            this._client.trackMetric({\r\n                name: name_1,\r\n                value: metrics.total,\r\n                count: metrics.count,\r\n                max: metrics.max,\r\n                min: metrics.min,\r\n                stdDev: stdDev,\r\n                tagOverrides: (_a = {},\r\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                    _a)\r\n            });\r\n        }\r\n        var _a;\r\n    };\r\n    /**\r\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\r\n     * time spent in event loop for this interval.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\r\n        if (this._disabledMetrics.loop) {\r\n            return;\r\n        }\r\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\r\n        var metrics = loopData.loopUsage;\r\n        if (metrics.count == 0) {\r\n            return;\r\n        }\r\n        var name = \"Event Loop CPU Time\";\r\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\r\n        this._client.trackMetric({\r\n            name: name,\r\n            value: metrics.total,\r\n            count: metrics.count,\r\n            min: metrics.min,\r\n            max: metrics.max,\r\n            stdDev: stdDev,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        var _a;\r\n    };\r\n    /**\r\n     * Track heap memory usage metrics as a custom metric.\r\n     *\r\n     * @private\r\n     * @memberof AutoCollectNativePerformance\r\n     */\r\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\r\n        if (this._disabledMetrics.heap) {\r\n            return;\r\n        }\r\n        var memoryUsage = process.memoryUsage();\r\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Heap)\",\r\n            value: heapUsed,\r\n            count: 1,\r\n            tagOverrides: (_a = {},\r\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _a)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Total (Heap)\",\r\n            value: heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_b = {},\r\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _b)\r\n        });\r\n        this._client.trackMetric({\r\n            name: \"Memory Usage (Non-Heap)\",\r\n            value: rss - heapTotal,\r\n            count: 1,\r\n            tagOverrides: (_c = {},\r\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\r\n                _c)\r\n        });\r\n        var _a, _b, _c;\r\n    };\r\n    return AutoCollectNativePerformance;\r\n}());\r\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\r\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar Logging = require(\"../Library/Logging\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar AutoCollectPerformance = (function () {\r\n    /**\r\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\r\n     */\r\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\r\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\r\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\r\n        if (!AutoCollectPerformance.INSTANCE) {\r\n            AutoCollectPerformance.INSTANCE = this;\r\n        }\r\n        this._isInitialized = false;\r\n        this._client = client;\r\n        this._collectionInterval = collectionInterval;\r\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\r\n    }\r\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\r\n        var _this = this;\r\n        this._isEnabled = isEnabled;\r\n        if (this._isEnabled && !this._isInitialized) {\r\n            this._isInitialized = true;\r\n        }\r\n        if (isEnabled) {\r\n            if (!this._handle) {\r\n                this._lastCpus = os.cpus();\r\n                this._lastRequests = {\r\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastDependencies = {\r\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                    time: +new Date\r\n                };\r\n                this._lastExceptions = {\r\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                    time: +new Date\r\n                };\r\n                if (typeof process.cpuUsage === 'function') {\r\n                    this._lastAppCpuUsage = process.cpuUsage();\r\n                }\r\n                this._lastHrtime = process.hrtime();\r\n                this._collectionInterval = collectionInterval || this._collectionInterval;\r\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\r\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\r\n            }\r\n        }\r\n        else {\r\n            if (this._handle) {\r\n                clearInterval(this._handle);\r\n                this._handle = undefined;\r\n            }\r\n        }\r\n    };\r\n    AutoCollectPerformance.countRequest = function (request, response) {\r\n        var _this = this;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        var start = +new Date;\r\n        if (!request || !response) {\r\n            Logging.warn(\"AutoCollectPerformance.countRequest was called with invalid parameters: \", !!request, !!response);\r\n            return;\r\n        }\r\n        // response listeners\r\n        if (typeof response.once === \"function\") {\r\n            response.once(\"finish\", function () {\r\n                var end = +new Date;\r\n                AutoCollectPerformance._intervalRequestExecutionTime += _this._lastRequestExecutionTime = end - start;\r\n                AutoCollectPerformance._totalRequestCount++;\r\n                if (response.statusCode >= 400) {\r\n                    AutoCollectPerformance._totalFailedRequestCount++;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AutoCollectPerformance.countException = function () {\r\n        AutoCollectPerformance._totalExceptionCount++;\r\n    };\r\n    AutoCollectPerformance.countDependency = function (duration, success) {\r\n        var durationMs;\r\n        if (!AutoCollectPerformance.isEnabled()) {\r\n            return;\r\n        }\r\n        if (typeof duration === 'string') {\r\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\r\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\r\n        }\r\n        else if (typeof duration === 'number') {\r\n            durationMs = duration;\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\r\n        if (success === false) {\r\n            AutoCollectPerformance._totalFailedDependencyCount++;\r\n        }\r\n        AutoCollectPerformance._totalDependencyCount++;\r\n    };\r\n    AutoCollectPerformance.prototype.isInitialized = function () {\r\n        return this._isInitialized;\r\n    };\r\n    AutoCollectPerformance.isEnabled = function () {\r\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\r\n    };\r\n    AutoCollectPerformance.prototype.trackPerformance = function () {\r\n        this._trackCpu();\r\n        this._trackMemory();\r\n        this._trackNetwork();\r\n        this._trackDependencyRate();\r\n        this._trackExceptionRate();\r\n    };\r\n    AutoCollectPerformance.prototype._trackCpu = function () {\r\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\r\n        // to find the delta since the last measurement\r\n        var cpus = os.cpus();\r\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\r\n            var totalUser = 0;\r\n            var totalSys = 0;\r\n            var totalNice = 0;\r\n            var totalIdle = 0;\r\n            var totalIrq = 0;\r\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\r\n                var cpu = cpus[i];\r\n                var lastCpu = this._lastCpus[i];\r\n                var name = \"% cpu(\" + i + \") \";\r\n                var model = cpu.model;\r\n                var speed = cpu.speed;\r\n                var times = cpu.times;\r\n                var lastTimes = lastCpu.times;\r\n                // user cpu time (or) % CPU time spent in user space\r\n                var user = (times.user - lastTimes.user) || 0;\r\n                totalUser += user;\r\n                // system cpu time (or) % CPU time spent in kernel space\r\n                var sys = (times.sys - lastTimes.sys) || 0;\r\n                totalSys += sys;\r\n                // user nice cpu time (or) % CPU time spent on low priority processes\r\n                var nice = (times.nice - lastTimes.nice) || 0;\r\n                totalNice += nice;\r\n                // idle cpu time (or) % CPU time spent idle\r\n                var idle = (times.idle - lastTimes.idle) || 0;\r\n                totalIdle += idle;\r\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\r\n                var irq = (times.irq - lastTimes.irq) || 0;\r\n                totalIrq += irq;\r\n            }\r\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\r\n            var appCpuPercent = undefined;\r\n            if (typeof process.cpuUsage === 'function') {\r\n                var appCpuUsage = process.cpuUsage();\r\n                var hrtime = process.hrtime();\r\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\r\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\r\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\r\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\r\n                }\r\n                // Set previous\r\n                this._lastAppCpuUsage = appCpuUsage;\r\n                this._lastHrtime = hrtime;\r\n            }\r\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\r\n        }\r\n        this._lastCpus = cpus;\r\n    };\r\n    AutoCollectPerformance.prototype._trackMemory = function () {\r\n        var freeMem = os.freemem();\r\n        var usedMem = process.memoryUsage().rss;\r\n        var committedMemory = os.totalmem() - freeMem;\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\r\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\r\n        // Only supported by quickpulse service\r\n        if (this._enableLiveMetricsCounters) {\r\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype._trackNetwork = function () {\r\n        // track total request counters\r\n        var lastRequests = this._lastRequests;\r\n        var requests = {\r\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\r\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\r\n            time: +new Date\r\n        };\r\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\r\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\r\n        var elapsedMs = requests.time - lastRequests.time;\r\n        var elapsedSeconds = elapsedMs / 1000;\r\n        var averageRequestExecutionTime = (AutoCollectPerformance._intervalRequestExecutionTime / intervalRequests) || 0; // default to 0 in case no requests in this interval\r\n        AutoCollectPerformance._intervalRequestExecutionTime = 0; // reset\r\n        if (elapsedMs > 0) {\r\n            var requestsPerSec = intervalRequests / elapsedSeconds;\r\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\r\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\r\n            // Only send duration to live metrics if it has been updated!\r\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\r\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\r\n            }\r\n            // Only supported by quickpulse service\r\n            if (this._enableLiveMetricsCounters) {\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\r\n            }\r\n        }\r\n        this._lastRequests = requests;\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastDependencies = this._lastDependencies;\r\n            var dependencies = {\r\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\r\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\r\n                time: +new Date\r\n            };\r\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\r\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\r\n            var elapsedMs = dependencies.time - lastDependencies.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            var averageDependencyExecutionTime = (AutoCollectPerformance._intervalDependencyExecutionTime / intervalDependencies) || 0;\r\n            AutoCollectPerformance._intervalDependencyExecutionTime = 0; // reset\r\n            if (elapsedMs > 0) {\r\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\r\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\r\n                // redundant check for livemetrics, but kept for consistency w/ requests\r\n                // Only send duration to live metrics if it has been updated!\r\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\r\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\r\n                }\r\n            }\r\n            this._lastDependencies = dependencies;\r\n        }\r\n    };\r\n    // Static counter is accumulated externally. Report the rate to client here\r\n    // Note: This is currently only used with QuickPulse client\r\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\r\n        if (this._enableLiveMetricsCounters) {\r\n            var lastExceptions = this._lastExceptions;\r\n            var exceptions = {\r\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\r\n                time: +new Date\r\n            };\r\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\r\n            var elapsedMs = exceptions.time - lastExceptions.time;\r\n            var elapsedSeconds = elapsedMs / 1000;\r\n            if (elapsedMs > 0) {\r\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\r\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\r\n            }\r\n            this._lastExceptions = exceptions;\r\n        }\r\n    };\r\n    AutoCollectPerformance.prototype.dispose = function () {\r\n        AutoCollectPerformance.INSTANCE = null;\r\n        this.enable(false);\r\n        this._isInitialized = false;\r\n    };\r\n    AutoCollectPerformance._totalRequestCount = 0;\r\n    AutoCollectPerformance._totalFailedRequestCount = 0;\r\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\r\n    AutoCollectPerformance._totalDependencyCount = 0;\r\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\r\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._totalExceptionCount = 0;\r\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\r\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\r\n    return AutoCollectPerformance;\r\n}());\r\nmodule.exports = AutoCollectPerformance;\r\n//# sourceMappingURL=Performance.js.map","\"use strict\";\r\n/**\r\n * Base class for helpers that read data from HTTP requst/response objects and convert them\r\n * into the telemetry contract objects.\r\n */\r\nvar RequestParser = (function () {\r\n    function RequestParser() {\r\n    }\r\n    /**\r\n     * Gets a url parsed out from request options\r\n     */\r\n    RequestParser.prototype.getUrl = function () {\r\n        return this.url;\r\n    };\r\n    RequestParser.prototype.RequestParser = function () {\r\n        this.startTime = +new Date();\r\n    };\r\n    RequestParser.prototype._setStatus = function (status, error) {\r\n        var endTime = +new Date();\r\n        this.duration = endTime - this.startTime;\r\n        this.statusCode = status;\r\n        var properties = this.properties || {};\r\n        if (error) {\r\n            if (typeof error === \"string\") {\r\n                properties[\"error\"] = error;\r\n            }\r\n            else if (error instanceof Error) {\r\n                properties[\"error\"] = error.message;\r\n            }\r\n            else if (typeof error === \"object\") {\r\n                for (var key in error) {\r\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\r\n                }\r\n            }\r\n        }\r\n        this.properties = properties;\r\n    };\r\n    RequestParser.prototype._isSuccess = function () {\r\n        return (0 < this.statusCode) && (this.statusCode < 400);\r\n    };\r\n    return RequestParser;\r\n}());\r\nmodule.exports = RequestParser;\r\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\r\nvar bunyanToAILevelMap = {\r\n    10: Contracts_1.SeverityLevel.Verbose,\r\n    20: Contracts_1.SeverityLevel.Verbose,\r\n    30: Contracts_1.SeverityLevel.Information,\r\n    40: Contracts_1.SeverityLevel.Warning,\r\n    50: Contracts_1.SeverityLevel.Error,\r\n    60: Contracts_1.SeverityLevel.Critical,\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = bunyanToAILevelMap[event.data.level];\r\n        client.trackTrace({ message: event.data.result, severity: AIlevel });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        // Message can have a trailing newline\r\n        var message = event.data.message;\r\n        if (message.lastIndexOf(\"\\n\") == message.length - 1) {\r\n            message = message.substring(0, message.length - 1);\r\n        }\r\n        client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\r\nif (exports.IsInitialized) {\r\n    var publishers = require(\"diagnostic-channel-publishers\");\r\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\r\n    var unpatchedModules = individualOptOuts.split(\",\");\r\n    var modules = {\r\n        bunyan: publishers.bunyan,\r\n        console: publishers.console,\r\n        mongodb: publishers.mongodb,\r\n        mongodbCore: publishers.mongodbCore,\r\n        mysql: publishers.mysql,\r\n        redis: publishers.redis,\r\n        pg: publishers.pg,\r\n        pgPool: publishers.pgPool,\r\n        winston: publishers.winston\r\n    };\r\n    for (var mod in modules) {\r\n        if (unpatchedModules.indexOf(mod) === -1) {\r\n            modules[mod].enable();\r\n        }\r\n    }\r\n}\r\nfunction registerContextPreservation(cb) {\r\n    if (!exports.IsInitialized) {\r\n        return;\r\n    }\r\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\r\n}\r\nexports.registerContextPreservation = registerContextPreservation;\r\n//# sourceMappingURL=initialization.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: event.data.event.commandName,\r\n            name: event.data.event.commandName,\r\n            duration: event.data.event.duration,\r\n            success: event.data.succeeded,\r\n            /* TODO: transmit result code from mongo */\r\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\r\n            dependencyTypeName: 'mongodb'\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var queryObj = event.data.query || {};\r\n        var sqlString = queryObj.sql || \"Unknown query\";\r\n        var success = !event.data.err;\r\n        var connection = queryObj._connection || {};\r\n        var connectionConfig = connection.config || {};\r\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\r\n        client.trackDependency({\r\n            target: dbName,\r\n            data: sqlString,\r\n            name: sqlString,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            /* TODO: transmit result code from mysql */\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"mysql\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var q = event.data.query;\r\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\r\n        var success = !event.data.error;\r\n        var conn = event.data.database.host + \":\" + event.data.database.port;\r\n        client.trackDependency({\r\n            target: conn,\r\n            data: sql,\r\n            name: sql,\r\n            duration: event.data.duration,\r\n            success: success,\r\n            resultCode: success ? \"0\" : \"1\",\r\n            dependencyTypeName: \"postgres\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nexports.subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        if (event.data.commandObj.command === \"info\") {\r\n            // We don't want to report 'info', it's irrelevant\r\n            return;\r\n        }\r\n        client.trackDependency({\r\n            target: event.data.address,\r\n            name: event.data.commandObj.command,\r\n            data: event.data.commandObj.command,\r\n            duration: event.data.duration,\r\n            success: !event.data.err,\r\n            /* TODO: transmit result code from redis */\r\n            resultCode: event.data.err ? \"1\" : \"0\",\r\n            dependencyTypeName: \"redis\"\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\r\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\r\nvar clients = [];\r\nvar winstonToAILevelMap = {\r\n    syslog: function (og) {\r\n        var map = {\r\n            emerg: Contracts_1.SeverityLevel.Critical,\r\n            alert: Contracts_1.SeverityLevel.Critical,\r\n            crit: Contracts_1.SeverityLevel.Critical,\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warning: Contracts_1.SeverityLevel.Warning,\r\n            notice: Contracts_1.SeverityLevel.Information,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            debug: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    npm: function (og) {\r\n        var map = {\r\n            error: Contracts_1.SeverityLevel.Error,\r\n            warn: Contracts_1.SeverityLevel.Warning,\r\n            info: Contracts_1.SeverityLevel.Information,\r\n            verbose: Contracts_1.SeverityLevel.Verbose,\r\n            debug: Contracts_1.SeverityLevel.Verbose,\r\n            silly: Contracts_1.SeverityLevel.Verbose\r\n        };\r\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\r\n    },\r\n    unknown: function (og) {\r\n        return Contracts_1.SeverityLevel.Information;\r\n    }\r\n};\r\nvar subscriber = function (event) {\r\n    clients.forEach(function (client) {\r\n        var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\r\n        client.trackTrace({\r\n            message: event.data.message,\r\n            severity: AIlevel,\r\n            properties: event.data.meta\r\n        });\r\n    });\r\n};\r\nfunction enable(enabled, client) {\r\n    if (enabled) {\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\r\n        }\r\n        ;\r\n        clients.push(client);\r\n    }\r\n    else {\r\n        clients = clients.filter(function (c) { return c != client; });\r\n        if (clients.length === 0) {\r\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\r\n        }\r\n    }\r\n}\r\nexports.enable = enable;\r\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar QuickPulseCounter;\r\n(function (QuickPulseCounter) {\r\n    // Memory\r\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\r\n    // CPU\r\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    // Request\r\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\r\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\r\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\r\n    // Dependency\r\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\r\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\r\n    // Exception\r\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\r\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\r\nvar PerformanceCounter;\r\n(function (PerformanceCounter) {\r\n    // Memory\r\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\r\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\r\n    // CPU\r\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\r\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\r\n    // Requests\r\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\r\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\r\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\r\n;\r\n/**\r\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\r\n */\r\nexports.PerformanceToQuickPulseCounter = (_a = {},\r\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\r\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\r\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\r\n    // Remap quick pulse only counters\r\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\r\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\r\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\r\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\r\n    _a);\r\nexports.QuickPulseDocumentType = {\r\n    Event: \"Event\",\r\n    Exception: \"Exception\",\r\n    Trace: \"Trace\",\r\n    Metric: \"Metric\",\r\n    Request: \"Request\",\r\n    Dependency: \"RemoteDependency\"\r\n};\r\nexports.QuickPulseType = {\r\n    Event: \"EventTelemetryDocument\",\r\n    Exception: \"ExceptionTelemetryDocument\",\r\n    Trace: \"TraceTelemetryDocument\",\r\n    Metric: \"MetricTelemetryDocument\",\r\n    Request: \"RequestTelemetryDocument\",\r\n    Dependency: \"DependencyTelemetryDocument\"\r\n};\r\nexports.TelemetryTypeStringToQuickPulseType = {\r\n    EventData: exports.QuickPulseType.Event,\r\n    ExceptionData: exports.QuickPulseType.Exception,\r\n    MessageData: exports.QuickPulseType.Trace,\r\n    MetricData: exports.QuickPulseType.Metric,\r\n    RequestData: exports.QuickPulseType.Request,\r\n    RemoteDependencyData: exports.QuickPulseType.Dependency\r\n};\r\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\r\n    EventData: exports.QuickPulseDocumentType.Event,\r\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\r\n    MessageData: exports.QuickPulseDocumentType.Trace,\r\n    MetricData: exports.QuickPulseDocumentType.Metric,\r\n    RequestData: exports.QuickPulseDocumentType.Request,\r\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency\r\n};\r\nvar _a;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Generated_1 = require(\"./Generated\");\r\nvar RemoteDependencyDataConstants = (function () {\r\n    function RemoteDependencyDataConstants() {\r\n    }\r\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\r\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\r\n    return RemoteDependencyDataConstants;\r\n}());\r\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\r\nfunction domainSupportsProperties(domain) {\r\n    return \"properties\" in domain ||\r\n        domain instanceof Generated_1.EventData ||\r\n        domain instanceof Generated_1.ExceptionData ||\r\n        domain instanceof Generated_1.MessageData ||\r\n        domain instanceof Generated_1.MetricData ||\r\n        domain instanceof Generated_1.PageViewData ||\r\n        domain instanceof Generated_1.RemoteDependencyData ||\r\n        domain instanceof Generated_1.RequestData;\r\n}\r\nexports.domainSupportsProperties = domainSupportsProperties;\r\n//# sourceMappingURL=Constants.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of AvailabilityData represent the result of executing an availability test.\r\n */\r\nvar AvailabilityData = (function (_super) {\r\n    __extends(AvailabilityData, _super);\r\n    function AvailabilityData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return AvailabilityData;\r\n}(Domain));\r\nmodule.exports = AvailabilityData;\r\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Data struct to contain only C section with custom fields.\r\n */\r\nvar Base = (function () {\r\n    function Base() {\r\n    }\r\n    return Base;\r\n}());\r\nmodule.exports = Base;\r\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nvar ContextTagKeys = (function () {\r\n    function ContextTagKeys() {\r\n        this.applicationVersion = \"ai.application.ver\";\r\n        this.deviceId = \"ai.device.id\";\r\n        this.deviceLocale = \"ai.device.locale\";\r\n        this.deviceModel = \"ai.device.model\";\r\n        this.deviceOEMName = \"ai.device.oemName\";\r\n        this.deviceOSVersion = \"ai.device.osVersion\";\r\n        this.deviceType = \"ai.device.type\";\r\n        this.locationIp = \"ai.location.ip\";\r\n        this.operationId = \"ai.operation.id\";\r\n        this.operationName = \"ai.operation.name\";\r\n        this.operationParentId = \"ai.operation.parentId\";\r\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\r\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\r\n        this.sessionId = \"ai.session.id\";\r\n        this.sessionIsFirst = \"ai.session.isFirst\";\r\n        this.userAccountId = \"ai.user.accountId\";\r\n        this.userId = \"ai.user.id\";\r\n        this.userAuthUserId = \"ai.user.authUserId\";\r\n        this.cloudRole = \"ai.cloud.role\";\r\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\r\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\r\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\r\n        this.internalNodeName = \"ai.internal.nodeName\";\r\n    }\r\n    return ContextTagKeys;\r\n}());\r\nmodule.exports = ContextTagKeys;\r\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Base = require(\"./Base\");\r\n\"use strict\";\r\n/**\r\n * Data struct to contain both B and C sections.\r\n */\r\nvar Data = (function (_super) {\r\n    __extends(Data, _super);\r\n    function Data() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return Data;\r\n}(Base));\r\nmodule.exports = Data;\r\n//# sourceMappingURL=Data.js.map","\"use strict\";\r\n// THIS FILE WAS AUTOGENERATED\r\nvar DataPointType = require(\"./DataPointType\");\r\n\"use strict\";\r\n/**\r\n * Metric data single measurement.\r\n */\r\nvar DataPoint = (function () {\r\n    function DataPoint() {\r\n        this.kind = DataPointType.Measurement;\r\n    }\r\n    return DataPoint;\r\n}());\r\nmodule.exports = DataPoint;\r\n//# sourceMappingURL=DataPoint.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Type of the metric data measurement.\r\n */\r\nvar DataPointType;\r\n(function (DataPointType) {\r\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\r\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\r\n})(DataPointType || (DataPointType = {}));\r\nmodule.exports = DataPointType;\r\n//# sourceMappingURL=DataPointType.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * The abstract common base of all domains.\r\n */\r\nvar Domain = (function () {\r\n    function Domain() {\r\n    }\r\n    return Domain;\r\n}());\r\nmodule.exports = Domain;\r\n//# sourceMappingURL=Domain.js.map","\"use strict\";\r\n/**\r\n * System variables for a telemetry item.\r\n */\r\nvar Envelope = (function () {\r\n    function Envelope() {\r\n        this.ver = 1;\r\n        this.sampleRate = 100.0;\r\n        this.tags = {};\r\n    }\r\n    return Envelope;\r\n}());\r\nmodule.exports = Envelope;\r\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\r\n */\r\nvar EventData = (function (_super) {\r\n    __extends(EventData, _super);\r\n    function EventData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return EventData;\r\n}(Domain));\r\nmodule.exports = EventData;\r\n//# sourceMappingURL=EventData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\r\n */\r\nvar ExceptionData = (function (_super) {\r\n    __extends(ExceptionData, _super);\r\n    function ExceptionData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.exceptions = [];\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return ExceptionData;\r\n}(Domain));\r\nmodule.exports = ExceptionData;\r\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\r\n/**\r\n * Exception details of the exception in a chain.\r\n */\r\nvar ExceptionDetails = (function () {\r\n    function ExceptionDetails() {\r\n        this.hasFullStack = true;\r\n        this.parsedStack = [];\r\n    }\r\n    return ExceptionDetails;\r\n}());\r\nmodule.exports = ExceptionDetails;\r\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\r\n */\r\nvar MessageData = (function (_super) {\r\n    __extends(MessageData, _super);\r\n    function MessageData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MessageData;\r\n}(Domain));\r\nmodule.exports = MessageData;\r\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\r\n */\r\nvar MetricData = (function (_super) {\r\n    __extends(MetricData, _super);\r\n    function MetricData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.metrics = [];\r\n        _this.properties = {};\r\n        return _this;\r\n    }\r\n    return MetricData;\r\n}(Domain));\r\nmodule.exports = MetricData;\r\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar EventData = require(\"./EventData\");\r\n\"use strict\";\r\n/**\r\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\r\n */\r\nvar PageViewData = (function (_super) {\r\n    __extends(PageViewData, _super);\r\n    function PageViewData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return PageViewData;\r\n}(EventData));\r\nmodule.exports = PageViewData;\r\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\r\n */\r\nvar RemoteDependencyData = (function (_super) {\r\n    __extends(RemoteDependencyData, _super);\r\n    function RemoteDependencyData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.success = true;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RemoteDependencyData;\r\n}(Domain));\r\nmodule.exports = RemoteDependencyData;\r\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n// THIS FILE WAS AUTOGENERATED\r\nvar Domain = require(\"./Domain\");\r\n\"use strict\";\r\n/**\r\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\r\n */\r\nvar RequestData = (function (_super) {\r\n    __extends(RequestData, _super);\r\n    function RequestData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.ver = 2;\r\n        _this.properties = {};\r\n        _this.measurements = {};\r\n        return _this;\r\n    }\r\n    return RequestData;\r\n}(Domain));\r\nmodule.exports = RequestData;\r\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nvar SeverityLevel;\r\n(function (SeverityLevel) {\r\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\r\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\r\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\r\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\r\n})(SeverityLevel || (SeverityLevel = {}));\r\nmodule.exports = SeverityLevel;\r\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\n/**\r\n * Stack frame information.\r\n */\r\nvar StackFrame = (function () {\r\n    function StackFrame() {\r\n    }\r\n    return StackFrame;\r\n}());\r\nmodule.exports = StackFrame;\r\n//# sourceMappingURL=StackFrame.js.map","// THIS FILE WAS AUTOGENERATED\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AvailabilityData = require(\"./AvailabilityData\");\r\nexports.Base = require(\"./Base\");\r\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\r\nexports.Data = require(\"./Data\");\r\nexports.DataPoint = require(\"./DataPoint\");\r\nexports.DataPointType = require(\"./DataPointType\");\r\nexports.Domain = require(\"./Domain\");\r\nexports.Envelope = require(\"./Envelope\");\r\nexports.EventData = require(\"./EventData\");\r\nexports.ExceptionData = require(\"./ExceptionData\");\r\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\r\nexports.MessageData = require(\"./MessageData\");\r\nexports.MetricData = require(\"./MetricData\");\r\nexports.PageViewData = require(\"./PageViewData\");\r\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\r\nexports.RequestData = require(\"./RequestData\");\r\nexports.SeverityLevel = require(\"./SeverityLevel\");\r\nexports.StackFrame = require(\"./StackFrame\");\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\r\n * @param type Type to convert to BaseData string\r\n */\r\nfunction telemetryTypeToBaseType(type) {\r\n    switch (type) {\r\n        case TelemetryType.Event:\r\n            return \"EventData\";\r\n        case TelemetryType.Exception:\r\n            return \"ExceptionData\";\r\n        case TelemetryType.Trace:\r\n            return \"MessageData\";\r\n        case TelemetryType.Metric:\r\n            return \"MetricData\";\r\n        case TelemetryType.Request:\r\n            return \"RequestData\";\r\n        case TelemetryType.Dependency:\r\n            return \"RemoteDependencyData\";\r\n    }\r\n    return undefined;\r\n}\r\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\r\n/**\r\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\r\n * @param baseType BaseData string to convert to TelemetryType\r\n */\r\nfunction baseTypeToTelemetryType(baseType) {\r\n    switch (baseType) {\r\n        case \"EventData\":\r\n            return TelemetryType.Event;\r\n        case \"ExceptionData\":\r\n            return TelemetryType.Exception;\r\n        case \"MessageData\":\r\n            return TelemetryType.Trace;\r\n        case \"MetricData\":\r\n            return TelemetryType.Metric;\r\n        case \"RequestData\":\r\n            return TelemetryType.Request;\r\n        case \"RemoteDependencyData\":\r\n            return TelemetryType.Dependency;\r\n    }\r\n    return undefined;\r\n}\r\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\r\nexports.TelemetryTypeString = {\r\n    Event: \"EventData\",\r\n    Exception: \"ExceptionData\",\r\n    Trace: \"MessageData\",\r\n    Metric: \"MetricData\",\r\n    Request: \"RequestData\",\r\n    Dependency: \"RemoteDependencyData\"\r\n};\r\n/**\r\n * Telemetry types supported by this SDK\r\n */\r\nvar TelemetryType;\r\n(function (TelemetryType) {\r\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\r\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\r\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\r\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\r\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\r\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\r\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\r\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./TelemetryType\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./Constants\"));\r\n__export(require(\"./Generated\"));\r\n__export(require(\"./TelemetryTypes\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Channel = (function () {\r\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\r\n        this._buffer = [];\r\n        this._lastSend = 0;\r\n        this._isDisabled = isDisabled;\r\n        this._getBatchSize = getBatchSize;\r\n        this._getBatchIntervalMs = getBatchIntervalMs;\r\n        this._sender = sender;\r\n    }\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\r\n    };\r\n    /**\r\n     * Add a telemetry item to the send buffer\r\n     */\r\n    Channel.prototype.send = function (envelope) {\r\n        var _this = this;\r\n        // if master off switch is set, don't send any data\r\n        if (this._isDisabled()) {\r\n            // Do not send/save data\r\n            return;\r\n        }\r\n        // validate input\r\n        if (!envelope) {\r\n            Logging.warn(\"Cannot send null/undefined telemetry\");\r\n            return;\r\n        }\r\n        // check if the incoming payload is too large, truncate if necessary\r\n        var payload = this._stringify(envelope);\r\n        if (typeof payload !== \"string\") {\r\n            return;\r\n        }\r\n        // enqueue the payload\r\n        this._buffer.push(payload);\r\n        // flush if we would exceed the max-size limit by adding this item\r\n        if (this._buffer.length >= this._getBatchSize()) {\r\n            this.triggerSend(false);\r\n            return;\r\n        }\r\n        // ensure an invocation timeout is set if anything is in the buffer\r\n        if (!this._timeoutHandle && this._buffer.length > 0) {\r\n            this._timeoutHandle = setTimeout(function () {\r\n                _this._timeoutHandle = null;\r\n                _this.triggerSend(false);\r\n            }, this._getBatchIntervalMs());\r\n        }\r\n    };\r\n    /**\r\n     * Immediately send buffered data\r\n     */\r\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\r\n        var bufferIsEmpty = this._buffer.length < 1;\r\n        if (!bufferIsEmpty) {\r\n            // compose an array of payloads\r\n            var batch = this._buffer.join(\"\\n\");\r\n            // invoke send\r\n            if (isNodeCrashing) {\r\n                this._sender.saveOnCrash(batch);\r\n                if (typeof callback === \"function\") {\r\n                    callback(\"data saved on crash\");\r\n                }\r\n            }\r\n            else {\r\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\r\n            }\r\n        }\r\n        // update lastSend time to enable throttling\r\n        this._lastSend = +new Date;\r\n        // clear buffer\r\n        this._buffer.length = 0;\r\n        clearTimeout(this._timeoutHandle);\r\n        this._timeoutHandle = null;\r\n        if (bufferIsEmpty && typeof callback === \"function\") {\r\n            callback(\"no data to send\");\r\n        }\r\n    };\r\n    Channel.prototype._stringify = function (envelope) {\r\n        try {\r\n            return JSON.stringify(envelope);\r\n        }\r\n        catch (error) {\r\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\r\n        }\r\n    };\r\n    return Channel;\r\n}());\r\nmodule.exports = Channel;\r\n//# sourceMappingURL=Channel.js.map","\"use strict\";\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\nvar Config = (function () {\r\n    function Config(instrumentationKey) {\r\n        var _this = this;\r\n        this.endpointBase = \"https://dc.services.visualstudio.com\";\r\n        this.instrumentationKey = instrumentationKey || Config._getInstrumentationKey();\r\n        this.endpointUrl = this.endpointBase + \"/v2/track\";\r\n        this.maxBatchSize = 250;\r\n        this.maxBatchIntervalMs = 15000;\r\n        this.disableAppInsights = false;\r\n        this.samplingPercentage = 100;\r\n        this.correlationIdRetryIntervalMs = 30 * 1000;\r\n        this.correlationHeaderExcludedDomains = [\r\n            \"*.core.windows.net\",\r\n            \"*.core.chinacloudapi.cn\",\r\n            \"*.core.cloudapi.de\",\r\n            \"*.core.usgovcloudapi.net\"\r\n        ];\r\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\r\n        this.profileQueryEndpoint = process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\r\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\r\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\r\n        this.httpAgent = undefined;\r\n        this.httpsAgent = undefined;\r\n        this._quickPulseHost = process.env[Config.ENV_quickPulseHost] || \"rt.services.visualstudio.com\";\r\n    }\r\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\r\n        get: function () {\r\n            return this._profileQueryEndpoint;\r\n        },\r\n        set: function (endpoint) {\r\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\r\n            this._profileQueryEndpoint = endpoint;\r\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\r\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\r\n        get: function () {\r\n            return this._quickPulseHost;\r\n        },\r\n        set: function (host) {\r\n            this._quickPulseHost = host;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Config._getInstrumentationKey = function () {\r\n        // check for both the documented env variable and the azure-prefixed variable\r\n        var iKey = process.env[Config.ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\r\n            || process.env[Config.legacy_ENV_iKey]\r\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\r\n        if (!iKey || iKey == \"\") {\r\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\r\n        }\r\n        return iKey;\r\n    };\r\n    // Azure adds this prefix to all environment variables\r\n    Config.ENV_azurePrefix = \"APPSETTING_\";\r\n    // This key is provided in the readme\r\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\r\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\r\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\r\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\r\n    // Native Metrics Opt Outs\r\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\r\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\r\n    Config.ENV_http_proxy = \"http_proxy\";\r\n    Config.ENV_https_proxy = \"https_proxy\";\r\n    return Config;\r\n}());\r\nmodule.exports = Config;\r\n//# sourceMappingURL=Config.js.map","\"use strict\";\r\nvar os = require(\"os\");\r\nvar fs = require(\"fs\");\r\nvar path = require(\"path\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Logging = require(\"./Logging\");\r\nvar Context = (function () {\r\n    function Context(packageJsonPath) {\r\n        this.keys = new Contracts.ContextTagKeys();\r\n        this.tags = {};\r\n        this._loadApplicationContext();\r\n        this._loadDeviceContext();\r\n        this._loadInternalContext();\r\n    }\r\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\r\n        // note: this should return the host package.json\r\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\r\n        if (!Context.appVersion[packageJsonPath]) {\r\n            Context.appVersion[packageJsonPath] = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.appVersion[packageJsonPath] = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\r\n    };\r\n    Context.prototype._loadDeviceContext = function () {\r\n        this.tags[this.keys.deviceId] = \"\";\r\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\r\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\r\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\r\n        // not yet supported tags\r\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\r\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\r\n    };\r\n    Context.prototype._loadInternalContext = function () {\r\n        // note: this should return the sdk package.json\r\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\r\n        if (!Context.sdkVersion) {\r\n            Context.sdkVersion = \"unknown\";\r\n            try {\r\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\r\n                if (packageJson && typeof packageJson.version === \"string\") {\r\n                    Context.sdkVersion = packageJson.version;\r\n                }\r\n            }\r\n            catch (exception) {\r\n                Logging.info(\"unable to read app version: \", exception);\r\n            }\r\n        }\r\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\r\n    };\r\n    Context.DefaultRoleName = \"Web\";\r\n    Context.appVersion = {};\r\n    Context.sdkVersion = null;\r\n    return Context;\r\n}());\r\nmodule.exports = Context;\r\n//# sourceMappingURL=Context.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar CorrelationIdManager = (function () {\r\n    function CorrelationIdManager() {\r\n    }\r\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\r\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\r\n        // If it 404s, the iKey is bad and we should give up\r\n        // If it fails otherwise, try again later\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\r\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\r\n            return;\r\n        }\r\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\r\n            return;\r\n        }\r\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\r\n        var fetchAppId = function () {\r\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                // This query has been cancelled.\r\n                return;\r\n            }\r\n            var requestOptions = {\r\n                method: 'GET',\r\n                // Ensure this request is not captured by auto-collection.\r\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\r\n                disableAppInsightsAutoCollection: true\r\n            };\r\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\r\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\r\n                if (res.statusCode === 200) {\r\n                    // Success; extract the appId from the body\r\n                    var appId_1 = \"\";\r\n                    res.setEncoding(\"utf-8\");\r\n                    res.on('data', function (data) {\r\n                        appId_1 += data;\r\n                    });\r\n                    res.on('end', function () {\r\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\r\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\r\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\r\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\r\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\r\n                        }\r\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                    });\r\n                }\r\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\r\n                    // Not found, probably a bad key. Do not try again.\r\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\r\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n                }\r\n                else {\r\n                    // Retry after timeout.\r\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\r\n                }\r\n            });\r\n            if (req) {\r\n                req.on('error', function (error) {\r\n                    // Unable to contact endpoint.\r\n                    // Do nothing for now.\r\n                    Logging.warn(CorrelationIdManager.TAG, error);\r\n                });\r\n                req.end();\r\n            }\r\n        };\r\n        setTimeout(fetchAppId, 0);\r\n    };\r\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\r\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\r\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\r\n        if (pendingLookups) {\r\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\r\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\r\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\r\n     * @param parentId\r\n     */\r\n    CorrelationIdManager.generateRequestId = function (parentId) {\r\n        if (parentId) {\r\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\r\n            if (parentId[parentId.length - 1] !== '.') {\r\n                parentId += '.';\r\n            }\r\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\r\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\r\n        }\r\n        else {\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n    };\r\n    /**\r\n     * Given a hierarchical identifier of the form |X.*\r\n     * return the root identifier X\r\n     * @param id\r\n     */\r\n    CorrelationIdManager.getRootId = function (id) {\r\n        var endIndex = id.indexOf('.');\r\n        if (endIndex < 0) {\r\n            endIndex = id.length;\r\n        }\r\n        var startIndex = id[0] === '|' ? 1 : 0;\r\n        return id.substring(startIndex, endIndex);\r\n    };\r\n    CorrelationIdManager.generateRootId = function () {\r\n        return '|' + Util.w3cTraceId() + '.';\r\n    };\r\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\r\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\r\n            return parentId + suffix + delimiter;\r\n        }\r\n        // Combined identifier would be too long, so we must truncate it.\r\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\r\n        // overflow delimiter '#'\r\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\r\n        if (parentId.length > trimPosition) {\r\n            for (; trimPosition > 1; --trimPosition) {\r\n                var c = parentId[trimPosition - 1];\r\n                if (c === '.' || c === '_') {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (trimPosition <= 1) {\r\n            // parentId is not a valid ID\r\n            return CorrelationIdManager.generateRootId();\r\n        }\r\n        suffix = Util.randomu32().toString(16);\r\n        while (suffix.length < 8) {\r\n            suffix = '0' + suffix;\r\n        }\r\n        return parentId.substring(0, trimPosition) + suffix + '#';\r\n    };\r\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\r\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\r\n    CorrelationIdManager.w3cEnabled = false;\r\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\r\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\r\n    CorrelationIdManager.pendingLookups = {};\r\n    CorrelationIdManager.completedLookups = {};\r\n    CorrelationIdManager.requestIdMaxLength = 1024;\r\n    CorrelationIdManager.currentRootId = Util.randomu32();\r\n    return CorrelationIdManager;\r\n}());\r\nmodule.exports = CorrelationIdManager;\r\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Util = require(\"./Util\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\n/**\r\n * Manages the logic of creating envelopes from Telemetry objects\r\n */\r\nvar EnvelopeFactory = (function () {\r\n    function EnvelopeFactory() {\r\n    }\r\n    /**\r\n     * Creates envelope ready to be sent by Channel\r\n     * @param telemetry Telemetry data\r\n     * @param telemetryType Type of telemetry\r\n     * @param commonProperties Bag of custom common properties to be added to the envelope\r\n     * @param context Client context\r\n     * @param config Client configuration\r\n     */\r\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\r\n        var data = null;\r\n        switch (telemetryType) {\r\n            case Contracts.TelemetryType.Trace:\r\n                data = EnvelopeFactory.createTraceData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Dependency:\r\n                data = EnvelopeFactory.createDependencyData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Event:\r\n                data = EnvelopeFactory.createEventData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Exception:\r\n                data = EnvelopeFactory.createExceptionData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Request:\r\n                data = EnvelopeFactory.createRequestData(telemetry);\r\n                break;\r\n            case Contracts.TelemetryType.Metric:\r\n                data = EnvelopeFactory.createMetricData(telemetry);\r\n                break;\r\n        }\r\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\r\n            if (data && data.baseData) {\r\n                // if no properties are specified just add the common ones\r\n                if (!data.baseData.properties) {\r\n                    data.baseData.properties = commonProperties;\r\n                }\r\n                else {\r\n                    // otherwise, check each of the common ones\r\n                    for (var name in commonProperties) {\r\n                        // only override if the property `name` has not been set on this item\r\n                        if (!data.baseData.properties[name]) {\r\n                            data.baseData.properties[name] = commonProperties[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // sanitize properties\r\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\r\n        }\r\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\r\n        var envelope = new Contracts.Envelope();\r\n        envelope.data = data;\r\n        envelope.iKey = iKey;\r\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\r\n        envelope.name =\r\n            \"Microsoft.ApplicationInsights.\" +\r\n                iKey.replace(/-/g, \"\") +\r\n                \".\" +\r\n                data.baseType.substr(0, data.baseType.length - 4);\r\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\r\n        envelope.time = (new Date()).toISOString();\r\n        envelope.ver = 1;\r\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\r\n        // Exclude metrics from sampling by default\r\n        if (telemetryType === Contracts.TelemetryType.Metric) {\r\n            envelope.sampleRate = 100;\r\n        }\r\n        return envelope;\r\n    };\r\n    EnvelopeFactory.createTraceData = function (telemetry) {\r\n        var trace = new Contracts.MessageData();\r\n        trace.message = telemetry.message;\r\n        trace.properties = telemetry.properties;\r\n        if (!isNaN(telemetry.severity)) {\r\n            trace.severityLevel = telemetry.severity;\r\n        }\r\n        else {\r\n            trace.severityLevel = Contracts.SeverityLevel.Information;\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\r\n        data.baseData = trace;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createDependencyData = function (telemetry) {\r\n        var remoteDependency = new Contracts.RemoteDependencyData();\r\n        remoteDependency.name = telemetry.name;\r\n        remoteDependency.data = telemetry.data;\r\n        remoteDependency.target = telemetry.target;\r\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\r\n        remoteDependency.success = telemetry.success;\r\n        remoteDependency.type = telemetry.dependencyTypeName;\r\n        remoteDependency.properties = telemetry.properties;\r\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        if (telemetry.id) {\r\n            remoteDependency.id = telemetry.id;\r\n        }\r\n        else {\r\n            remoteDependency.id = Util.w3cTraceId();\r\n        }\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\r\n        data.baseData = remoteDependency;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createEventData = function (telemetry) {\r\n        var event = new Contracts.EventData();\r\n        event.name = telemetry.name;\r\n        event.properties = telemetry.properties;\r\n        event.measurements = telemetry.measurements;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\r\n        data.baseData = event;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createExceptionData = function (telemetry) {\r\n        var exception = new Contracts.ExceptionData();\r\n        exception.properties = telemetry.properties;\r\n        exception.severityLevel = Contracts.SeverityLevel.Error;\r\n        exception.measurements = telemetry.measurements;\r\n        exception.exceptions = [];\r\n        var stack = telemetry.exception[\"stack\"];\r\n        var exceptionDetails = new Contracts.ExceptionDetails();\r\n        exceptionDetails.message = telemetry.exception.message;\r\n        exceptionDetails.typeName = telemetry.exception.name;\r\n        exceptionDetails.parsedStack = this.parseStack(stack);\r\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\r\n        exception.exceptions.push(exceptionDetails);\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\r\n        data.baseData = exception;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createRequestData = function (telemetry) {\r\n        var requestData = new Contracts.RequestData();\r\n        if (telemetry.id) {\r\n            requestData.id = telemetry.id;\r\n        }\r\n        else {\r\n            requestData.id = Util.w3cTraceId();\r\n        }\r\n        requestData.name = telemetry.name;\r\n        requestData.url = telemetry.url;\r\n        requestData.source = telemetry.source;\r\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\r\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\r\n        requestData.success = telemetry.success;\r\n        requestData.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\r\n        data.baseData = requestData;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.createMetricData = function (telemetry) {\r\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\r\n        metrics.metrics = [];\r\n        var metric = new Contracts.DataPoint();\r\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\r\n        metric.kind = Contracts.DataPointType.Aggregation;\r\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\r\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\r\n        metric.name = telemetry.name;\r\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\r\n        metric.value = telemetry.value;\r\n        metrics.metrics.push(metric);\r\n        metrics.properties = telemetry.properties;\r\n        var data = new Contracts.Data();\r\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\r\n        data.baseData = metrics;\r\n        return data;\r\n    };\r\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\r\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        // Make a copy of context tags so we don't alter the actual object\r\n        // Also perform tag overriding\r\n        var newTags = {};\r\n        if (context && context.tags) {\r\n            for (var key in context.tags) {\r\n                newTags[key] = context.tags[key];\r\n            }\r\n        }\r\n        if (tagOverrides) {\r\n            for (var key in tagOverrides) {\r\n                newTags[key] = tagOverrides[key];\r\n            }\r\n        }\r\n        // Fill in internally-populated values if not already set\r\n        if (correlationContext) {\r\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\r\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\r\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\r\n        }\r\n        return newTags;\r\n    };\r\n    EnvelopeFactory.parseStack = function (stack) {\r\n        var parsedStack = undefined;\r\n        if (typeof stack === \"string\") {\r\n            var frames = stack.split(\"\\n\");\r\n            parsedStack = [];\r\n            var level = 0;\r\n            var totalSizeInBytes = 0;\r\n            for (var i = 0; i <= frames.length; i++) {\r\n                var frame = frames[i];\r\n                if (_StackFrame.regex.test(frame)) {\r\n                    var parsedFrame = new _StackFrame(frames[i], level++);\r\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\r\n                    parsedStack.push(parsedFrame);\r\n                }\r\n            }\r\n            // DP Constraint - exception parsed stack must be < 32KB\r\n            // remove frames from the middle to meet the threshold\r\n            var exceptionParsedStackThreshold = 32 * 1024;\r\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\r\n                var left = 0;\r\n                var right = parsedStack.length - 1;\r\n                var size = 0;\r\n                var acceptedLeft = left;\r\n                var acceptedRight = right;\r\n                while (left < right) {\r\n                    // check size\r\n                    var lSize = parsedStack[left].sizeInBytes;\r\n                    var rSize = parsedStack[right].sizeInBytes;\r\n                    size += lSize + rSize;\r\n                    if (size > exceptionParsedStackThreshold) {\r\n                        // remove extra frames from the middle\r\n                        var howMany = acceptedRight - acceptedLeft + 1;\r\n                        parsedStack.splice(acceptedLeft, howMany);\r\n                        break;\r\n                    }\r\n                    // update pointers\r\n                    acceptedLeft = left;\r\n                    acceptedRight = right;\r\n                    left++;\r\n                    right--;\r\n                }\r\n            }\r\n        }\r\n        return parsedStack;\r\n    };\r\n    return EnvelopeFactory;\r\n}());\r\nvar _StackFrame = (function () {\r\n    function _StackFrame(frame, level) {\r\n        this.sizeInBytes = 0;\r\n        this.level = level;\r\n        this.method = \"<no_method>\";\r\n        this.assembly = Util.trim(frame);\r\n        var matches = frame.match(_StackFrame.regex);\r\n        if (matches && matches.length >= 5) {\r\n            this.method = Util.trim(matches[2]) || this.method;\r\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\r\n            this.line = parseInt(matches[5]) || 0;\r\n        }\r\n        this.sizeInBytes += this.method.length;\r\n        this.sizeInBytes += this.fileName.length;\r\n        this.sizeInBytes += this.assembly.length;\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        this.sizeInBytes += _StackFrame.baseSize;\r\n        this.sizeInBytes += this.level.toString().length;\r\n        this.sizeInBytes += this.line.toString().length;\r\n    }\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nmodule.exports = EnvelopeFactory;\r\n//# sourceMappingURL=EnvelopeFactory.js.map","\"use strict\";\r\nvar Logging = (function () {\r\n    function Logging() {\r\n    }\r\n    Logging.info = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (Logging.enableDebug) {\r\n            console.info(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.warn = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!Logging.disableWarnings) {\r\n            console.warn(Logging.TAG + message, optionalParams);\r\n        }\r\n    };\r\n    Logging.enableDebug = false;\r\n    Logging.disableWarnings = false;\r\n    Logging.TAG = \"ApplicationInsights:\";\r\n    return Logging;\r\n}());\r\nmodule.exports = Logging;\r\n//# sourceMappingURL=Logging.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar TelemetryClient = require(\"./TelemetryClient\");\r\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\r\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\n/**\r\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\r\n * in addition to Node-specific helper functions.\r\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\r\n * In most cases, `appInsights.defaultClient` should be used instead.\r\n */\r\nvar NodeClient = (function (_super) {\r\n    __extends(NodeClient, _super);\r\n    function NodeClient() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\r\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\r\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\r\n     * @param telemetry Object encapsulating incoming request, response and duration information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\r\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\r\n            ServerRequestTracking.trackRequestSync(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\r\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\r\n     * @param telemetry Object encapsulating incoming request and response information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\r\n        if (telemetry.duration || telemetry.error) {\r\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\r\n        }\r\n        if (telemetry && telemetry.request && telemetry.response) {\r\n            ServerRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\r\n     * the specified headers and will log the telemetry when outgoing request is complete\r\n     * @param telemetry Object encapsulating outgoing request information\r\n     */\r\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\r\n        if (telemetry && telemetry.request) {\r\n            ClientRequestTracking.trackRequest(this, telemetry);\r\n        }\r\n        else {\r\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\r\n        }\r\n    };\r\n    return NodeClient;\r\n}(TelemetryClient));\r\nmodule.exports = NodeClient;\r\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar os = require(\"os\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar StreamId = Util.w3cTraceId(); // Create a guid\r\nvar QuickPulseEnvelopeFactory = (function () {\r\n    function QuickPulseEnvelopeFactory() {\r\n    }\r\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\r\n        var machineName = (os && typeof os.hostname === \"function\"\r\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\r\n        var instance = (context.tags\r\n            && context.keys\r\n            && context.keys.cloudRoleInstance\r\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\r\n        var envelope = {\r\n            Documents: documents.length > 0 ? documents : null,\r\n            InstrumentationKey: config.instrumentationKey || \"\",\r\n            Metrics: metrics.length > 0 ? metrics : null,\r\n            InvariantVersion: 1,\r\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\r\n            Version: context.tags[context.keys.internalSdkVersion],\r\n            StreamId: StreamId,\r\n            MachineName: machineName,\r\n            Instance: instance\r\n        };\r\n        return envelope;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\r\n        var data;\r\n        data = {\r\n            Name: telemetry.name,\r\n            Value: telemetry.value,\r\n            Weight: telemetry.count || 1\r\n        };\r\n        return data;\r\n    };\r\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\r\n        switch (envelope.data.baseType) {\r\n            case Contracts.TelemetryTypeString.Event:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Exception:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Trace:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Dependency:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\r\n            case Contracts.TelemetryTypeString.Request:\r\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\r\n        }\r\n        return null;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var name = envelope.data.baseData.name;\r\n        var eventDocument = __assign({}, document, { Name: name });\r\n        return eventDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\r\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\r\n        return traceDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var exceptionDetails = envelope.data.baseData.exceptions;\r\n        var exception = '';\r\n        var exceptionMessage = '';\r\n        var exceptionType = '';\r\n        // Try to fill exception information from first error only\r\n        if (exceptionDetails && exceptionDetails.length > 0) {\r\n            // Try to grab the stack from parsedStack or stack\r\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\r\n                exceptionDetails[0].parsedStack.forEach(function (err) {\r\n                    exception += err.assembly + \"\\n\";\r\n                });\r\n            }\r\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\r\n                exception = exceptionDetails[0].stack;\r\n            }\r\n            exceptionMessage = exceptionDetails[0].message;\r\n            exceptionType = exceptionDetails[0].typeName;\r\n        }\r\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\r\n        return exceptionDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\r\n         });\r\n        return requestDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\r\n        var baseData = envelope.data.baseData;\r\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\r\n        return dependencyDocument;\r\n    };\r\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\r\n        var documentType;\r\n        var __type;\r\n        var operationId, properties;\r\n        if (envelope.data.baseType) {\r\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\r\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\r\n        }\r\n        else {\r\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\r\n            // valid baseType values\r\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\r\n        }\r\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\r\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\r\n        var document = {\r\n            DocumentType: documentType,\r\n            __type: __type,\r\n            OperationId: operationId,\r\n            Version: \"1.0\",\r\n            Properties: properties\r\n        };\r\n        return document;\r\n    };\r\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\r\n        var properties = [];\r\n        // Collect measurements\r\n        var meas = (envelope.data.baseData).measurements || {};\r\n        for (var key in meas) {\r\n            if (meas.hasOwnProperty(key)) {\r\n                var value = meas[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        // Collect properties\r\n        var props = (envelope.data.baseData).properties || {};\r\n        for (var key in props) {\r\n            if (props.hasOwnProperty(key)) {\r\n                var value = props[key];\r\n                var property = { key: key, value: value };\r\n                properties.push(property);\r\n            }\r\n        }\r\n        return properties;\r\n    };\r\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\r\n    return QuickPulseEnvelopeFactory;\r\n}());\r\nmodule.exports = QuickPulseEnvelopeFactory;\r\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\r\nvar https = require(\"https\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Logging = require(\"./Logging\");\r\nvar QuickPulseConfig = {\r\n    method: \"POST\",\r\n    time: \"x-ms-qps-transmission-time\",\r\n    subscribed: \"x-ms-qps-subscribed\"\r\n};\r\nvar QuickPulseSender = (function () {\r\n    function QuickPulseSender(config) {\r\n        this._config = config;\r\n        this._consecutiveErrors = 0;\r\n    }\r\n    QuickPulseSender.prototype.ping = function (envelope, done) {\r\n        this._submitData(envelope, done, \"ping\");\r\n    };\r\n    QuickPulseSender.prototype.post = function (envelope, done) {\r\n        // Important: When POSTing data, envelope must be an array\r\n        this._submitData([envelope], done, \"post\");\r\n    };\r\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\r\n        var _this = this;\r\n        var payload = JSON.stringify(envelope);\r\n        var options = (_a = {},\r\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\r\n            _a.host = this._config.quickPulseHost,\r\n            _a.method = QuickPulseConfig.method,\r\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\r\n            _a.headers = (_b = {\r\n                    'Expect': '100-continue'\r\n                },\r\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\r\n                _b['Content-Type'] = 'application\\/json',\r\n                _b['Content-Length'] = Buffer.byteLength(payload),\r\n                _b),\r\n            _a);\r\n        var req = https.request(options, function (res) {\r\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\r\n            _this._consecutiveErrors = 0;\r\n            done(shouldPOSTData, res);\r\n        });\r\n        req.on(\"error\", function (error) {\r\n            // Unable to contact qps endpoint.\r\n            // Do nothing for now.\r\n            _this._consecutiveErrors++;\r\n            // LOG every error, but WARN instead when X number of consecutive errors occur\r\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\r\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\r\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\r\n                Logging.warn(QuickPulseSender.TAG, notice, error);\r\n            }\r\n            else {\r\n                // Potentially transient error, do not change the ping/post state yet.\r\n                Logging.info(QuickPulseSender.TAG, notice, error);\r\n            }\r\n            done();\r\n        });\r\n        req.write(payload);\r\n        req.end();\r\n        var _a, _b;\r\n    };\r\n    QuickPulseSender.TAG = \"QuickPulseSender\";\r\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\r\n    return QuickPulseSender;\r\n}());\r\nmodule.exports = QuickPulseSender;\r\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\r\nvar Logging = require(\"./Logging\");\r\nvar Config = require(\"./Config\");\r\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\r\nvar QuickPulseSender = require(\"./QuickPulseSender\");\r\nvar Constants = require(\"../Declarations/Constants\");\r\nvar Context = require(\"./Context\");\r\n/** State Container for sending to the QuickPulse Service */\r\nvar QuickPulseStateManager = (function () {\r\n    function QuickPulseStateManager(iKey, context) {\r\n        this._isCollectingData = false;\r\n        this._lastSuccessTime = Date.now();\r\n        this._lastSendSucceeded = true;\r\n        this._metrics = {};\r\n        this._documents = [];\r\n        this._collectors = [];\r\n        this.config = new Config(iKey);\r\n        this.context = context || new Context();\r\n        this._sender = new QuickPulseSender(this.config);\r\n        this._isEnabled = false;\r\n    }\r\n    /**\r\n     *\r\n     * @param collector\r\n     */\r\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\r\n        this._collectors.push(collector);\r\n    };\r\n    /**\r\n     * Override of TelemetryClient.trackMetric\r\n     */\r\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\r\n        this._addMetric(telemetry);\r\n    };\r\n    /**\r\n     * Add a document to the current buffer\r\n     * @param envelope\r\n     */\r\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\r\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\r\n        if (document) {\r\n            this._documents.push(document);\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable communication with QuickPulseService\r\n     * @param isEnabled\r\n     */\r\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\r\n        if (isEnabled && !this._isEnabled) {\r\n            this._isEnabled = true;\r\n            this._goQuickPulse();\r\n        }\r\n        else if (!isEnabled && this._isEnabled) {\r\n            this._isEnabled = false;\r\n            clearTimeout(this._handle);\r\n            this._handle = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Enable or disable all collectors in this instance\r\n     * @param enable\r\n     */\r\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\r\n        this._collectors.forEach(function (collector) {\r\n            collector.enable(enable);\r\n        });\r\n    };\r\n    /**\r\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\r\n     * @param telemetry\r\n     */\r\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\r\n        var value = telemetry.value;\r\n        var count = telemetry.count || 1;\r\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\r\n        if (name) {\r\n            if (this._metrics[name]) {\r\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\r\n                this._metrics[name].Weight += count;\r\n            }\r\n            else {\r\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\r\n                this._metrics[name].Name = name;\r\n                this._metrics[name].Weight = 1;\r\n            }\r\n        }\r\n    };\r\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\r\n        delete this._metrics;\r\n        this._metrics = {};\r\n        this._documents.length = 0;\r\n    };\r\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\r\n        var _this = this;\r\n        // Create envelope from Documents and Metrics\r\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\r\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\r\n        // Clear this document, metric buffer\r\n        this._resetQuickPulseBuffer();\r\n        // Send it to QuickPulseService, if collecting\r\n        if (this._isCollectingData) {\r\n            this._post(envelope);\r\n        }\r\n        else {\r\n            this._ping(envelope);\r\n        }\r\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\r\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\r\n            this._isCollectingData = false;\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        }\r\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\r\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\r\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\r\n        }\r\n        this._lastSendSucceeded = null;\r\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\r\n        this._handle.unref(); // Don't block apps from terminating\r\n    };\r\n    QuickPulseStateManager.prototype._ping = function (envelope) {\r\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\r\n    };\r\n    QuickPulseStateManager.prototype._post = function (envelope) {\r\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\r\n    };\r\n    /**\r\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\r\n     */\r\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\r\n        if (shouldPOST != undefined) {\r\n            if (this._isCollectingData !== shouldPOST) {\r\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\r\n                this.enableCollectors(shouldPOST);\r\n            }\r\n            this._isCollectingData = shouldPOST;\r\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\r\n                this._lastSuccessTime = Date.now();\r\n                this._lastSendSucceeded = true;\r\n            }\r\n            else {\r\n                this._lastSendSucceeded = false;\r\n            }\r\n        }\r\n        else {\r\n            // Received an error, keep the state as is\r\n            this._lastSendSucceeded = false;\r\n        }\r\n    };\r\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\r\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\r\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\r\n    QuickPulseStateManager.PING_INTERVAL = 5000;\r\n    QuickPulseStateManager.POST_INTERVAL = 1000;\r\n    return QuickPulseStateManager;\r\n}());\r\nmodule.exports = QuickPulseStateManager;\r\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\r\nmodule.exports = {\r\n    /**\r\n     * Request-Context header\r\n     */\r\n    requestContextHeader: \"request-context\",\r\n    /**\r\n     * Source instrumentation header that is added by an application while making http\r\n     * requests and retrieved by the other application when processing incoming requests.\r\n     */\r\n    requestContextSourceKey: \"appId\",\r\n    /**\r\n     * Target instrumentation header that is added to the response and retrieved by the\r\n     * calling application when processing incoming responses.\r\n     */\r\n    requestContextTargetKey: \"appId\",\r\n    /**\r\n     * Request-Id header\r\n     */\r\n    requestIdHeader: \"request-id\",\r\n    /**\r\n     * Legacy Header containing the id of the immidiate caller\r\n     */\r\n    parentIdHeader: \"x-ms-request-id\",\r\n    /**\r\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\r\n     * accross transactions\r\n     */\r\n    rootIdHeader: \"x-ms-request-root-id\",\r\n    /**\r\n     * Correlation-Context header\r\n     *\r\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\r\n     */\r\n    correlationContextHeader: \"correlation-context\",\r\n    /**\r\n     * W3C distributed tracing protocol header\r\n     */\r\n    traceparentHeader: \"traceparent\",\r\n    /**\r\n     * W3C distributed tracing protocol state header\r\n     */\r\n    traceStateHeader: \"tracestate\"\r\n};\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","\"use strict\";\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar zlib = require(\"zlib\");\r\nvar child_process = require(\"child_process\");\r\nvar Logging = require(\"./Logging\");\r\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\r\nvar Util = require(\"./Util\");\r\nvar Sender = (function () {\r\n    function Sender(config, onSuccess, onError) {\r\n        this._config = config;\r\n        this._onSuccess = onSuccess;\r\n        this._onError = onError;\r\n        this._enableDiskRetryMode = false;\r\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\r\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\r\n        this._numConsecutiveFailures = 0;\r\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            // Node's chmod levels do not appropriately restrict file access on Windows\r\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\r\n            // access to the temporary directory used for disk retry mode.\r\n            if (Sender.USE_ICACLS) {\r\n                // This should be async - but it's currently safer to have this synchronous\r\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\r\n                try {\r\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\r\n                }\r\n                catch (e) { }\r\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\r\n                }\r\n            }\r\n            else {\r\n                // chmod works everywhere else\r\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n    * Enable or disable offline mode\r\n    */\r\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\r\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\r\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\r\n            this._resendInterval = Math.floor(resendInterval);\r\n        }\r\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\r\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\r\n        }\r\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\r\n            this._enableDiskRetryMode = false;\r\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\r\n        }\r\n    };\r\n    Sender.prototype.send = function (payload, callback) {\r\n        var _this = this;\r\n        var endpointUrl = this._config.endpointUrl;\r\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\r\n        var options = {\r\n            method: \"POST\",\r\n            withCredentials: false,\r\n            headers: {\r\n                \"Content-Type\": \"application/x-json-stream\"\r\n            }\r\n        };\r\n        zlib.gzip(payload, function (err, buffer) {\r\n            var dataToSend = buffer;\r\n            if (err) {\r\n                Logging.warn(err);\r\n                dataToSend = payload; // something went wrong so send without gzip\r\n                options.headers[\"Content-Length\"] = payload.length.toString();\r\n            }\r\n            else {\r\n                options.headers[\"Content-Encoding\"] = \"gzip\";\r\n                options.headers[\"Content-Length\"] = buffer.length;\r\n            }\r\n            Logging.info(Sender.TAG, options);\r\n            // Ensure this request is not captured by auto-collection.\r\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\r\n            var requestCallback = function (res) {\r\n                res.setEncoding(\"utf-8\");\r\n                //returns empty if the data is accepted\r\n                var responseString = \"\";\r\n                res.on(\"data\", function (data) {\r\n                    responseString += data;\r\n                });\r\n                res.on(\"end\", function () {\r\n                    _this._numConsecutiveFailures = 0;\r\n                    Logging.info(Sender.TAG, responseString);\r\n                    if (typeof _this._onSuccess === \"function\") {\r\n                        _this._onSuccess(responseString);\r\n                    }\r\n                    if (typeof callback === \"function\") {\r\n                        callback(responseString);\r\n                    }\r\n                    if (_this._enableDiskRetryMode) {\r\n                        // try to send any cached events if the user is back online\r\n                        if (res.statusCode === 200) {\r\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\r\n                            // store to disk in case of burst throttling\r\n                        }\r\n                        else if (res.statusCode === 408 ||\r\n                            res.statusCode === 429 ||\r\n                            res.statusCode === 439 ||\r\n                            res.statusCode === 500 ||\r\n                            res.statusCode === 503) {\r\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\r\n                            _this._storeToDisk(payload);\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\r\n            req.on(\"error\", function (error) {\r\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\r\n                _this._numConsecutiveFailures++;\r\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\r\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\r\n                // Continue informing on each failure if verbose logging is being used\r\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\r\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\r\n                    if (_this._enableDiskRetryMode) {\r\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\r\n                    }\r\n                    Logging.warn(Sender.TAG, notice, error);\r\n                }\r\n                else {\r\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\r\n                    Logging.info(Sender.TAG, notice, error);\r\n                }\r\n                _this._onErrorHelper(error);\r\n                if (typeof callback === \"function\") {\r\n                    var errorMessage = \"error sending telemetry\";\r\n                    if (error && (typeof error.toString === \"function\")) {\r\n                        errorMessage = error.toString();\r\n                    }\r\n                    callback(errorMessage);\r\n                }\r\n                if (_this._enableDiskRetryMode) {\r\n                    _this._storeToDisk(payload);\r\n                }\r\n            });\r\n            req.write(dataToSend);\r\n            req.end();\r\n        });\r\n    };\r\n    Sender.prototype.saveOnCrash = function (payload) {\r\n        if (this._enableDiskRetryMode) {\r\n            this._storeToDiskSync(payload);\r\n        }\r\n    };\r\n    Sender.prototype._runICACLS = function (args, callback) {\r\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n        aclProc.on(\"error\", function (e) { return callback(e); });\r\n        aclProc.on(\"close\", function (code, signal) {\r\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\r\n        });\r\n    };\r\n    Sender.prototype._runICACLSSync = function (args) {\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\r\n            if (aclProc.error) {\r\n                throw aclProc.error;\r\n            }\r\n            else if (aclProc.status !== 0) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLIdentity = function (callback) {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return callback(null, Sender.ACL_IDENTITY);\r\n        }\r\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n            windowsHide: true,\r\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n        });\r\n        var data = \"\";\r\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\r\n        psProc.on(\"error\", function (e) { return callback(e, null); });\r\n        psProc.on(\"close\", function (code, signal) {\r\n            Sender.ACL_IDENTITY = data && data.trim();\r\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\r\n        });\r\n    };\r\n    Sender.prototype._getACLIdentitySync = function () {\r\n        if (Sender.ACL_IDENTITY) {\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        // Some very old versions of Node (< 0.11) don't have this\r\n        if (child_process.spawnSync) {\r\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\r\n                windowsHide: true,\r\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\r\n            });\r\n            if (psProc.error) {\r\n                throw psProc.error;\r\n            }\r\n            else if (psProc.status !== 0) {\r\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\r\n            }\r\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\r\n            return Sender.ACL_IDENTITY;\r\n        }\r\n        else {\r\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\r\n        }\r\n    };\r\n    Sender.prototype._getACLArguments = function (directory, identity) {\r\n        return [directory,\r\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\r\n            \"/grant\", identity + \":(OI)(CI)F\",\r\n            \"/inheritance:r\"]; // Remove all inherited permissions\r\n    };\r\n    Sender.prototype._applyACLRules = function (directory, callback) {\r\n        var _this = this;\r\n        if (!Sender.USE_ICACLS) {\r\n            return callback(null);\r\n        }\r\n        // For performance, only run ACL rules if we haven't already during this session\r\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\r\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\r\n            // This is better than the alternative of potentially infinitely spawned processes\r\n            Sender.ACLED_DIRECTORIES[directory] = false;\r\n            // Restrict this directory to only current user and administrator access\r\n            this._getACLIdentity(function (err, identity) {\r\n                if (err) {\r\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\r\n                    return callback(err);\r\n                }\r\n                else {\r\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\r\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\r\n                        return callback(err);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\r\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\r\n        }\r\n    };\r\n    Sender.prototype._applyACLRulesSync = function (directory) {\r\n        if (Sender.USE_ICACLS) {\r\n            // For performance, only run ACL rules if we haven't already during this session\r\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\r\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\r\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\r\n                return;\r\n            }\r\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\r\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\r\n            }\r\n        }\r\n    };\r\n    Sender.prototype._confirmDirExists = function (directory, callback) {\r\n        var _this = this;\r\n        fs.lstat(directory, function (err, stats) {\r\n            if (err && err.code === 'ENOENT') {\r\n                fs.mkdir(directory, function (err) {\r\n                    if (err && err.code !== 'EEXIST') {\r\n                        callback(err);\r\n                    }\r\n                    else {\r\n                        _this._applyACLRules(directory, callback);\r\n                    }\r\n                });\r\n            }\r\n            else if (!err && stats.isDirectory()) {\r\n                _this._applyACLRules(directory, callback);\r\n            }\r\n            else {\r\n                callback(err || new Error(\"Path existed but was not a directory\"));\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\r\n        // Get the directory listing\r\n        fs.readdir(directory, function (err, files) {\r\n            if (err) {\r\n                return callback(err, -1);\r\n            }\r\n            var error = null;\r\n            var totalSize = 0;\r\n            var count = 0;\r\n            if (files.length === 0) {\r\n                callback(null, 0);\r\n                return;\r\n            }\r\n            // Query all file sizes\r\n            for (var i = 0; i < files.length; i++) {\r\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\r\n                    count++;\r\n                    if (err) {\r\n                        error = err;\r\n                    }\r\n                    else {\r\n                        if (fileStats.isFile()) {\r\n                            totalSize += fileStats.size;\r\n                        }\r\n                    }\r\n                    if (count === files.length) {\r\n                        // Did we get an error?\r\n                        if (error) {\r\n                            callback(error, -1);\r\n                        }\r\n                        else {\r\n                            callback(error, totalSize);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\r\n     */\r\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\r\n        var files = fs.readdirSync(directory);\r\n        var totalSize = 0;\r\n        for (var i = 0; i < files.length; i++) {\r\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\r\n        }\r\n        return totalSize;\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk in the temp directory\r\n     */\r\n    Sender.prototype._storeToDisk = function (payload) {\r\n        var _this = this;\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        // This will create the dir if it does not exist\r\n        // Default permissions on *nix are directory listing from other users but no file creations\r\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n        this._confirmDirExists(directory, function (error) {\r\n            if (error) {\r\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\r\n                _this._onErrorHelper(error);\r\n                return;\r\n            }\r\n            _this._getShallowDirectorySize(directory, function (err, size) {\r\n                if (err || size < 0) {\r\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\r\n                    _this._onErrorHelper(err);\r\n                    return;\r\n                }\r\n                else if (size > _this._maxBytesOnDisk) {\r\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\r\n                    return;\r\n                }\r\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n                //would require an external dependency\r\n                var fileName = new Date().getTime() + \".ai.json\";\r\n                var fileFullPath = path.join(directory, fileName);\r\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\r\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\r\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\r\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Stores the payload as a json file on disk using sync file operations\r\n     * this is used when storing data before crashes\r\n     */\r\n    Sender.prototype._storeToDiskSync = function (payload) {\r\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\r\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        try {\r\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\r\n            if (!fs.existsSync(directory)) {\r\n                fs.mkdirSync(directory);\r\n            }\r\n            // Make sure permissions are valid\r\n            this._applyACLRulesSync(directory);\r\n            var dirSize = this._getShallowDirectorySizeSync(directory);\r\n            if (dirSize > this._maxBytesOnDisk) {\r\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\r\n                return;\r\n            }\r\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\r\n            //would require an external dependency\r\n            var fileName = new Date().getTime() + \".ai.json\";\r\n            var fileFullPath = path.join(directory, fileName);\r\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\r\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\r\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\r\n        }\r\n        catch (error) {\r\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\r\n            this._onErrorHelper(error);\r\n        }\r\n    };\r\n    /**\r\n     * Check for temp telemetry files\r\n     * reads the first file if exist, deletes it and tries to send its load\r\n     */\r\n    Sender.prototype._sendFirstFileOnDisk = function () {\r\n        var _this = this;\r\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\r\n        fs.exists(tempDir, function (exists) {\r\n            if (exists) {\r\n                fs.readdir(tempDir, function (error, files) {\r\n                    if (!error) {\r\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\r\n                        if (files.length > 0) {\r\n                            var firstFile = files[0];\r\n                            var filePath = path.join(tempDir, firstFile);\r\n                            fs.readFile(filePath, function (error, payload) {\r\n                                if (!error) {\r\n                                    // delete the file first to prevent double sending\r\n                                    fs.unlink(filePath, function (error) {\r\n                                        if (!error) {\r\n                                            _this.send(payload);\r\n                                        }\r\n                                        else {\r\n                                            _this._onErrorHelper(error);\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    _this._onErrorHelper(error);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this._onErrorHelper(error);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    Sender.prototype._onErrorHelper = function (error) {\r\n        if (typeof this._onError === \"function\") {\r\n            this._onError(error);\r\n        }\r\n    };\r\n    Sender.TAG = \"Sender\";\r\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\r\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\r\n    Sender.ACLED_DIRECTORIES = {};\r\n    Sender.ACL_IDENTITY = null;\r\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\r\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\r\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\r\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\r\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\r\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\r\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\r\n    return Sender;\r\n}());\r\nmodule.exports = Sender;\r\n//# sourceMappingURL=Sender.js.map","\"use strict\";\r\nvar url = require(\"url\");\r\nvar Config = require(\"./Config\");\r\nvar Context = require(\"./Context\");\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\nvar Channel = require(\"./Channel\");\r\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\r\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\r\nvar Sender = require(\"./Sender\");\r\nvar Util = require(\"./Util\");\r\nvar Logging = require(\"./Logging\");\r\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\r\n/**\r\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\r\n * and manually trigger immediate sending (flushing)\r\n */\r\nvar TelemetryClient = (function () {\r\n    /**\r\n     * Constructs a new client of the client\r\n     * @param iKey the instrumentation key to use (read from environment variable if not specified)\r\n     */\r\n    function TelemetryClient(iKey) {\r\n        this._telemetryProcessors = [];\r\n        var config = new Config(iKey);\r\n        this.config = config;\r\n        this.context = new Context();\r\n        this.commonProperties = {};\r\n        var sender = new Sender(this.config);\r\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\r\n    }\r\n    /**\r\n     * Log a trace message\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Trace);\r\n    };\r\n    /**\r\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\r\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\r\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Metric);\r\n    };\r\n    /**\r\n     * Log an exception\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackException = function (telemetry) {\r\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\r\n            telemetry.exception = new Error(telemetry.exception.toString());\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Exception);\r\n    };\r\n    /**\r\n     * Log a user action or other occurrence.\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Event);\r\n    };\r\n    /**\r\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\r\n     * that aren't automatically captured or if you've disabled automatic request collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking options\r\n     */\r\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\r\n        this.track(telemetry, Contracts.TelemetryType.Request);\r\n    };\r\n    /**\r\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\r\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\r\n     *\r\n     * @param telemetry      Object encapsulating tracking option\r\n     * */\r\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\r\n        if (telemetry && !telemetry.target && telemetry.data) {\r\n            // url.parse().host returns null for non-urls,\r\n            // making this essentially a no-op in those cases\r\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\r\n            telemetry.target = url.parse(telemetry.data).host;\r\n        }\r\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\r\n    };\r\n    /**\r\n     * Immediately send all queued telemetry.\r\n     * @param options Flush options, including indicator whether app is crashing and callback\r\n     */\r\n    TelemetryClient.prototype.flush = function (options) {\r\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\r\n    };\r\n    /**\r\n     * Generic track method for all telemetry types\r\n     * @param data the telemetry to send\r\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\r\n     */\r\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\r\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\r\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\r\n            // Set time on the envelope if it was set on the telemetry item\r\n            if (telemetry.time) {\r\n                envelope.time = telemetry.time.toISOString();\r\n            }\r\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\r\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\r\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\r\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\r\n            TelemetryProcessors.quickPulseTelemetryProcessor(envelope, this.quickPulseClient);\r\n            if (accepted) {\r\n                this.channel.send(envelope);\r\n            }\r\n        }\r\n        else {\r\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\r\n        }\r\n    };\r\n    /**\r\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\r\n     * before telemetry item is pushed for sending and in the order they were added.\r\n     *\r\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\r\n     */\r\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\r\n        this._telemetryProcessors.push(telemetryProcessor);\r\n    };\r\n    /*\r\n     * Removes all telemetry processors\r\n     */\r\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\r\n        this._telemetryProcessors = [];\r\n    };\r\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\r\n        var accepted = true;\r\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\r\n        if (telemetryProcessorsCount === 0) {\r\n            return accepted;\r\n        }\r\n        contextObjects = contextObjects || {};\r\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\r\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\r\n            try {\r\n                var processor = this._telemetryProcessors[i];\r\n                if (processor) {\r\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\r\n                        accepted = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                accepted = true;\r\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\r\n            }\r\n        }\r\n        return accepted;\r\n    };\r\n    return TelemetryClient;\r\n}());\r\nmodule.exports = TelemetryClient;\r\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\r\nvar Util = require(\"./Util\");\r\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\r\n/**\r\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\r\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\r\n * https://www.w3.org/TR/trace-context/#traceparent-field\r\n */\r\nvar Traceparent = (function () {\r\n    function Traceparent(traceparent, parentId) {\r\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\r\n        this.version = Traceparent.DEFAULT_VERSION;\r\n        if (traceparent && typeof traceparent === \"string\") {\r\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\r\n            if (traceparent.split(\",\").length > 1) {\r\n                this.traceId = Util.w3cTraceId();\r\n                this.spanId = Util.w3cTraceId().substr(0, 16);\r\n            }\r\n            else {\r\n                var traceparentArr = traceparent.trim().split(\"-\");\r\n                var len = traceparentArr.length;\r\n                if (len >= 4) {\r\n                    this.version = traceparentArr[0];\r\n                    this.traceId = traceparentArr[1];\r\n                    this.spanId = traceparentArr[2];\r\n                    this.traceFlag = traceparentArr[3];\r\n                }\r\n                else {\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                // Version validation\r\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                if (this.version === \"00\" && len !== 4) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (this.version === \"ff\") {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                }\r\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\r\n                    this.version = Traceparent.DEFAULT_VERSION;\r\n                }\r\n                // TraceFlag validation\r\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\r\n                    this.traceFlag = Traceparent.DEFAULT_VERSION;\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate TraceId, regenerate new traceid if invalid\r\n                if (!Traceparent.isValidTraceId(this.traceId)) {\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Validate Span Id, discard entire traceparent if invalid\r\n                if (!Traceparent.isValidSpanId(this.spanId)) {\r\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\r\n                    this.traceId = Util.w3cTraceId();\r\n                }\r\n                // Save backCompat parentId\r\n                this.parentId = this.getBackCompatRequestId();\r\n            }\r\n        }\r\n        else if (parentId) {\r\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\r\n            this.parentId = parentId.slice(); // copy\r\n            var operationId = CorrelationIdManager.getRootId(parentId);\r\n            if (!Traceparent.isValidTraceId(operationId)) {\r\n                this.legacyRootId = operationId;\r\n                operationId = Util.w3cTraceId();\r\n            }\r\n            if (parentId.indexOf(\"|\") !== -1) {\r\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\r\n            }\r\n            this.traceId = operationId;\r\n            this.spanId = parentId;\r\n        }\r\n        else {\r\n            // Fallback default constructor\r\n            // if request does not contain any correlation headers, see case p2\r\n            this.traceId = Util.w3cTraceId();\r\n            this.spanId = Util.w3cTraceId().substr(0, 16);\r\n        }\r\n    }\r\n    Traceparent.isValidTraceId = function (id) {\r\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    Traceparent.isValidSpanId = function (id) {\r\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\r\n    };\r\n    Traceparent.prototype.getBackCompatRequestId = function () {\r\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\r\n    };\r\n    Traceparent.prototype.toString = function () {\r\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\r\n    };\r\n    Traceparent.prototype.updateSpanId = function () {\r\n        this.spanId = Util.w3cTraceId().substr(0, 16);\r\n    };\r\n    Traceparent.DEFAULT_TRACE_FLAG = \"00\";\r\n    Traceparent.DEFAULT_VERSION = \"00\";\r\n    return Traceparent;\r\n}());\r\nmodule.exports = Traceparent;\r\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\r\n/**\r\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\r\n * is documented at https://www.w3.org/TR/trace-context/#header-value\r\n * @class Tracestate\r\n */\r\nvar Tracestate = (function () {\r\n    // if true, performs strict tracestate header checking, else just passes it along\r\n    function Tracestate(id) {\r\n        this.fieldmap = [];\r\n        if (!id) {\r\n            return;\r\n        }\r\n        this.fieldmap = this.parseHeader(id);\r\n    }\r\n    Tracestate.prototype.toString = function () {\r\n        var fieldarr = this.fieldmap;\r\n        if (!fieldarr || fieldarr.length == 0) {\r\n            return null;\r\n        }\r\n        return fieldarr.join(\", \");\r\n    };\r\n    Tracestate.validateKeyChars = function (key) {\r\n        var keyParts = key.split(\"@\");\r\n        if (keyParts.length == 2) {\r\n            // Parse for tenant@vendor format\r\n            var tenant = keyParts[0].trim();\r\n            var vendor = keyParts[1].trim();\r\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\r\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\r\n            return tenantValid && vendorValid;\r\n        }\r\n        else if (keyParts.length == 1) {\r\n            // Parse for standard key format\r\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\r\n        }\r\n        return false;\r\n    };\r\n    Tracestate.prototype.parseHeader = function (id) {\r\n        var res = [];\r\n        var keydeduper = {};\r\n        var parts = id.split(\",\");\r\n        if (parts.length > 32)\r\n            return null;\r\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\r\n            var rawPart = parts_1[_i];\r\n            var part = rawPart.trim(); // trim out whitespace\r\n            if (part.length === 0) {\r\n                continue; // Discard empty pairs, but keep the rest of this tracestate\r\n            }\r\n            var pair = part.split(\"=\");\r\n            // pair should contain exactly one \"=\"\r\n            if (pair.length !== 2) {\r\n                return null; // invalid pair: discard entire tracestate\r\n            }\r\n            // Validate length and charset of this key\r\n            if (!Tracestate.validateKeyChars(pair[0])) {\r\n                return null;\r\n            }\r\n            // Assert uniqueness of this key\r\n            if (keydeduper[pair[0]]) {\r\n                return null; // duplicate key: discard entire tracestate\r\n            }\r\n            else {\r\n                keydeduper[pair[0]] = true;\r\n            }\r\n            // All checks passed -- add this part\r\n            res.push(part);\r\n        }\r\n        return res;\r\n    };\r\n    Tracestate.strict = true;\r\n    return Tracestate;\r\n}());\r\nmodule.exports = Tracestate;\r\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar url = require(\"url\");\r\nvar constants = require(\"constants\");\r\nvar Logging = require(\"./Logging\");\r\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\r\nvar Util = (function () {\r\n    function Util() {\r\n    }\r\n    /**\r\n     * helper method to access userId and sessionId cookie\r\n     */\r\n    Util.getCookie = function (name, cookie) {\r\n        var value = \"\";\r\n        if (name && name.length && typeof cookie === \"string\") {\r\n            var cookieName = name + \"=\";\r\n            var cookies = cookie.split(\";\");\r\n            for (var i = 0; i < cookies.length; i++) {\r\n                var cookie = cookies[i];\r\n                cookie = Util.trim(cookie);\r\n                if (cookie && cookie.indexOf(cookieName) === 0) {\r\n                    value = cookie.substring(cookieName.length, cookies[i].length);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\r\n     */\r\n    Util.trim = function (str) {\r\n        if (typeof str === \"string\") {\r\n            return str.replace(/^\\s+|\\s+$/g, \"\");\r\n        }\r\n        else {\r\n            return \"\";\r\n        }\r\n    };\r\n    /**\r\n     * Convert an array of int32 to Base64 (no '==' at the end).\r\n     * MSB first.\r\n     */\r\n    Util.int32ArrayToBase64 = function (array) {\r\n        var toChar = function (v, i) {\r\n            return String.fromCharCode((v >> i) & 0xFF);\r\n        };\r\n        var int32AsString = function (v) {\r\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\r\n        };\r\n        var x = array.map(int32AsString).join(\"\");\r\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\r\n        var s = b.toString(\"base64\");\r\n        return s.substr(0, s.indexOf(\"=\"));\r\n    };\r\n    /**\r\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\r\n     */\r\n    Util.random32 = function () {\r\n        return (0x100000000 * Math.random()) | 0;\r\n    };\r\n    /**\r\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\r\n     */\r\n    Util.randomu32 = function () {\r\n        return Util.random32() + 0x80000000;\r\n    };\r\n    /**\r\n     * generate W3C-compatible trace id\r\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\r\n     */\r\n    Util.w3cTraceId = function () {\r\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n        var oct = \"\", tmp;\r\n        for (var a = 0; a < 4; a++) {\r\n            tmp = Util.random32();\r\n            oct +=\r\n                hexValues[tmp & 0xF] +\r\n                    hexValues[tmp >> 4 & 0xF] +\r\n                    hexValues[tmp >> 8 & 0xF] +\r\n                    hexValues[tmp >> 12 & 0xF] +\r\n                    hexValues[tmp >> 16 & 0xF] +\r\n                    hexValues[tmp >> 20 & 0xF] +\r\n                    hexValues[tmp >> 24 & 0xF] +\r\n                    hexValues[tmp >> 28 & 0xF];\r\n        }\r\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\r\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\r\n    };\r\n    Util.isValidW3CId = function (id) {\r\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Array\r\n     */\r\n    Util.isArray = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Error\r\n     */\r\n    Util.isError = function (obj) {\r\n        return obj instanceof Error;\r\n    };\r\n    Util.isPrimitive = function (input) {\r\n        var propType = typeof input;\r\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\r\n    };\r\n    /**\r\n     * Check if an object is of type Date\r\n     */\r\n    Util.isDate = function (obj) {\r\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\r\n    };\r\n    /**\r\n     * Convert ms to c# time span format\r\n     */\r\n    Util.msToTimeSpan = function (totalms) {\r\n        if (isNaN(totalms) || totalms < 0) {\r\n            totalms = 0;\r\n        }\r\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\r\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\r\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\r\n        min = min.length < 2 ? \"0\" + min : min;\r\n        hour = hour.length < 2 ? \"0\" + hour : hour;\r\n        var daysText = days > 0 ? days + \".\" : \"\";\r\n        return daysText + hour + \":\" + min + \":\" + sec;\r\n    };\r\n    /**\r\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\r\n     * Simplify a generic Node Error into a simpler map for customDimensions\r\n     * Custom errors can still implement toJSON to override this functionality\r\n     */\r\n    Util.extractError = function (err) {\r\n        // Error is often subclassed so may have code OR id properties:\r\n        // https://nodejs.org/api/errors.html#errors_error_code\r\n        var looseError = err;\r\n        return {\r\n            message: err.message,\r\n            code: looseError.code || looseError.id || \"\",\r\n        };\r\n    };\r\n    /**\r\n     * Manually call toJSON if available to pre-convert the value.\r\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\r\n     * This avoids double escaping of quotes for Date objects, for example.\r\n     */\r\n    Util.extractObject = function (origProperty) {\r\n        if (origProperty instanceof Error) {\r\n            return Util.extractError(origProperty);\r\n        }\r\n        if (typeof origProperty.toJSON === \"function\") {\r\n            return origProperty.toJSON();\r\n        }\r\n        return origProperty;\r\n    };\r\n    /**\r\n     * Validate that an object is of type { [key: string]: string }\r\n     */\r\n    Util.validateStringMap = function (obj) {\r\n        if (typeof obj !== \"object\") {\r\n            Logging.info(\"Invalid properties dropped from payload\");\r\n            return;\r\n        }\r\n        var map = {};\r\n        for (var field in obj) {\r\n            var property = '';\r\n            var origProperty = obj[field];\r\n            var propType = typeof origProperty;\r\n            if (Util.isPrimitive(origProperty)) {\r\n                property = origProperty.toString();\r\n            }\r\n            else if (origProperty === null || propType === \"undefined\") {\r\n                property = \"\";\r\n            }\r\n            else if (propType === \"function\") {\r\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\r\n                continue;\r\n            }\r\n            else {\r\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\r\n                try {\r\n                    if (Util.isPrimitive(stringTarget)) {\r\n                        property = stringTarget;\r\n                    }\r\n                    else {\r\n                        property = JSON.stringify(stringTarget);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\r\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\r\n                }\r\n            }\r\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\r\n        }\r\n        return map;\r\n    };\r\n    /**\r\n     * Checks if a request url is not on a excluded domain list\r\n     * and if it is safe to add correlation headers\r\n     */\r\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\r\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\r\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\r\n            return true;\r\n        }\r\n        for (var i = 0; i < excludedDomains.length; i++) {\r\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\r\n            if (regex.test(url.parse(requestUrl).hostname)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Util.getCorrelationContextTarget = function (response, key) {\r\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\r\n        if (contextHeaders) {\r\n            var keyValues = contextHeaders.split(\",\");\r\n            for (var i = 0; i < keyValues.length; ++i) {\r\n                var keyValue = keyValues[i].split(\"=\");\r\n                if (keyValue.length == 2 && keyValue[0] == key) {\r\n                    return keyValue[1];\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Generate request\r\n     *\r\n     * Proxify the request creation to handle proxy http\r\n     *\r\n     * @param {string} requestUrl url endpoint\r\n     * @param {Object} requestOptions Request option\r\n     * @param {Function} requestCallback callback on request\r\n     * @returns {http.ClientRequest} request object\r\n     */\r\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\r\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\r\n            requestUrl = 'https:' + requestUrl;\r\n        }\r\n        var requestUrlParsed = url.parse(requestUrl);\r\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\r\n        var proxyUrl = undefined;\r\n        if (requestUrlParsed.protocol === 'https:') {\r\n            proxyUrl = config.proxyHttpsUrl || undefined;\r\n        }\r\n        if (requestUrlParsed.protocol === 'http:') {\r\n            proxyUrl = config.proxyHttpUrl || undefined;\r\n        }\r\n        if (proxyUrl) {\r\n            if (proxyUrl.indexOf('//') === 0) {\r\n                proxyUrl = 'http:' + proxyUrl;\r\n            }\r\n            var proxyUrlParsed = url.parse(proxyUrl);\r\n            // https is not supported at the moment\r\n            if (proxyUrlParsed.protocol === 'https:') {\r\n                Logging.info(\"Proxies that use HTTPS are not supported\");\r\n                proxyUrl = undefined;\r\n            }\r\n            else {\r\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\r\n            }\r\n        }\r\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\r\n        if (isHttps && config.httpsAgent !== undefined) {\r\n            options.agent = config.httpsAgent;\r\n        }\r\n        else if (!isHttps && config.httpAgent !== undefined) {\r\n            options.agent = config.httpAgent;\r\n        }\r\n        else if (isHttps) {\r\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\r\n            options.agent = Util.tlsRestrictedAgent;\r\n        }\r\n        if (isHttps) {\r\n            return https.request(options, requestCallback);\r\n        }\r\n        else {\r\n            return http.request(options, requestCallback);\r\n        }\r\n    };\r\n    ;\r\n    /**\r\n     * Parse standard <string | string[] | number> request-context header\r\n     */\r\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\r\n        var header; // attempt to cast correlationHeader to string\r\n        if (typeof correlationHeader === \"string\") {\r\n            header = correlationHeader;\r\n        }\r\n        else if (correlationHeader instanceof Array) {\r\n            header = correlationHeader.join(\",\");\r\n        }\r\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\r\n            // best effort attempt: requires well-defined toString\r\n            try {\r\n                header = correlationHeader.toString();\r\n            }\r\n            catch (err) {\r\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\r\n            }\r\n        }\r\n        if (header) {\r\n            Util.addCorrelationIdHeaderFromString(client, request, header);\r\n        }\r\n        else {\r\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\r\n        var components = correlationHeader.split(\",\");\r\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\r\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\r\n        if (!found) {\r\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\r\n        }\r\n    };\r\n    Util.MAX_PROPERTY_LENGTH = 8192;\r\n    Util.tlsRestrictedAgent = new https.Agent({\r\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\r\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\r\n    });\r\n    return Util;\r\n}());\r\nmodule.exports = Util;\r\n//# sourceMappingURL=Util.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\r\nfunction quickPulseTelemetryProcessor(envelope, client) {\r\n    if (client) {\r\n        client.addDocument(envelope);\r\n        // Increment rate counters\r\n        switch (envelope.data.baseType) {\r\n            case \"ExceptionData\":\r\n                AutoCollectPerformance.countException();\r\n                break;\r\n            case \"RequestData\":\r\n                // These are already autocounted by HttpRequest.\r\n                // Note: Not currently counting manual trackRequest calls\r\n                // here to avoid affecting existing autocollection metrics\r\n                break;\r\n            case \"RemoteDependencyData\":\r\n                var baseData = envelope.data.baseData;\r\n                AutoCollectPerformance.countDependency(baseData.duration, baseData.success);\r\n                break;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.quickPulseTelemetryProcessor = quickPulseTelemetryProcessor;\r\n//# sourceMappingURL=QuickPulseTelemetryProcessor.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Contracts = require(\"../Declarations/Contracts\");\r\n/**\r\n *  A telemetry processor that handles sampling.\r\n */\r\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\r\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\r\n    var isSampledIn = false;\r\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n        return true;\r\n    }\r\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\r\n        // Exclude MetricData telemetry from sampling\r\n        return true;\r\n    }\r\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\r\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\r\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\r\n    }\r\n    else {\r\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\r\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\r\n    }\r\n    return isSampledIn;\r\n}\r\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\r\n/** Ported from AI .NET SDK */\r\nfunction getSamplingHashCode(input) {\r\n    var csharpMin = -2147483648;\r\n    var csharpMax = 2147483647;\r\n    var hash = 5381;\r\n    if (!input) {\r\n        return 0;\r\n    }\r\n    while (input.length < 8) {\r\n        input = input + input;\r\n    }\r\n    for (var i = 0; i < input.length; i++) {\r\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\r\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\r\n    }\r\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\r\n    return (hash / csharpMax) * 100;\r\n}\r\nexports.getSamplingHashCode = getSamplingHashCode;\r\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./SamplingTelemetryProcessor\"));\r\n__export(require(\"./QuickPulseTelemetryProcessor\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\r\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\r\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\r\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\r\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\r\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\r\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\r\nvar Logging = require(\"./Library/Logging\");\r\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\r\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\r\n// We export these imports so that SDK users may use these classes directly.\r\n// They're exposed using \"export import\" so that types are passed along as expected\r\nexports.TelemetryClient = require(\"./Library/NodeClient\");\r\nexports.Contracts = require(\"./Declarations/Contracts\");\r\nvar DistributedTracingModes;\r\n(function (DistributedTracingModes) {\r\n    /**\r\n     * (Default) Send Application Insights correlation headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\r\n    /**\r\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\r\n     */\r\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\r\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\r\n// Default autocollection configuration\r\nvar _isConsole = true;\r\nvar _isConsoleLog = false;\r\nvar _isExceptions = true;\r\nvar _isPerformance = true;\r\nvar _isRequests = true;\r\nvar _isDependencies = true;\r\nvar _isDiskRetry = true;\r\nvar _isCorrelating = true;\r\nvar _forceClsHooked;\r\nvar _isSendingLiveMetrics = false; // Off by default\r\nvar _isNativePerformance = true;\r\nvar _disabledExtendedMetrics;\r\nvar _diskRetryInterval = undefined;\r\nvar _diskRetryMaxBytes = undefined;\r\nvar _console;\r\nvar _exceptions;\r\nvar _performance;\r\nvar _nativePerformance;\r\nvar _serverRequests;\r\nvar _clientRequests;\r\nvar _isStarted = false;\r\nvar _performanceLiveMetrics;\r\n/**\r\n * Initializes the default client. Should be called after setting\r\n * configuration options.\r\n *\r\n * @param instrumentationKey the instrumentation key to use. Optional, if\r\n * this is not specified, the value will be read from the environment\r\n * variable APPINSIGHTS_INSTRUMENTATIONKEY.\r\n * @returns {Configuration} the configuration class to initialize\r\n * and start the SDK.\r\n */\r\nfunction setup(instrumentationKey) {\r\n    if (!exports.defaultClient) {\r\n        exports.defaultClient = new exports.TelemetryClient(instrumentationKey);\r\n        _console = new AutoCollectConsole(exports.defaultClient);\r\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\r\n        _performance = new AutoCollectPerformance(exports.defaultClient);\r\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\r\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\r\n        if (!_nativePerformance) {\r\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\r\n        }\r\n    }\r\n    else {\r\n        Logging.info(\"The default client is already setup\");\r\n    }\r\n    if (exports.defaultClient && exports.defaultClient.channel) {\r\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\r\n    }\r\n    return Configuration;\r\n}\r\nexports.setup = setup;\r\n/**\r\n * Starts automatic collection of telemetry. Prior to calling start no\r\n * telemetry will be *automatically* collected, though manual collection\r\n * is enabled.\r\n * @returns {ApplicationInsights} this class\r\n */\r\nfunction start() {\r\n    if (!!exports.defaultClient) {\r\n        _isStarted = true;\r\n        _console.enable(_isConsole, _isConsoleLog);\r\n        _exceptions.enable(_isExceptions);\r\n        _performance.enable(_isPerformance);\r\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\r\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\r\n        _serverRequests.enable(_isRequests);\r\n        _clientRequests.enable(_isDependencies);\r\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\r\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\r\n        }\r\n    }\r\n    else {\r\n        Logging.warn(\"Start cannot be called before setup\");\r\n    }\r\n    return Configuration;\r\n}\r\nexports.start = start;\r\n/**\r\n * Returns an object that is shared across all code handling a given request.\r\n * This can be used similarly to thread-local storage in other languages.\r\n * Properties set on this object will be available to telemetry processors.\r\n *\r\n * Do not store sensitive information here.\r\n * Custom properties set on this object can be exposed in a future SDK\r\n * release via outgoing HTTP headers.\r\n * This is to allow for correlating data cross-component.\r\n *\r\n * This method will return null if automatic dependency correlation is disabled.\r\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\r\n */\r\nfunction getCorrelationContext() {\r\n    if (_isCorrelating) {\r\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\r\n    }\r\n    return null;\r\n}\r\nexports.getCorrelationContext = getCorrelationContext;\r\n/**\r\n * Returns a function that will get the same correlation context within its\r\n * function body as the code executing this function.\r\n * Use this method if automatic dependency correlation is not propagating\r\n * correctly to an asynchronous callback.\r\n */\r\nfunction wrapWithCorrelationContext(fn) {\r\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\r\n}\r\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\r\n/**\r\n * The active configuration for global SDK behaviors, such as autocollection.\r\n */\r\nvar Configuration = (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\r\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\r\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\r\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\r\n     * services. Default=AI\r\n    */\r\n    Configuration.setDistributedTracingMode = function (value) {\r\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\r\n     * @param value if true logger activity will be sent to Application Insights\r\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\r\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\r\n        _isConsole = value;\r\n        _isConsoleLog = collectConsoleLog;\r\n        if (_isStarted) {\r\n            _console.enable(value, collectConsoleLog);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of exception tracking (enabled by default)\r\n     * @param value if true uncaught exceptions will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectExceptions = function (value) {\r\n        _isExceptions = value;\r\n        if (_isStarted) {\r\n            _exceptions.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of performance tracking (enabled by default)\r\n     * @param value if true performance counters will be collected every second and sent to Application Insights\r\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\r\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\r\n        _isPerformance = value;\r\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\r\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\r\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\r\n        if (_isStarted) {\r\n            _performance.enable(value);\r\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of request tracking (enabled by default)\r\n     * @param value if true requests will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectRequests = function (value) {\r\n        _isRequests = value;\r\n        if (_isStarted) {\r\n            _serverRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of dependency tracking (enabled by default)\r\n     * @param value if true dependencies will be sent to Application Insights\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoCollectDependencies = function (value) {\r\n        _isDependencies = value;\r\n        if (_isStarted) {\r\n            _clientRequests.enable(value);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Sets the state of automatic dependency correlation (enabled by default)\r\n     * @param value if true dependencies will be correlated with requests\r\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\r\n        _isCorrelating = value;\r\n        _forceClsHooked = useAsyncHooks;\r\n        if (_isStarted) {\r\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\r\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\r\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\r\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\r\n     * @param value if true events that occured while client is offline will be cached on disk\r\n     * @param resendInterval The wait interval for resending cached events.\r\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\r\n        _isDiskRetry = value;\r\n        _diskRetryInterval = resendInterval;\r\n        _diskRetryMaxBytes = maxBytesOnDisk;\r\n        if (exports.defaultClient && exports.defaultClient.channel) {\r\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\r\n        }\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables debug and warning logging for AppInsights itself.\r\n     * @param enableDebugLogging if true, enables debug logging\r\n     * @param enableWarningLogging if true, enables warning logging\r\n     * @returns {Configuration} this class\r\n     */\r\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\r\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\r\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\r\n        Logging.enableDebug = enableDebugLogging;\r\n        Logging.disableWarnings = !enableWarningLogging;\r\n        return Configuration;\r\n    };\r\n    /**\r\n     * Enables communication with Application Insights Live Metrics.\r\n     * @param enable if true, enables communication with the live metrics service\r\n     */\r\n    Configuration.setSendLiveMetrics = function (enable) {\r\n        if (enable === void 0) { enable = false; }\r\n        if (!exports.defaultClient) {\r\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\r\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\r\n            return Configuration;\r\n        }\r\n        if (!exports.liveMetricsClient) {\r\n            // No qps client exists. Create one and prepare it to be enabled at .start()\r\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\r\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\r\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\r\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via quickPulseTelemetryProcessor\r\n            _isSendingLiveMetrics = enable;\r\n        }\r\n        else {\r\n            // qps client already exists; enable/disable it\r\n            exports.liveMetricsClient.enable(enable);\r\n        }\r\n        return Configuration;\r\n    };\r\n    // Convenience shortcut to ApplicationInsights.start\r\n    Configuration.start = start;\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\n/**\r\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\r\n*/\r\nfunction dispose() {\r\n    exports.defaultClient = null;\r\n    _isStarted = false;\r\n    if (_console) {\r\n        _console.dispose();\r\n    }\r\n    if (_exceptions) {\r\n        _exceptions.dispose();\r\n    }\r\n    if (_performance) {\r\n        _performance.dispose();\r\n    }\r\n    if (_nativePerformance) {\r\n        _nativePerformance.dispose();\r\n    }\r\n    if (_serverRequests) {\r\n        _serverRequests.dispose();\r\n    }\r\n    if (_clientRequests) {\r\n        _clientRequests.dispose();\r\n    }\r\n}\r\nexports.dispose = dispose;\r\n//# sourceMappingURL=applicationinsights.js.map","var Module=void 0!==Module?Module:{};!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?module.exports=t():window.TreeSitter=t()}(0,function(){var e,t={};for(e in Module)Module.hasOwnProperty(e)&&(t[e]=Module[e]);var r,n,s=[],o=\"./this.program\",_=function(e,t){throw t},a=!1,u=!1;a=\"object\"==typeof window,u=\"function\"==typeof importScripts,r=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,n=!a&&!r&&!u;var i,l,d,c,m,f=\"\";r?(f=u?require(\"path\").dirname(f)+\"/\":__dirname+\"/\",i=function(e,t){return c||(c=require(\"fs\")),m||(m=require(\"path\")),e=m.normalize(e),c.readFileSync(e,t?null:\"utf8\")},d=function(e){var t=i(e,!0);return t.buffer||(t=new Uint8Array(t)),N(t.buffer),t},process.argv.length>1&&(o=process.argv[1].replace(/\\\\/g,\"/\")),s=process.argv.slice(2),\"undefined\"!=typeof module&&(module.exports=Module),_=function(e){process.exit(e)},Module.inspect=function(){return\"[Emscripten Module object]\"}):n?(\"undefined\"!=typeof read&&(i=function(e){return read(e)}),d=function(e){var t;return\"function\"==typeof readbuffer?new Uint8Array(readbuffer(e)):(N(\"object\"==typeof(t=read(e,\"binary\"))),t)},\"undefined\"!=typeof scriptArgs?s=scriptArgs:void 0!==arguments&&(s=arguments),\"function\"==typeof quit&&(_=function(e){quit(e)}),\"undefined\"!=typeof print&&(\"undefined\"==typeof console&&(console={}),console.log=print,console.warn=console.error=\"undefined\"!=typeof printErr?printErr:print)):(a||u)&&(u?f=self.location.href:\"undefined\"!=typeof document&&document.currentScript&&(f=document.currentScript.src),f=0!==f.indexOf(\"blob:\")?f.substr(0,f.lastIndexOf(\"/\")+1):\"\",i=function(e){var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.send(null),t.responseText},u&&(d=function(e){var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.responseType=\"arraybuffer\",t.send(null),new Uint8Array(t.response)}),l=function(e,t,r){var n=new XMLHttpRequest;n.open(\"GET\",e,!0),n.responseType=\"arraybuffer\",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});Module.print||console.log.bind(console);var p=Module.printErr||console.warn.bind(console);for(e in t)t.hasOwnProperty(e)&&(Module[e]=t[e]);t=null,Module.arguments&&(s=Module.arguments),Module.thisProgram&&(o=Module.thisProgram),Module.quit&&(_=Module.quit);var h=16;var g,w=[];function M(e,t){if(!g){g=new WeakMap;for(var r=0;r<H.length;r++){var n=H.get(r);n&&g.set(n,r)}}if(g.has(e))return g.get(e);var s=function(){if(w.length)return w.pop();try{H.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\"}return H.length-1}();try{H.set(s,e)}catch(r){if(!(r instanceof TypeError))throw r;var o=function(e,t){if(\"function\"==typeof WebAssembly.Function){for(var r={i:\"i32\",j:\"i64\",f:\"f32\",d:\"f64\"},n={parameters:[],results:\"v\"==t[0]?[]:[r[t[0]]]},s=1;s<t.length;++s)n.parameters.push(r[t[s]]);return new WebAssembly.Function(n,e)}var o=[1,0,1,96],_=t.slice(0,1),a=t.slice(1),u={i:127,j:126,f:125,d:124};for(o.push(a.length),s=0;s<a.length;++s)o.push(u[a[s]]);\"v\"==_?o.push(0):o=o.concat([1,u[_]]),o[1]=o.length-2;var i=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(i);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);H.set(s,o)}return g.set(e,s),s}var y,b=function(e){e},E=Module.dynamicLibraries||[];Module.wasmBinary&&(y=Module.wasmBinary);var v,I=Module.noExitRuntime||!0;function S(e,t,r,n){switch(\"*\"===(r=r||\"i8\").charAt(r.length-1)&&(r=\"i32\"),r){case\"i1\":case\"i8\":C[e>>0]=t;break;case\"i16\":R[e>>1]=t;break;case\"i32\":T[e>>2]=t;break;case\"i64\":ie=[t>>>0,(ue=t,+Math.abs(ue)>=1?ue>0?(0|Math.min(+Math.floor(ue/4294967296),4294967295))>>>0:~~+Math.ceil((ue-+(~~ue>>>0))/4294967296)>>>0:0)],T[e>>2]=ie[0],T[e+4>>2]=ie[1];break;case\"float\":W[e>>2]=t;break;case\"double\":L[e>>3]=t;break;default:ne(\"invalid type for setValue: \"+r)}}function A(e,t,r){switch(\"*\"===(t=t||\"i8\").charAt(t.length-1)&&(t=\"i32\"),t){case\"i1\":case\"i8\":return C[e>>0];case\"i16\":return R[e>>1];case\"i32\":case\"i64\":return T[e>>2];case\"float\":return W[e>>2];case\"double\":return L[e>>3];default:ne(\"invalid type for getValue: \"+t)}return null}\"object\"!=typeof WebAssembly&&ne(\"no native wasm support detected\");var x=!1;function N(e,t){e||ne(\"Assertion failed: \"+t)}var P=1;var k,C,q,R,T,W,L,Z=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;function F(e,t,r){for(var n=t+r,s=t;e[s]&&!(s>=n);)++s;if(s-t>16&&e.subarray&&Z)return Z.decode(e.subarray(t,s));for(var o=\"\";t<s;){var _=e[t++];if(128&_){var a=63&e[t++];if(192!=(224&_)){var u=63&e[t++];if((_=224==(240&_)?(15&_)<<12|a<<6|u:(7&_)<<18|a<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(_);else{var i=_-65536;o+=String.fromCharCode(55296|i>>10,56320|1023&i)}}else o+=String.fromCharCode((31&_)<<6|a)}else o+=String.fromCharCode(_)}return o}function $(e,t){return e?F(q,e,t):\"\"}function O(e,t,r,n){if(!(n>0))return 0;for(var s=r,o=r+n-1,_=0;_<e.length;++_){var a=e.charCodeAt(_);if(a>=55296&&a<=57343)a=65536+((1023&a)<<10)|1023&e.charCodeAt(++_);if(a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-s}function U(e,t,r){return O(e,q,t,r)}function j(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function D(e){var t=j(e)+1,r=De(t);return O(e,C,r,t),r}function z(e){k=e,Module.HEAP8=C=new Int8Array(e),Module.HEAP16=R=new Int16Array(e),Module.HEAP32=T=new Int32Array(e),Module.HEAPU8=q=new Uint8Array(e),Module.HEAPU16=new Uint16Array(e),Module.HEAPU32=new Uint32Array(e),Module.HEAPF32=W=new Float32Array(e),Module.HEAPF64=L=new Float64Array(e)}var G=Module.INITIAL_MEMORY||33554432;(v=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:G/65536,maximum:32768}))&&(k=v.buffer),G=k.byteLength,z(k);var H=new WebAssembly.Table({initial:13,element:\"anyfunc\"}),B=[],K=[],V=[],X=[],Q=!1;var Y=0,J=null,ee=null;function te(e){Y++,Module.monitorRunDependencies&&Module.monitorRunDependencies(Y)}function re(e){if(Y--,Module.monitorRunDependencies&&Module.monitorRunDependencies(Y),0==Y&&(null!==J&&(clearInterval(J),J=null),ee)){var t=ee;ee=null,t()}}function ne(e){throw Module.onAbort&&Module.onAbort(e),p(e+=\"\"),x=!0,1,e=\"abort(\"+e+\"). Build with -s ASSERTIONS=1 for more info.\",new WebAssembly.RuntimeError(e)}Module.preloadedImages={},Module.preloadedAudios={},Module.preloadedWasm={};var se=\"data:application/octet-stream;base64,\";function oe(e){return e.startsWith(se)}function _e(e){return e.startsWith(\"file://\")}var ae,ue,ie,le=\"tree-sitter.wasm\";function de(e){try{if(e==le&&y)return new Uint8Array(y);if(d)return d(e);throw\"both async and sync fetching of the wasm failed\"}catch(e){ne(e)}}oe(le)||(ae=le,le=Module.locateFile?Module.locateFile(ae,f):f+ae);var ce={},me={get:function(e,t){return ce[t]||(ce[t]=new WebAssembly.Global({value:\"i32\",mutable:!0})),ce[t]}};function fe(e){for(;e.length>0;){var t=e.shift();if(\"function\"!=typeof t){var r=t.func;\"number\"==typeof r?void 0===t.arg?H.get(r)():H.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(Module)}}function pe(e){var t=0;function r(){for(var r=0,n=1;;){var s=e[t++];if(r+=(127&s)*n,n*=128,!(128&s))break}return r}if(e instanceof WebAssembly.Module){var n=WebAssembly.Module.customSections(e,\"dylink\");N(0!=n.length,\"need dylink section\"),e=new Int8Array(n[0])}else{N(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],\"need to see wasm magic number\"),N(0===e[8],\"need the dylink section to be first\"),t=9,r(),N(6===e[t]),N(e[++t]===\"d\".charCodeAt(0)),N(e[++t]===\"y\".charCodeAt(0)),N(e[++t]===\"l\".charCodeAt(0)),N(e[++t]===\"i\".charCodeAt(0)),N(e[++t]===\"n\".charCodeAt(0)),N(e[++t]===\"k\".charCodeAt(0)),t++}var s={};s.memorySize=r(),s.memoryAlign=r(),s.tableSize=r(),s.tableAlign=r();var o=r();s.neededDynlibs=[];for(var _=0;_<o;++_){var a=r(),u=e.subarray(t,t+a);t+=a;var i=F(u,0);s.neededDynlibs.push(i)}return s}var he=0;function ge(){return I||he>0}function we(e){return 0==e.indexOf(\"dynCall_\")||[\"stackAlloc\",\"stackSave\",\"stackRestore\"].includes(e)?e:\"_\"+e}function Me(e,t){for(var r in e)if(e.hasOwnProperty(r)){Fe.hasOwnProperty(r)||(Fe[r]=e[r]);var n=we(r);Module.hasOwnProperty(n)||(Module[n]=e[r])}}var ye={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function be(e,t,r){return e.includes(\"j\")?function(e,t,r){var n=Module[\"dynCall_\"+e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):H.get(t).apply(null,r)}var Ee=5250816;function ve(e){return[\"__cpp_exception\",\"__wasm_apply_data_relocs\",\"__dso_handle\",\"__set_stack_limits\"].includes(e)}function Ie(e,t){var r={};for(var n in e){var s=e[n];\"object\"==typeof s&&(s=s.value),\"number\"==typeof s&&(s+=t),r[n]=s}return function(e){for(var t in e)if(!ve(t)){var r=!1,n=e[t];t.startsWith(\"orig$\")&&(t=t.split(\"$\")[1],r=!0),ce[t]||(ce[t]=new WebAssembly.Global({value:\"i32\",mutable:!0})),(r||0==ce[t].value)&&(\"function\"==typeof n?ce[t].value=M(n):\"number\"==typeof n?ce[t].value=n:p(\"unhandled export type for `\"+t+\"`: \"+typeof n))}}(r),r}function Se(e,t){var r,n;return t&&(r=Fe[\"orig$\"+e]),r||(r=Fe[e]),r||(r=Module[we(e)]),!r&&e.startsWith(\"invoke_\")&&(n=e.split(\"_\")[1],r=function(){var e=Ue();try{return be(n,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(je(e),t!==t+0&&\"longjmp\"!==t)throw t;ze(1,0)}}),r}function Ae(e,t){var r=pe(e);function n(){var n=Math.pow(2,r.memoryAlign);n=Math.max(n,h);var s,o,_,a=(s=function(e){if(Q)return $e(e);var t=Ee,r=t+e+15&-16;return Ee=r,ce.__heap_base.value=r,t}(r.memorySize+n),(o=n)||(o=h),Math.ceil(s/o)*o),u=H.length;H.grow(r.tableSize);for(var i=a;i<a+r.memorySize;i++)C[i]=0;for(i=u;i<u+r.tableSize;i++)H.set(i,null);var l=new Proxy({},{get:function(e,t){switch(t){case\"__memory_base\":return a;case\"__table_base\":return u}if(t in Fe)return Fe[t];var r;t in e||(e[t]=function(){return r||(r=function(e){var t=Se(e,!1);return t||(t=_[e]),t}(t)),r.apply(null,arguments)});return e[t]}}),d={\"GOT.mem\":new Proxy({},me),\"GOT.func\":new Proxy({},me),env:l,wasi_snapshot_preview1:l};function c(e){for(var n=0;n<r.tableSize;n++){var s=H.get(u+n);s&&g.set(s,u+n)}_=Ie(e.exports,a),t.allowUndefined||Ne();var o=_.__wasm_call_ctors;return o||(o=_.__post_instantiate),o&&(Q?o():K.push(o)),_}if(t.loadAsync){if(e instanceof WebAssembly.Module){var m=new WebAssembly.Instance(e,d);return Promise.resolve(c(m))}return WebAssembly.instantiate(e,d).then(function(e){return c(e.instance)})}var f=e instanceof WebAssembly.Module?e:new WebAssembly.Module(e);return c(m=new WebAssembly.Instance(f,d))}return t.loadAsync?r.neededDynlibs.reduce(function(e,r){return e.then(function(){return xe(r,t)})},Promise.resolve()).then(function(){return n()}):(r.neededDynlibs.forEach(function(e){xe(e,t)}),n())}function xe(e,t){\"__main__\"!=e||ye.loadedLibNames[e]||(ye.loadedLibs[-1]={refcount:1/0,name:\"__main__\",module:Module.asm,global:!0},ye.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var r,n=ye.loadedLibNames[e];if(n)return r=ye.loadedLibs[n],t.global&&!r.global&&(r.global=!0,\"loading\"!==r.module&&Me(r.module)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,t.loadAsync?Promise.resolve(n):n;function s(e){if(t.fs){var r=t.fs.readFile(e,{encoding:\"binary\"});return r instanceof Uint8Array||(r=new Uint8Array(r)),t.loadAsync?Promise.resolve(r):r}return t.loadAsync?(n=e,fetch(n,{credentials:\"same-origin\"}).then(function(e){if(!e.ok)throw\"failed to load binary file at '\"+n+\"'\";return e.arrayBuffer()}).then(function(e){return new Uint8Array(e)})):d(e);var n}function o(){if(void 0!==Module.preloadedWasm&&void 0!==Module.preloadedWasm[e]){var r=Module.preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?s(e).then(function(e){return Ae(e,t)}):Ae(s(e),t)}function _(e){r.global&&Me(e),r.module=e}return n=ye.nextHandle++,r={refcount:t.nodelete?1/0:1,name:e,module:\"loading\",global:t.global},ye.loadedLibNames[e]=n,ye.loadedLibs[n]=r,t.loadAsync?o().then(function(e){return _(e),n}):(_(o()),n)}function Ne(){for(var e in ce)if(0==ce[e].value){var t=Se(e,!0);\"function\"==typeof t?ce[e].value=M(t,t.sig):\"number\"==typeof t?ce[e].value=t:N(!1,\"bad export type for `\"+e+\"`: \"+typeof t)}}Module.___heap_base=Ee;var Pe,ke=new WebAssembly.Global({value:\"i32\",mutable:!0},5250816);function Ce(){ne()}Module._abort=Ce,Ce.sig=\"v\",Pe=r?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:\"undefined\"!=typeof dateNow?dateNow:function(){return performance.now()};var qe=!0;function Re(e,t){var r,n;if(0===e)r=Date.now();else{if(1!==e&&4!==e||!qe)return n=28,T[Oe()>>2]=n,-1;r=Pe()}return T[t>>2]=r/1e3|0,T[t+4>>2]=r%1e3*1e3*1e3|0,0}function Te(e){try{return v.grow(e-k.byteLength+65535>>>16),z(v.buffer),1}catch(e){}}function We(e){Ke(e)}function Le(e){b(e)}Re.sig=\"iii\",We.sig=\"vi\",Le.sig=\"vi\";var Ze,Fe={__heap_base:Ee,__indirect_function_table:H,__memory_base:1024,__stack_pointer:ke,__table_base:1,abort:Ce,clock_gettime:Re,emscripten_memcpy_big:function(e,t,r){q.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t,r,n=q.length;if((e>>>=0)>2147483648)return!1;for(var s=1;s<=4;s*=2){var o=n*(1+.2/s);if(o=Math.min(o,e+100663296),Te(Math.min(2147483648,((t=Math.max(e,o))%(r=65536)>0&&(t+=r-t%r),t))))return!0}return!1},exit:We,memory:v,setTempRet0:Le,tree_sitter_log_callback:function(e,t){if(dt){const r=$(t);dt(r,0!==e)}},tree_sitter_parse_callback:function(e,t,r,n,s){var o=lt(t,{row:r,column:n});\"string\"==typeof o?(S(s,o.length,\"i32\"),function(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=(r-=2)<2*e.length?r/2:e.length,s=0;s<n;++s){var o=e.charCodeAt(s);R[t>>1]=o,t+=2}R[t>>1]=0}(o,e,10240)):S(s,0,\"i32\")}},$e=(function(){var e={env:Fe,wasi_snapshot_preview1:Fe,\"GOT.mem\":new Proxy(Fe,me),\"GOT.func\":new Proxy(Fe,me)};function t(e,t){var r=e.exports;r=Ie(r,1024),Module.asm=r;var n,s=pe(t);s.neededDynlibs&&(E=s.neededDynlibs.concat(E)),Me(r),n=Module.asm.__wasm_call_ctors,K.unshift(n),re()}function r(e){t(e.instance,e.module)}function n(t){return function(){if(!y&&(a||u)){if(\"function\"==typeof fetch&&!_e(le))return fetch(le,{credentials:\"same-origin\"}).then(function(e){if(!e.ok)throw\"failed to load wasm binary file at '\"+le+\"'\";return e.arrayBuffer()}).catch(function(){return de(le)});if(l)return new Promise(function(e,t){l(le,function(t){e(new Uint8Array(t))},t)})}return Promise.resolve().then(function(){return de(le)})}().then(function(t){return WebAssembly.instantiate(t,e)}).then(t,function(e){p(\"failed to asynchronously prepare wasm: \"+e),ne(e)})}if(te(),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return p(\"Module.instantiateWasm callback failed with error: \"+e),!1}y||\"function\"!=typeof WebAssembly.instantiateStreaming||oe(le)||_e(le)||\"function\"!=typeof fetch?n(r):fetch(le,{credentials:\"same-origin\"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return p(\"wasm streaming compile failed: \"+e),p(\"falling back to ArrayBuffer instantiation\"),n(r)})})}(),Module.___wasm_call_ctors=function(){return(Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},Module._malloc=function(){return($e=Module._malloc=Module.asm.malloc).apply(null,arguments)}),Oe=(Module._ts_language_symbol_count=function(){return(Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},Module._ts_language_version=function(){return(Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},Module._ts_language_field_count=function(){return(Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},Module._ts_language_symbol_name=function(){return(Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},Module._ts_language_symbol_for_name=function(){return(Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},Module._ts_language_symbol_type=function(){return(Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},Module._ts_language_field_name_for_id=function(){return(Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},Module._memcpy=function(){return(Module._memcpy=Module.asm.memcpy).apply(null,arguments)},Module._free=function(){return(Module._free=Module.asm.free).apply(null,arguments)},Module._calloc=function(){return(Module._calloc=Module.asm.calloc).apply(null,arguments)},Module._ts_parser_delete=function(){return(Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},Module._ts_parser_reset=function(){return(Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},Module._ts_parser_set_language=function(){return(Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},Module._ts_parser_timeout_micros=function(){return(Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},Module._ts_parser_set_timeout_micros=function(){return(Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},Module._memcmp=function(){return(Module._memcmp=Module.asm.memcmp).apply(null,arguments)},Module._ts_query_new=function(){return(Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},Module._ts_query_delete=function(){return(Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},Module._iswspace=function(){return(Module._iswspace=Module.asm.iswspace).apply(null,arguments)},Module._iswalnum=function(){return(Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},Module._ts_query_pattern_count=function(){return(Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},Module._ts_query_capture_count=function(){return(Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},Module._ts_query_string_count=function(){return(Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},Module._ts_query_capture_name_for_id=function(){return(Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},Module._ts_query_string_value_for_id=function(){return(Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},Module._ts_query_predicates_for_pattern=function(){return(Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},Module._ts_tree_copy=function(){return(Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},Module._ts_tree_delete=function(){return(Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},Module._ts_init=function(){return(Module._ts_init=Module.asm.ts_init).apply(null,arguments)},Module._ts_parser_new_wasm=function(){return(Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},Module._ts_parser_enable_logger_wasm=function(){return(Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},Module._ts_parser_parse_wasm=function(){return(Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},Module._ts_language_type_is_named_wasm=function(){return(Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},Module._ts_language_type_is_visible_wasm=function(){return(Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},Module._ts_tree_root_node_wasm=function(){return(Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},Module._ts_tree_edit_wasm=function(){return(Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},Module._ts_tree_get_changed_ranges_wasm=function(){return(Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},Module._ts_tree_cursor_new_wasm=function(){return(Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},Module._ts_tree_cursor_delete_wasm=function(){return(Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},Module._ts_tree_cursor_reset_wasm=function(){return(Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_first_child_wasm=function(){return(Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_parent_wasm=function(){return(Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_id_wasm=function(){return(Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_position_wasm=function(){return(Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_position_wasm=function(){return(Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_index_wasm=function(){return(Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_index_wasm=function(){return(Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_field_id_wasm=function(){return(Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_wasm=function(){return(Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},Module._ts_node_symbol_wasm=function(){return(Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},Module._ts_node_child_count_wasm=function(){return(Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},Module._ts_node_named_child_count_wasm=function(){return(Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},Module._ts_node_child_wasm=function(){return(Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},Module._ts_node_named_child_wasm=function(){return(Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},Module._ts_node_child_by_field_id_wasm=function(){return(Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},Module._ts_node_next_sibling_wasm=function(){return(Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_sibling_wasm=function(){return(Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},Module._ts_node_next_named_sibling_wasm=function(){return(Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_named_sibling_wasm=function(){return(Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},Module._ts_node_parent_wasm=function(){return(Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},Module._ts_node_descendant_for_index_wasm=function(){return(Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_index_wasm=function(){return(Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_descendant_for_position_wasm=function(){return(Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_position_wasm=function(){return(Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_start_point_wasm=function(){return(Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},Module._ts_node_end_point_wasm=function(){return(Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},Module._ts_node_start_index_wasm=function(){return(Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},Module._ts_node_end_index_wasm=function(){return(Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},Module._ts_node_to_string_wasm=function(){return(Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},Module._ts_node_children_wasm=function(){return(Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},Module._ts_node_named_children_wasm=function(){return(Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},Module._ts_node_descendants_of_type_wasm=function(){return(Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},Module._ts_node_is_named_wasm=function(){return(Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},Module._ts_node_has_changes_wasm=function(){return(Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},Module._ts_node_has_error_wasm=function(){return(Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},Module._ts_node_is_missing_wasm=function(){return(Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},Module._ts_query_matches_wasm=function(){return(Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},Module._ts_query_captures_wasm=function(){return(Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},Module._iswdigit=function(){return(Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},Module._iswalpha=function(){return(Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},Module._iswlower=function(){return(Module._iswlower=Module.asm.iswlower).apply(null,arguments)},Module._towupper=function(){return(Module._towupper=Module.asm.towupper).apply(null,arguments)},Module.___errno_location=function(){return(Oe=Module.___errno_location=Module.asm.__errno_location).apply(null,arguments)}),Ue=(Module._memchr=function(){return(Module._memchr=Module.asm.memchr).apply(null,arguments)},Module._strlen=function(){return(Module._strlen=Module.asm.strlen).apply(null,arguments)},Module.stackSave=function(){return(Ue=Module.stackSave=Module.asm.stackSave).apply(null,arguments)}),je=Module.stackRestore=function(){return(je=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},De=Module.stackAlloc=function(){return(De=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},ze=Module._setThrew=function(){return(ze=Module._setThrew=Module.asm.setThrew).apply(null,arguments)};Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_).apply(null,arguments)},Module.__Znwm=function(){return(Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},Module.__ZdlPv=function(){return(Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(Module.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=Module.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},Module._orig$ts_parser_timeout_micros=function(){return(Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},Module._orig$ts_parser_set_timeout_micros=function(){return(Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};function Ge(e){this.name=\"ExitStatus\",this.message=\"Program terminated with exit(\"+e+\")\",this.status=e}Module.allocate=function(e,t){var r;return r=t==P?De(e.length):$e(e.length),e.subarray||e.slice?q.set(e,r):q.set(new Uint8Array(e),r),r};ee=function e(){Ze||Be(),Ze||(ee=e)};var He=!1;function Be(e){function t(){Ze||(Ze=!0,Module.calledRun=!0,x||(Q=!0,fe(K),fe(V),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Ve&&function(e){var t=Module._main;if(t){var r=(e=e||[]).length+1,n=De(4*(r+1));T[n>>2]=D(o);for(var s=1;s<r;s++)T[(n>>2)+s]=D(e[s-1]);T[(n>>2)+r]=0;try{Ke(t(r,n),!0)}catch(e){if(e instanceof Ge)return;if(\"unwind\"==e)return;var a=e;e&&\"object\"==typeof e&&e.stack&&(a=[e,e.stack]),p(\"exception thrown: \"+a),_(1,e)}finally{!0}}}(e),function(){if(Module.postRun)for(\"function\"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)e=Module.postRun.shift(),X.unshift(e);var e;fe(X)}()))}e=e||s,Y>0||!He&&(function(){if(E.length){if(!d)return te(),void E.reduce(function(e,t){return e.then(function(){return xe(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){re(),Ne()});E.forEach(function(e){xe(e,{global:!0,nodelete:!0,allowUndefined:!0})}),Ne()}else Ne()}(),He=!0,Y>0)||(!function(){if(Module.preRun)for(\"function\"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)e=Module.preRun.shift(),B.unshift(e);var e;fe(B)}(),Y>0||(Module.setStatus?(Module.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){Module.setStatus(\"\")},1),t()},1)):t()))}function Ke(e,t){e,t&&ge()&&0===e||(ge()||(!0,Module.onExit&&Module.onExit(e),x=!0),_(e,new Ge(e)))}if(Module.run=Be,Module.preInit)for(\"function\"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var Ve=!0;Module.noInitialRun&&(Ve=!1),Be();const Xe=Module,Qe={},Ye=4,Je=5*Ye,et=2*Ye,tt=2*Ye+2*et,rt={row:0,column:0},nt=/[\\w-.]*/g,st=1,ot=2,_t=/^_?tree_sitter_\\w+/;var at,ut,it,lt,dt,ct=new Promise(e=>{Module.onRuntimeInitialized=e}).then(()=>{it=Xe._ts_init(),at=A(it,\"i32\"),ut=A(it+Ye,\"i32\")});class Parser{static init(){return ct}constructor(){if(null==it)throw new Error(\"You must first call Parser.init() and wait for it to resolve.\");Xe._ts_parser_new_wasm(),this[0]=A(it,\"i32\"),this[1]=A(it+Ye,\"i32\")}delete(){Xe._ts_parser_delete(this[0]),Xe._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error(\"Argument must be a Language\");{t=e[0];const r=Xe._ts_language_version(t);if(r<ut||at<r)throw new Error(`Incompatible language version ${r}. `+`Compatibility range ${ut} through ${at}.`)}}else t=0,e=null;return this.language=e,Xe._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,r){if(\"string\"==typeof e)lt=((t,r,n)=>e.slice(t,n));else{if(\"function\"!=typeof e)throw new Error(\"Argument must be a string or a function\");lt=e}this.logCallback?(dt=this.logCallback,Xe._ts_parser_enable_logger_wasm(this[0],1)):(dt=null,Xe._ts_parser_enable_logger_wasm(this[0],0));let n=0,s=0;if(r&&r.includedRanges){n=r.includedRanges.length;let e=s=Xe._calloc(n,tt);for(let t=0;t<n;t++)vt(e,r.includedRanges[t]),e+=tt}const o=Xe._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,n);if(!o)throw lt=null,dt=null,new Error(\"Parsing failed\");const _=new Tree(Qe,o,this.language,lt);return lt=null,dt=null,_}reset(){Xe._ts_parser_reset(this[0])}setTimeoutMicros(e){Xe._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return Xe._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(\"function\"!=typeof e)throw new Error(\"Logger callback must be a function\")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,r,n){pt(e),this[0]=t,this.language=r,this.textCallback=n}copy(){const e=Xe._ts_tree_copy(this[0]);return new Tree(Qe,e,this.language,this.textCallback)}delete(){Xe._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=it;bt(t,e.startPosition),bt(t+=et,e.oldEndPosition),bt(t+=et,e.newEndPosition),S(t+=et,e.startIndex,\"i32\"),S(t+=Ye,e.oldEndIndex,\"i32\"),S(t+=Ye,e.newEndIndex,\"i32\"),t+=Ye}(e),Xe._ts_tree_edit_wasm(this[0])}get rootNode(){return Xe._ts_tree_root_node_wasm(this[0]),wt(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError(\"Argument must be a Tree\");Xe._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=A(it,\"i32\"),r=A(it+Ye,\"i32\"),n=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)n[r]=It(e),e+=tt;Xe._free(r)}return n}}class Node{constructor(e,t){pt(e),this.tree=t}get typeId(){return gt(this),Xe._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||\"ERROR\"}get endPosition(){return gt(this),Xe._ts_node_end_point_wasm(this.tree[0]),Et(it)}get endIndex(){return gt(this),Xe._ts_node_end_index_wasm(this.tree[0])}get text(){return mt(this.tree,this.startIndex,this.endIndex)}isNamed(){return gt(this),1===Xe._ts_node_is_named_wasm(this.tree[0])}hasError(){return gt(this),1===Xe._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return gt(this),1===Xe._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return gt(this),1===Xe._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return gt(this),Xe._ts_node_child_wasm(this.tree[0],e),wt(this.tree)}namedChild(e){return gt(this),Xe._ts_node_named_child_wasm(this.tree[0],e),wt(this.tree)}childForFieldId(e){return gt(this),Xe._ts_node_child_by_field_id_wasm(this.tree[0],e),wt(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return gt(this),Xe._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return gt(this),Xe._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){gt(this),Xe._ts_node_children_wasm(this.tree[0]);const e=A(it,\"i32\"),t=A(it+Ye,\"i32\");if(this._children=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._children[t]=wt(this.tree,r),r+=Je;Xe._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){gt(this),Xe._ts_node_named_children_wasm(this.tree[0]);const e=A(it,\"i32\"),t=A(it+Ye,\"i32\");if(this._namedChildren=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._namedChildren[t]=wt(this.tree,r),r+=Je;Xe._free(t)}}return this._namedChildren}descendantsOfType(e,t,r){Array.isArray(e)||(e=[e]),t||(t=rt),r||(r=rt);const n=[],s=this.tree.language.types;for(let t=0,r=s.length;t<r;t++)e.includes(s[t])&&n.push(t);const o=Xe._malloc(Ye*n.length);for(let e=0,t=n.length;e<t;e++)S(o+e*Ye,n[e],\"i32\");gt(this),Xe._ts_node_descendants_of_type_wasm(this.tree[0],o,n.length,t.row,t.column,r.row,r.column);const _=A(it,\"i32\"),a=A(it+Ye,\"i32\"),u=new Array(_);if(_>0){let e=a;for(let t=0;t<_;t++)u[t]=wt(this.tree,e),e+=Je}return Xe._free(a),Xe._free(o),u}get nextSibling(){return gt(this),Xe._ts_node_next_sibling_wasm(this.tree[0]),wt(this.tree)}get previousSibling(){return gt(this),Xe._ts_node_prev_sibling_wasm(this.tree[0]),wt(this.tree)}get nextNamedSibling(){return gt(this),Xe._ts_node_next_named_sibling_wasm(this.tree[0]),wt(this.tree)}get previousNamedSibling(){return gt(this),Xe._ts_node_prev_named_sibling_wasm(this.tree[0]),wt(this.tree)}get parent(){return gt(this),Xe._ts_node_parent_wasm(this.tree[0]),wt(this.tree)}descendantForIndex(e,t=e){if(\"number\"!=typeof e||\"number\"!=typeof t)throw new Error(\"Arguments must be numbers\");gt(this);let r=it+Je;return S(r,e,\"i32\"),S(r+Ye,t,\"i32\"),Xe._ts_node_descendant_for_index_wasm(this.tree[0]),wt(this.tree)}namedDescendantForIndex(e,t=e){if(\"number\"!=typeof e||\"number\"!=typeof t)throw new Error(\"Arguments must be numbers\");gt(this);let r=it+Je;return S(r,e,\"i32\"),S(r+Ye,t,\"i32\"),Xe._ts_node_named_descendant_for_index_wasm(this.tree[0]),wt(this.tree)}descendantForPosition(e,t=e){if(!ht(e)||!ht(t))throw new Error(\"Arguments must be {row, column} objects\");gt(this);let r=it+Je;return bt(r,e),bt(r+et,t),Xe._ts_node_descendant_for_position_wasm(this.tree[0]),wt(this.tree)}namedDescendantForPosition(e,t=e){if(!ht(e)||!ht(t))throw new Error(\"Arguments must be {row, column} objects\");gt(this);let r=it+Je;return bt(r,e),bt(r+et,t),Xe._ts_node_named_descendant_for_position_wasm(this.tree[0]),wt(this.tree)}walk(){return gt(this),Xe._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(Qe,this.tree)}toString(){gt(this);const e=Xe._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t=\"\";;){var r=q[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}(e);return Xe._free(e),t}}class TreeCursor{constructor(e,t){pt(e),this.tree=t,yt(this)}delete(){Mt(this),Xe._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){gt(e),Mt(this,it+Je),Xe._ts_tree_cursor_reset_wasm(this.tree[0]),yt(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||\"ERROR\"}get nodeTypeId(){return Mt(this),Xe._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return Mt(this),Xe._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return Mt(this),1===Xe._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return Mt(this),1===Xe._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){Mt(this);const e=Xe._ts_tree_cursor_start_index_wasm(this.tree[0]),t=Xe._ts_tree_cursor_end_index_wasm(this.tree[0]);return mt(this.tree,e,t)}get startPosition(){return Mt(this),Xe._ts_tree_cursor_start_position_wasm(this.tree[0]),Et(it)}get endPosition(){return Mt(this),Xe._ts_tree_cursor_end_position_wasm(this.tree[0]),Et(it)}get startIndex(){return Mt(this),Xe._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return Mt(this),Xe._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return Mt(this),Xe._ts_tree_cursor_current_node_wasm(this.tree[0]),wt(this.tree)}currentFieldId(){return Mt(this),Xe._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){Mt(this);const e=Xe._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return yt(this),1===e}gotoNextSibling(){Mt(this);const e=Xe._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return yt(this),1===e}gotoParent(){Mt(this);const e=Xe._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return yt(this),1===e}}class Language{constructor(e,t){pt(e),this[0]=t,this.types=new Array(Xe._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)Xe._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=$(Xe._ts_language_symbol_name(this[0],e)));this.fields=new Array(Xe._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=Xe._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?$(t):null}}get version(){return Xe._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const r=j(e),n=Xe._malloc(r+1);U(e,n,r+1);const s=Xe._ts_language_symbol_for_name(this[0],n,r,t);return Xe._free(n),s||null}get nodeTypeCount(){return Xe._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=Xe._ts_language_symbol_name(this[0],e);return t?$(t):null}nodeTypeIsNamed(e){return!!Xe._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!Xe._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=j(e),r=Xe._malloc(t+1);U(e,r,t+1);const n=Xe._ts_query_new(this[0],r,t,it,it+Ye);if(!n){const t=A(it+Ye,\"i32\"),n=$(r,A(it,\"i32\")).length,s=e.substr(n,100).split(\"\\n\")[0];let o,_=s.match(nt)[0];switch(t){case 2:o=new RangeError(`Bad node name '${_}'`);break;case 3:o=new RangeError(`Bad field name '${_}'`);break;case 4:o=new RangeError(`Bad capture name @${_}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${n}: '${s}'...`),_=\"\";break;default:o=new SyntaxError(`Bad syntax at offset ${n}: '${s}'...`),_=\"\"}throw o.index=n,o.length=_.length,Xe._free(r),o}const s=Xe._ts_query_string_count(n),o=Xe._ts_query_capture_count(n),_=Xe._ts_query_pattern_count(n),a=new Array(o),u=new Array(s);for(let e=0;e<o;e++){const t=Xe._ts_query_capture_name_for_id(n,e,it),r=A(it,\"i32\");a[e]=$(t,r)}for(let e=0;e<s;e++){const t=Xe._ts_query_string_value_for_id(n,e,it),r=A(it,\"i32\");u[e]=$(t,r)}const i=new Array(_),l=new Array(_),d=new Array(_),c=new Array(_),m=new Array(_);for(let e=0;e<_;e++){const t=Xe._ts_query_predicates_for_pattern(n,e,it),r=A(it,\"i32\");c[e]=[],m[e]=[];const s=[];let o=t;for(let t=0;t<r;t++){const t=A(o,\"i32\"),r=A(o+=Ye,\"i32\");if(o+=Ye,t===st)s.push({type:\"capture\",name:a[r]});else if(t===ot)s.push({type:\"string\",value:u[r]});else if(s.length>0){if(\"string\"!==s[0].type)throw new Error(\"Predicates must begin with a literal value\");const t=s[0].value;let r=!0;switch(t){case\"not-eq?\":r=!1;case\"eq?\":if(3!==s.length)throw new Error(`Wrong number of arguments to \\`#eq?\\` predicate. Expected 2, got ${s.length-1}`);if(\"capture\"!==s[1].type)throw new Error(`First argument of \\`#eq?\\` predicate must be a capture. Got \"${s[1].value}\"`);if(\"capture\"===s[2].type){const t=s[1].name,n=s[2].name;m[e].push(function(e){let s,o;for(const r of e)r.name===t&&(s=r.node),r.name===n&&(o=r.node);return s.text===o.text===r})}else{const t=s[1].name,n=s[2].value;m[e].push(function(e){for(const s of e)if(s.name===t)return s.node.text===n===r;return!1})}break;case\"not-match?\":r=!1;case\"match?\":if(3!==s.length)throw new Error(`Wrong number of arguments to \\`#match?\\` predicate. Expected 2, got ${s.length-1}.`);if(\"capture\"!==s[1].type)throw new Error(`First argument of \\`#match?\\` predicate must be a capture. Got \"${s[1].value}\".`);if(\"string\"!==s[2].type)throw new Error(`Second argument of \\`#match?\\` predicate must be a string. Got @${s[2].value}.`);const n=s[1].name,o=new RegExp(s[2].value);m[e].push(function(e){for(const t of e)if(t.name===n)return o.test(t.node.text)===r;return!1});break;case\"set!\":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \\`#set!\\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>\"string\"!==e.type))throw new Error('Arguments to `#set!` predicate must be a strings.\".');i[e]||(i[e]={}),i[e][s[1].value]=s[2]?s[2].value:null;break;case\"is?\":case\"is-not?\":if(s.length<2||s.length>3)throw new Error(`Wrong number of arguments to \\`#${t}\\` predicate. Expected 1 or 2. Got ${s.length-1}.`);if(s.some(e=>\"string\"!==e.type))throw new Error(`Arguments to \\`#${t}\\` predicate must be a strings.\".`);const _=\"is?\"===t?l:d;_[e]||(_[e]={}),_[e][s[1].value]=s[2]?s[2].value:null;break;default:c[e].push({operator:t,operands:s.slice(1)})}s.length=0}}Object.freeze(i[e]),Object.freeze(l[e]),Object.freeze(d[e])}return Xe._free(r),new Query(Qe,n,a,m,c,Object.freeze(i),Object.freeze(l),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if(\"undefined\"!=typeof process&&process.versions&&process.versions.node){const e=require(\"fs\");t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then(e=>e.arrayBuffer().then(t=>{if(e.ok)return new Uint8Array(t);{const r=new TextDecoder(\"utf-8\").decode(t);throw new Error(`Language.load failed with status ${e.status}.\\n\\n${r}`)}}))}const r=\"function\"==typeof loadSideModule?loadSideModule:Ae;return t.then(e=>r(e,{loadAsync:!0})).then(e=>{const t=Object.keys(e),r=t.find(e=>_t.test(e)&&!e.includes(\"external_scanner_\"));r||console.log(`Couldn't find language function in WASM file. Symbols:\\n${JSON.stringify(t,null,2)}`);const n=e[r]();return new Language(Qe,n)})}}class Query{constructor(e,t,r,n,s,o,_,a){pt(e),this[0]=t,this.captureNames=r,this.textPredicates=n,this.predicates=s,this.setProperties=o,this.assertedProperties=_,this.refutedProperties=a,this.exceededMatchLimit=!1}delete(){Xe._ts_query_delete(this[0]),this[0]=0}matches(e,t,r){t||(t=rt),r||(r=rt),gt(e),Xe._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column);const n=A(it,\"i32\"),s=A(it+Ye,\"i32\"),o=A(it+2*Ye,\"i32\"),_=new Array(n);this.exceededMatchLimit=!!o;let a=0,u=s;for(let t=0;t<n;t++){const r=A(u,\"i32\"),n=A(u+=Ye,\"i32\");u+=Ye;const s=new Array(n);if(u=ft(this,e.tree,u,s),this.textPredicates[r].every(e=>e(s))){_[a++]={pattern:r,captures:s};const e=this.setProperties[r];e&&(_[t].setProperties=e);const n=this.assertedProperties[r];n&&(_[t].assertedProperties=n);const o=this.refutedProperties[r];o&&(_[t].refutedProperties=o)}}return _.length=a,Xe._free(s),_}captures(e,t,r){t||(t=rt),r||(r=rt),gt(e),Xe._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column);const n=A(it,\"i32\"),s=A(it+Ye,\"i32\"),o=A(it+2*Ye,\"i32\"),_=[];this.exceededMatchLimit=!!o;const a=[];let u=s;for(let t=0;t<n;t++){const t=A(u,\"i32\"),r=A(u+=Ye,\"i32\"),n=A(u+=Ye,\"i32\");if(u+=Ye,a.length=r,u=ft(this,e.tree,u,a),this.textPredicates[t].every(e=>e(a))){const e=a[n],r=this.setProperties[t];r&&(e.setProperties=r);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const o=this.refutedProperties[t];o&&(e.refutedProperties=o),_.push(e)}}return Xe._free(s),_}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function mt(e,t,r){const n=r-t;let s=e.textCallback(t,null,r);for(t+=s.length;t<r;){const n=e.textCallback(t,null,r);if(!(n&&n.length>0))break;t+=n.length,s+=n}return t>r&&(s=s.slice(0,n)),s}function ft(e,t,r,n){for(let s=0,o=n.length;s<o;s++){const o=A(r,\"i32\"),_=wt(t,r+=Ye);r+=Je,n[s]={name:e.captureNames[o],node:_}}return r}function pt(e){if(e!==Qe)throw new Error(\"Illegal constructor\")}function ht(e){return e&&\"number\"==typeof e.row&&\"number\"==typeof e.column}function gt(e){let t=it;S(t,e.id,\"i32\"),S(t+=Ye,e.startIndex,\"i32\"),S(t+=Ye,e.startPosition.row,\"i32\"),S(t+=Ye,e.startPosition.column,\"i32\"),S(t+=Ye,e[0],\"i32\")}function wt(e,t=it){const r=A(t,\"i32\");if(0===r)return null;const n=A(t+=Ye,\"i32\"),s=A(t+=Ye,\"i32\"),o=A(t+=Ye,\"i32\"),_=A(t+=Ye,\"i32\"),a=new Node(Qe,e);return a.id=r,a.startIndex=n,a.startPosition={row:s,column:o},a[0]=_,a}function Mt(e,t=it){S(t+0*Ye,e[0],\"i32\"),S(t+1*Ye,e[1],\"i32\"),S(t+2*Ye,e[2],\"i32\")}function yt(e){e[0]=A(it+0*Ye,\"i32\"),e[1]=A(it+1*Ye,\"i32\"),e[2]=A(it+2*Ye,\"i32\")}function bt(e,t){S(e,t.row,\"i32\"),S(e+Ye,t.column,\"i32\")}function Et(e){return{row:A(e,\"i32\"),column:A(e+Ye,\"i32\")}}function vt(e,t){bt(e,t.startPosition),bt(e+=et,t.endPosition),S(e+=et,t.startIndex,\"i32\"),S(e+=Ye,t.endIndex,\"i32\"),e+=Ye}function It(e){const t={};return t.startPosition=Et(e),e+=et,t.endPosition=Et(e),e+=et,t.startIndex=A(e,\"i32\"),e+=Ye,t.endIndex=A(e,\"i32\"),t}return Parser.Language=Language,Parser.Parser=Parser,Parser});\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount /*, ...nodes */) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 2; i < arguments.length; i++) {\n    walker = insert(this, walker, arguments[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","var Module = typeof Module !== \"undefined\" ? Module : {};\r\nvar moduleOverrides = {};\r\nvar key;\r\nfor (key in Module) {\r\n  if (Module.hasOwnProperty(key)) {\r\n    moduleOverrides[key] = Module[key];\r\n  }\r\n}\r\nvar arguments_ = [];\r\nvar thisProgram = \"./this.program\";\r\nvar quit_ = function (status, toThrow) {\r\n  throw toThrow;\r\n};\r\nvar ENVIRONMENT_IS_WEB = false;\r\nvar ENVIRONMENT_IS_WORKER = false;\r\nvar ENVIRONMENT_IS_NODE = false;\r\nvar ENVIRONMENT_IS_SHELL = false;\r\nENVIRONMENT_IS_WEB = typeof window === \"object\";\r\nENVIRONMENT_IS_WORKER = typeof importScripts === \"function\";\r\nENVIRONMENT_IS_NODE =\r\n  typeof process === \"object\" &&\r\n  typeof process.versions === \"object\" &&\r\n  typeof process.versions.node === \"string\";\r\nENVIRONMENT_IS_SHELL =\r\n  !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_NODE && !ENVIRONMENT_IS_WORKER;\r\nvar scriptDirectory = \"\";\r\nfunction locateFile(path) {\r\n  if (Module[\"locateFile\"]) {\r\n    return Module[\"locateFile\"](path, scriptDirectory);\r\n  }\r\n  return scriptDirectory + path;\r\n}\r\nvar read_, readAsync, readBinary, setWindowTitle;\r\nvar nodeFS;\r\nvar nodePath;\r\nif (ENVIRONMENT_IS_NODE) {\r\n  if (ENVIRONMENT_IS_WORKER) {\r\n    scriptDirectory = require(\"path\").dirname(scriptDirectory) + \"/\";\r\n  } else {\r\n    scriptDirectory = __dirname + \"/\";\r\n  }\r\n  read_ = function shell_read(filename, binary) {\r\n    if (!nodeFS) nodeFS = require(\"fs\");\r\n    if (!nodePath) nodePath = require(\"path\");\r\n    filename = nodePath[\"normalize\"](filename);\r\n    return nodeFS[\"readFileSync\"](filename, binary ? null : \"utf8\");\r\n  };\r\n  readBinary = function readBinary(filename) {\r\n    var ret = read_(filename, true);\r\n    if (!ret.buffer) {\r\n      ret = new Uint8Array(ret);\r\n    }\r\n    assert(ret.buffer);\r\n    return ret;\r\n  };\r\n  if (process[\"argv\"].length > 1) {\r\n    thisProgram = process[\"argv\"][1].replace(/\\\\/g, \"/\");\r\n  }\r\n  arguments_ = process[\"argv\"].slice(2);\r\n  if (typeof module !== \"undefined\") {\r\n    module[\"exports\"] = Module;\r\n  }\r\n  // process[\"on\"](\"uncaughtException\", function (ex) {\r\n  //   if (!(ex instanceof ExitStatus)) {\r\n  //     throw ex;\r\n  //   }\r\n  // });\r\n  // process[\"on\"](\"unhandledRejection\", abort);\r\n  quit_ = function (status) {\r\n    process[\"exit\"](status);\r\n  };\r\n  Module[\"inspect\"] = function () {\r\n    return \"[Emscripten Module object]\";\r\n  };\r\n} else if (ENVIRONMENT_IS_SHELL) {\r\n  if (typeof read != \"undefined\") {\r\n    read_ = function shell_read(f) {\r\n      return read(f);\r\n    };\r\n  }\r\n  readBinary = function readBinary(f) {\r\n    var data;\r\n    if (typeof readbuffer === \"function\") {\r\n      return new Uint8Array(readbuffer(f));\r\n    }\r\n    data = read(f, \"binary\");\r\n    assert(typeof data === \"object\");\r\n    return data;\r\n  };\r\n  if (typeof scriptArgs != \"undefined\") {\r\n    arguments_ = scriptArgs;\r\n  } else if (typeof arguments != \"undefined\") {\r\n    arguments_ = arguments;\r\n  }\r\n  if (typeof quit === \"function\") {\r\n    quit_ = function (status) {\r\n      quit(status);\r\n    };\r\n  }\r\n  if (typeof print !== \"undefined\") {\r\n    if (typeof console === \"undefined\") console = {};\r\n    console.log = print;\r\n    console.warn = console.error =\r\n      typeof printErr !== \"undefined\" ? printErr : print;\r\n  }\r\n} else if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\r\n  if (ENVIRONMENT_IS_WORKER) {\r\n    scriptDirectory = self.location.href;\r\n  } else if (typeof document !== \"undefined\" && document.currentScript) {\r\n    scriptDirectory = document.currentScript.src;\r\n  }\r\n  if (scriptDirectory.indexOf(\"blob:\") !== 0) {\r\n    scriptDirectory = scriptDirectory.substr(\r\n      0,\r\n      scriptDirectory.lastIndexOf(\"/\") + 1\r\n    );\r\n  } else {\r\n    scriptDirectory = \"\";\r\n  }\r\n  {\r\n    read_ = function (url) {\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", url, false);\r\n      xhr.send(null);\r\n      return xhr.responseText;\r\n    };\r\n    if (ENVIRONMENT_IS_WORKER) {\r\n      readBinary = function (url) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\", url, false);\r\n        xhr.responseType = \"arraybuffer\";\r\n        xhr.send(null);\r\n        return new Uint8Array(xhr.response);\r\n      };\r\n    }\r\n    readAsync = function (url, onload, onerror) {\r\n      var xhr = new XMLHttpRequest();\r\n      xhr.open(\"GET\", url, true);\r\n      xhr.responseType = \"arraybuffer\";\r\n      xhr.onload = function () {\r\n        if (xhr.status == 200 || (xhr.status == 0 && xhr.response)) {\r\n          onload(xhr.response);\r\n          return;\r\n        }\r\n        onerror();\r\n      };\r\n      xhr.onerror = onerror;\r\n      xhr.send(null);\r\n    };\r\n  }\r\n  setWindowTitle = function (title) {\r\n    document.title = title;\r\n  };\r\n} else {\r\n}\r\nvar out = Module[\"print\"] || console.log.bind(console);\r\nvar err = Module[\"printErr\"] || console.warn.bind(console);\r\nfor (key in moduleOverrides) {\r\n  if (moduleOverrides.hasOwnProperty(key)) {\r\n    Module[key] = moduleOverrides[key];\r\n  }\r\n}\r\nmoduleOverrides = null;\r\nif (Module[\"arguments\"]) arguments_ = Module[\"arguments\"];\r\nif (Module[\"thisProgram\"]) thisProgram = Module[\"thisProgram\"];\r\nif (Module[\"quit\"]) quit_ = Module[\"quit\"];\r\nvar tempRet0 = 0;\r\nvar setTempRet0 = function (value) {\r\n  tempRet0 = value;\r\n};\r\nvar getTempRet0 = function () {\r\n  return tempRet0;\r\n};\r\nvar wasmBinary;\r\nif (Module[\"wasmBinary\"]) wasmBinary = Module[\"wasmBinary\"];\r\nvar noExitRuntime = Module[\"noExitRuntime\"] || true;\r\nif (typeof WebAssembly !== \"object\") {\r\n  abort(\"no native wasm support detected\");\r\n}\r\nvar wasmMemory;\r\nvar ABORT = false;\r\nvar EXITSTATUS;\r\nfunction assert(condition, text) {\r\n  if (!condition) {\r\n    abort(\"Assertion failed: \" + text);\r\n  }\r\n}\r\nvar UTF8Decoder =\r\n  typeof TextDecoder !== \"undefined\" ? new TextDecoder(\"utf8\") : undefined;\r\nfunction UTF8ArrayToString(heap, idx, maxBytesToRead) {\r\n  var endIdx = idx + maxBytesToRead;\r\n  var endPtr = idx;\r\n  while (heap[endPtr] && !(endPtr >= endIdx)) ++endPtr;\r\n  if (endPtr - idx > 16 && heap.subarray && UTF8Decoder) {\r\n    return UTF8Decoder.decode(heap.subarray(idx, endPtr));\r\n  } else {\r\n    var str = \"\";\r\n    while (idx < endPtr) {\r\n      var u0 = heap[idx++];\r\n      if (!(u0 & 128)) {\r\n        str += String.fromCharCode(u0);\r\n        continue;\r\n      }\r\n      var u1 = heap[idx++] & 63;\r\n      if ((u0 & 224) == 192) {\r\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\r\n        continue;\r\n      }\r\n      var u2 = heap[idx++] & 63;\r\n      if ((u0 & 240) == 224) {\r\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\r\n      } else {\r\n        u0 = ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heap[idx++] & 63);\r\n      }\r\n      if (u0 < 65536) {\r\n        str += String.fromCharCode(u0);\r\n      } else {\r\n        var ch = u0 - 65536;\r\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\r\n      }\r\n    }\r\n  }\r\n  return str;\r\n}\r\nfunction UTF8ToString(ptr, maxBytesToRead) {\r\n  return ptr ? UTF8ArrayToString(HEAPU8, ptr, maxBytesToRead) : \"\";\r\n}\r\nfunction stringToUTF8Array(str, heap, outIdx, maxBytesToWrite) {\r\n  if (!(maxBytesToWrite > 0)) return 0;\r\n  var startIdx = outIdx;\r\n  var endIdx = outIdx + maxBytesToWrite - 1;\r\n  for (var i = 0; i < str.length; ++i) {\r\n    var u = str.charCodeAt(i);\r\n    if (u >= 55296 && u <= 57343) {\r\n      var u1 = str.charCodeAt(++i);\r\n      u = (65536 + ((u & 1023) << 10)) | (u1 & 1023);\r\n    }\r\n    if (u <= 127) {\r\n      if (outIdx >= endIdx) break;\r\n      heap[outIdx++] = u;\r\n    } else if (u <= 2047) {\r\n      if (outIdx + 1 >= endIdx) break;\r\n      heap[outIdx++] = 192 | (u >> 6);\r\n      heap[outIdx++] = 128 | (u & 63);\r\n    } else if (u <= 65535) {\r\n      if (outIdx + 2 >= endIdx) break;\r\n      heap[outIdx++] = 224 | (u >> 12);\r\n      heap[outIdx++] = 128 | ((u >> 6) & 63);\r\n      heap[outIdx++] = 128 | (u & 63);\r\n    } else {\r\n      if (outIdx + 3 >= endIdx) break;\r\n      heap[outIdx++] = 240 | (u >> 18);\r\n      heap[outIdx++] = 128 | ((u >> 12) & 63);\r\n      heap[outIdx++] = 128 | ((u >> 6) & 63);\r\n      heap[outIdx++] = 128 | (u & 63);\r\n    }\r\n  }\r\n  heap[outIdx] = 0;\r\n  return outIdx - startIdx;\r\n}\r\nfunction stringToUTF8(str, outPtr, maxBytesToWrite) {\r\n  return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\r\n}\r\nfunction lengthBytesUTF8(str) {\r\n  var len = 0;\r\n  for (var i = 0; i < str.length; ++i) {\r\n    var u = str.charCodeAt(i);\r\n    if (u >= 55296 && u <= 57343)\r\n      u = (65536 + ((u & 1023) << 10)) | (str.charCodeAt(++i) & 1023);\r\n    if (u <= 127) ++len;\r\n    else if (u <= 2047) len += 2;\r\n    else if (u <= 65535) len += 3;\r\n    else len += 4;\r\n  }\r\n  return len;\r\n}\r\nfunction writeArrayToMemory(array, buffer) {\r\n  HEAP8.set(array, buffer);\r\n}\r\nfunction writeAsciiToMemory(str, buffer, dontAddNull) {\r\n  for (var i = 0; i < str.length; ++i) {\r\n    HEAP8[buffer++ >> 0] = str.charCodeAt(i);\r\n  }\r\n  if (!dontAddNull) HEAP8[buffer >> 0] = 0;\r\n}\r\nfunction alignUp(x, multiple) {\r\n  if (x % multiple > 0) {\r\n    x += multiple - (x % multiple);\r\n  }\r\n  return x;\r\n}\r\nvar buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;\r\nfunction updateGlobalBufferAndViews(buf) {\r\n  buffer = buf;\r\n  Module[\"HEAP8\"] = HEAP8 = new Int8Array(buf);\r\n  Module[\"HEAP16\"] = HEAP16 = new Int16Array(buf);\r\n  Module[\"HEAP32\"] = HEAP32 = new Int32Array(buf);\r\n  Module[\"HEAPU8\"] = HEAPU8 = new Uint8Array(buf);\r\n  Module[\"HEAPU16\"] = HEAPU16 = new Uint16Array(buf);\r\n  Module[\"HEAPU32\"] = HEAPU32 = new Uint32Array(buf);\r\n  Module[\"HEAPF32\"] = HEAPF32 = new Float32Array(buf);\r\n  Module[\"HEAPF64\"] = HEAPF64 = new Float64Array(buf);\r\n}\r\nvar INITIAL_MEMORY = Module[\"INITIAL_MEMORY\"] || 16777216;\r\nvar wasmTable;\r\nvar __ATPRERUN__ = [];\r\nvar __ATINIT__ = [];\r\nvar __ATPOSTRUN__ = [];\r\nvar runtimeInitialized = false;\r\nfunction preRun() {\r\n  if (Module[\"preRun\"]) {\r\n    if (typeof Module[\"preRun\"] == \"function\")\r\n      Module[\"preRun\"] = [Module[\"preRun\"]];\r\n    while (Module[\"preRun\"].length) {\r\n      addOnPreRun(Module[\"preRun\"].shift());\r\n    }\r\n  }\r\n  callRuntimeCallbacks(__ATPRERUN__);\r\n}\r\nfunction initRuntime() {\r\n  runtimeInitialized = true;\r\n  callRuntimeCallbacks(__ATINIT__);\r\n}\r\nfunction postRun() {\r\n  if (Module[\"postRun\"]) {\r\n    if (typeof Module[\"postRun\"] == \"function\")\r\n      Module[\"postRun\"] = [Module[\"postRun\"]];\r\n    while (Module[\"postRun\"].length) {\r\n      addOnPostRun(Module[\"postRun\"].shift());\r\n    }\r\n  }\r\n  callRuntimeCallbacks(__ATPOSTRUN__);\r\n}\r\nfunction addOnPreRun(cb) {\r\n  __ATPRERUN__.unshift(cb);\r\n}\r\nfunction addOnInit(cb) {\r\n  __ATINIT__.unshift(cb);\r\n}\r\nfunction addOnPostRun(cb) {\r\n  __ATPOSTRUN__.unshift(cb);\r\n}\r\nvar runDependencies = 0;\r\nvar runDependencyWatcher = null;\r\nvar dependenciesFulfilled = null;\r\nfunction addRunDependency(id) {\r\n  runDependencies++;\r\n  if (Module[\"monitorRunDependencies\"]) {\r\n    Module[\"monitorRunDependencies\"](runDependencies);\r\n  }\r\n}\r\nfunction removeRunDependency(id) {\r\n  runDependencies--;\r\n  if (Module[\"monitorRunDependencies\"]) {\r\n    Module[\"monitorRunDependencies\"](runDependencies);\r\n  }\r\n  if (runDependencies == 0) {\r\n    if (runDependencyWatcher !== null) {\r\n      clearInterval(runDependencyWatcher);\r\n      runDependencyWatcher = null;\r\n    }\r\n    if (dependenciesFulfilled) {\r\n      var callback = dependenciesFulfilled;\r\n      dependenciesFulfilled = null;\r\n      callback();\r\n    }\r\n  }\r\n}\r\nModule[\"preloadedImages\"] = {};\r\nModule[\"preloadedAudios\"] = {};\r\nfunction abort(what) {\r\n  if (Module[\"onAbort\"]) {\r\n    Module[\"onAbort\"](what);\r\n  }\r\n  what += \"\";\r\n  err(what);\r\n  ABORT = true;\r\n  EXITSTATUS = 1;\r\n  what = \"abort(\" + what + \"). Build with -s ASSERTIONS=1 for more info.\";\r\n  var e = new WebAssembly.RuntimeError(what);\r\n  throw e;\r\n}\r\nvar dataURIPrefix = \"data:application/octet-stream;base64,\";\r\nfunction isDataURI(filename) {\r\n  return filename.startsWith(dataURIPrefix);\r\n}\r\nfunction isFileURI(filename) {\r\n  return filename.startsWith(\"file://\");\r\n}\r\nvar wasmBinaryFile = \"blingfire.wasm\";\r\nif (!isDataURI(wasmBinaryFile)) {\r\n  wasmBinaryFile = locateFile(wasmBinaryFile);\r\n}\r\nfunction getBinary(file) {\r\n  try {\r\n    if (file == wasmBinaryFile && wasmBinary) {\r\n      return new Uint8Array(wasmBinary);\r\n    }\r\n    if (readBinary) {\r\n      return readBinary(file);\r\n    } else {\r\n      throw \"both async and sync fetching of the wasm failed\";\r\n    }\r\n  } catch (err) {\r\n    abort(err);\r\n  }\r\n}\r\nfunction getBinaryPromise() {\r\n  if (!wasmBinary && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER)) {\r\n    if (typeof fetch === \"function\" && !isFileURI(wasmBinaryFile)) {\r\n      return fetch(wasmBinaryFile, { credentials: \"same-origin\" })\r\n        .then(function (response) {\r\n          if (!response[\"ok\"]) {\r\n            throw \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\";\r\n          }\r\n          return response[\"arrayBuffer\"]();\r\n        })\r\n        .catch(function () {\r\n          return getBinary(wasmBinaryFile);\r\n        });\r\n    } else {\r\n      if (readAsync) {\r\n        return new Promise(function (resolve, reject) {\r\n          readAsync(\r\n            wasmBinaryFile,\r\n            function (response) {\r\n              resolve(new Uint8Array(response));\r\n            },\r\n            reject\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return Promise.resolve().then(function () {\r\n    return getBinary(wasmBinaryFile);\r\n  });\r\n}\r\nfunction createWasm() {\r\n  var info = { a: asmLibraryArg };\r\n  function receiveInstance(instance, module) {\r\n    var exports = instance.exports;\r\n    Module[\"asm\"] = exports;\r\n    wasmMemory = Module[\"asm\"][\"M\"];\r\n    updateGlobalBufferAndViews(wasmMemory.buffer);\r\n    wasmTable = Module[\"asm\"][\"V\"];\r\n    addOnInit(Module[\"asm\"][\"N\"]);\r\n    removeRunDependency(\"wasm-instantiate\");\r\n  }\r\n  addRunDependency(\"wasm-instantiate\");\r\n  function receiveInstantiationResult(result) {\r\n    receiveInstance(result[\"instance\"]);\r\n  }\r\n  function instantiateArrayBuffer(receiver) {\r\n    return getBinaryPromise()\r\n      .then(function (binary) {\r\n        var result = WebAssembly.instantiate(binary, info);\r\n        return result;\r\n      })\r\n      .then(receiver, function (reason) {\r\n        err(\"failed to asynchronously prepare wasm: \" + reason);\r\n        abort(reason);\r\n      });\r\n  }\r\n  function instantiateAsync() {\r\n    if (\r\n      !wasmBinary &&\r\n      typeof WebAssembly.instantiateStreaming === \"function\" &&\r\n      !isDataURI(wasmBinaryFile) &&\r\n      !isFileURI(wasmBinaryFile) &&\r\n      typeof fetch === \"function\"\r\n    ) {\r\n      return fetch(wasmBinaryFile, { credentials: \"same-origin\" }).then(\r\n        function (response) {\r\n          var result = WebAssembly.instantiateStreaming(response, info);\r\n          return result.then(receiveInstantiationResult, function (reason) {\r\n            err(\"wasm streaming compile failed: \" + reason);\r\n            err(\"falling back to ArrayBuffer instantiation\");\r\n            return instantiateArrayBuffer(receiveInstantiationResult);\r\n          });\r\n        }\r\n      );\r\n    } else {\r\n      return instantiateArrayBuffer(receiveInstantiationResult);\r\n    }\r\n  }\r\n  if (Module[\"instantiateWasm\"]) {\r\n    try {\r\n      var exports = Module[\"instantiateWasm\"](info, receiveInstance);\r\n      return exports;\r\n    } catch (e) {\r\n      err(\"Module.instantiateWasm callback failed with error: \" + e);\r\n      return false;\r\n    }\r\n  }\r\n  instantiateAsync();\r\n  return {};\r\n}\r\nfunction callRuntimeCallbacks(callbacks) {\r\n  while (callbacks.length > 0) {\r\n    var callback = callbacks.shift();\r\n    if (typeof callback == \"function\") {\r\n      callback(Module);\r\n      continue;\r\n    }\r\n    var func = callback.func;\r\n    if (typeof func === \"number\") {\r\n      if (callback.arg === undefined) {\r\n        wasmTable.get(func)();\r\n      } else {\r\n        wasmTable.get(func)(callback.arg);\r\n      }\r\n    } else {\r\n      func(callback.arg === undefined ? null : callback.arg);\r\n    }\r\n  }\r\n}\r\nvar ExceptionInfoAttrs = {\r\n  DESTRUCTOR_OFFSET: 0,\r\n  REFCOUNT_OFFSET: 4,\r\n  TYPE_OFFSET: 8,\r\n  CAUGHT_OFFSET: 12,\r\n  RETHROWN_OFFSET: 13,\r\n  SIZE: 16,\r\n};\r\nfunction ___cxa_allocate_exception(size) {\r\n  return _malloc(size + ExceptionInfoAttrs.SIZE) + ExceptionInfoAttrs.SIZE;\r\n}\r\nfunction ExceptionInfo(excPtr) {\r\n  this.excPtr = excPtr;\r\n  this.ptr = excPtr - ExceptionInfoAttrs.SIZE;\r\n  this.set_type = function (type) {\r\n    HEAP32[(this.ptr + ExceptionInfoAttrs.TYPE_OFFSET) >> 2] = type;\r\n  };\r\n  this.get_type = function () {\r\n    return HEAP32[(this.ptr + ExceptionInfoAttrs.TYPE_OFFSET) >> 2];\r\n  };\r\n  this.set_destructor = function (destructor) {\r\n    HEAP32[(this.ptr + ExceptionInfoAttrs.DESTRUCTOR_OFFSET) >> 2] = destructor;\r\n  };\r\n  this.get_destructor = function () {\r\n    return HEAP32[(this.ptr + ExceptionInfoAttrs.DESTRUCTOR_OFFSET) >> 2];\r\n  };\r\n  this.set_refcount = function (refcount) {\r\n    HEAP32[(this.ptr + ExceptionInfoAttrs.REFCOUNT_OFFSET) >> 2] = refcount;\r\n  };\r\n  this.set_caught = function (caught) {\r\n    caught = caught ? 1 : 0;\r\n    HEAP8[(this.ptr + ExceptionInfoAttrs.CAUGHT_OFFSET) >> 0] = caught;\r\n  };\r\n  this.get_caught = function () {\r\n    return HEAP8[(this.ptr + ExceptionInfoAttrs.CAUGHT_OFFSET) >> 0] != 0;\r\n  };\r\n  this.set_rethrown = function (rethrown) {\r\n    rethrown = rethrown ? 1 : 0;\r\n    HEAP8[(this.ptr + ExceptionInfoAttrs.RETHROWN_OFFSET) >> 0] = rethrown;\r\n  };\r\n  this.get_rethrown = function () {\r\n    return HEAP8[(this.ptr + ExceptionInfoAttrs.RETHROWN_OFFSET) >> 0] != 0;\r\n  };\r\n  this.init = function (type, destructor) {\r\n    this.set_type(type);\r\n    this.set_destructor(destructor);\r\n    this.set_refcount(0);\r\n    this.set_caught(false);\r\n    this.set_rethrown(false);\r\n  };\r\n  this.add_ref = function () {\r\n    var value = HEAP32[(this.ptr + ExceptionInfoAttrs.REFCOUNT_OFFSET) >> 2];\r\n    HEAP32[(this.ptr + ExceptionInfoAttrs.REFCOUNT_OFFSET) >> 2] = value + 1;\r\n  };\r\n  this.release_ref = function () {\r\n    var prev = HEAP32[(this.ptr + ExceptionInfoAttrs.REFCOUNT_OFFSET) >> 2];\r\n    HEAP32[(this.ptr + ExceptionInfoAttrs.REFCOUNT_OFFSET) >> 2] = prev - 1;\r\n    return prev === 1;\r\n  };\r\n}\r\nfunction CatchInfo(ptr) {\r\n  this.free = function () {\r\n    _free(this.ptr);\r\n    this.ptr = 0;\r\n  };\r\n  this.set_base_ptr = function (basePtr) {\r\n    HEAP32[this.ptr >> 2] = basePtr;\r\n  };\r\n  this.get_base_ptr = function () {\r\n    return HEAP32[this.ptr >> 2];\r\n  };\r\n  this.set_adjusted_ptr = function (adjustedPtr) {\r\n    var ptrSize = 4;\r\n    HEAP32[(this.ptr + ptrSize) >> 2] = adjustedPtr;\r\n  };\r\n  this.get_adjusted_ptr = function () {\r\n    var ptrSize = 4;\r\n    return HEAP32[(this.ptr + ptrSize) >> 2];\r\n  };\r\n  this.get_exception_ptr = function () {\r\n    var isPointer = ___cxa_is_pointer_type(\r\n      this.get_exception_info().get_type()\r\n    );\r\n    if (isPointer) {\r\n      return HEAP32[this.get_base_ptr() >> 2];\r\n    }\r\n    var adjusted = this.get_adjusted_ptr();\r\n    if (adjusted !== 0) return adjusted;\r\n    return this.get_base_ptr();\r\n  };\r\n  this.get_exception_info = function () {\r\n    return new ExceptionInfo(this.get_base_ptr());\r\n  };\r\n  if (ptr === undefined) {\r\n    this.ptr = _malloc(8);\r\n    this.set_adjusted_ptr(0);\r\n  } else {\r\n    this.ptr = ptr;\r\n  }\r\n}\r\nvar exceptionCaught = [];\r\nfunction exception_addRef(info) {\r\n  info.add_ref();\r\n}\r\nvar uncaughtExceptionCount = 0;\r\nfunction ___cxa_begin_catch(ptr) {\r\n  var catchInfo = new CatchInfo(ptr);\r\n  var info = catchInfo.get_exception_info();\r\n  if (!info.get_caught()) {\r\n    info.set_caught(true);\r\n    uncaughtExceptionCount--;\r\n  }\r\n  info.set_rethrown(false);\r\n  exceptionCaught.push(catchInfo);\r\n  exception_addRef(info);\r\n  return catchInfo.get_exception_ptr();\r\n}\r\nvar exceptionLast = 0;\r\nfunction ___cxa_free_exception(ptr) {\r\n  return _free(new ExceptionInfo(ptr).ptr);\r\n}\r\nfunction exception_decRef(info) {\r\n  if (info.release_ref() && !info.get_rethrown()) {\r\n    var destructor = info.get_destructor();\r\n    if (destructor) {\r\n      wasmTable.get(destructor)(info.excPtr);\r\n    }\r\n    ___cxa_free_exception(info.excPtr);\r\n  }\r\n}\r\nfunction ___cxa_end_catch() {\r\n  _setThrew(0);\r\n  var catchInfo = exceptionCaught.pop();\r\n  exception_decRef(catchInfo.get_exception_info());\r\n  catchInfo.free();\r\n  exceptionLast = 0;\r\n}\r\nfunction ___resumeException(catchInfoPtr) {\r\n  var catchInfo = new CatchInfo(catchInfoPtr);\r\n  var ptr = catchInfo.get_base_ptr();\r\n  if (!exceptionLast) {\r\n    exceptionLast = ptr;\r\n  }\r\n  catchInfo.free();\r\n  throw ptr;\r\n}\r\nfunction ___cxa_find_matching_catch_2() {\r\n  var thrown = exceptionLast;\r\n  if (!thrown) {\r\n    setTempRet0(0);\r\n    return 0 | 0;\r\n  }\r\n  var info = new ExceptionInfo(thrown);\r\n  var thrownType = info.get_type();\r\n  var catchInfo = new CatchInfo();\r\n  catchInfo.set_base_ptr(thrown);\r\n  if (!thrownType) {\r\n    setTempRet0(0);\r\n    return catchInfo.ptr | 0;\r\n  }\r\n  var typeArray = Array.prototype.slice.call(arguments);\r\n  var stackTop = stackSave();\r\n  var exceptionThrowBuf = stackAlloc(4);\r\n  HEAP32[exceptionThrowBuf >> 2] = thrown;\r\n  for (var i = 0; i < typeArray.length; i++) {\r\n    var caughtType = typeArray[i];\r\n    if (caughtType === 0 || caughtType === thrownType) {\r\n      break;\r\n    }\r\n    if (___cxa_can_catch(caughtType, thrownType, exceptionThrowBuf)) {\r\n      var adjusted = HEAP32[exceptionThrowBuf >> 2];\r\n      if (thrown !== adjusted) {\r\n        catchInfo.set_adjusted_ptr(adjusted);\r\n      }\r\n      setTempRet0(caughtType);\r\n      return catchInfo.ptr | 0;\r\n    }\r\n  }\r\n  stackRestore(stackTop);\r\n  setTempRet0(thrownType);\r\n  return catchInfo.ptr | 0;\r\n}\r\nfunction ___cxa_find_matching_catch_3() {\r\n  var thrown = exceptionLast;\r\n  if (!thrown) {\r\n    setTempRet0(0);\r\n    return 0 | 0;\r\n  }\r\n  var info = new ExceptionInfo(thrown);\r\n  var thrownType = info.get_type();\r\n  var catchInfo = new CatchInfo();\r\n  catchInfo.set_base_ptr(thrown);\r\n  if (!thrownType) {\r\n    setTempRet0(0);\r\n    return catchInfo.ptr | 0;\r\n  }\r\n  var typeArray = Array.prototype.slice.call(arguments);\r\n  var stackTop = stackSave();\r\n  var exceptionThrowBuf = stackAlloc(4);\r\n  HEAP32[exceptionThrowBuf >> 2] = thrown;\r\n  for (var i = 0; i < typeArray.length; i++) {\r\n    var caughtType = typeArray[i];\r\n    if (caughtType === 0 || caughtType === thrownType) {\r\n      break;\r\n    }\r\n    if (___cxa_can_catch(caughtType, thrownType, exceptionThrowBuf)) {\r\n      var adjusted = HEAP32[exceptionThrowBuf >> 2];\r\n      if (thrown !== adjusted) {\r\n        catchInfo.set_adjusted_ptr(adjusted);\r\n      }\r\n      setTempRet0(caughtType);\r\n      return catchInfo.ptr | 0;\r\n    }\r\n  }\r\n  stackRestore(stackTop);\r\n  setTempRet0(thrownType);\r\n  return catchInfo.ptr | 0;\r\n}\r\nfunction ___cxa_rethrow() {\r\n  var catchInfo = exceptionCaught.pop();\r\n  if (!catchInfo) {\r\n    abort(\"no exception to throw\");\r\n  }\r\n  var info = catchInfo.get_exception_info();\r\n  var ptr = catchInfo.get_base_ptr();\r\n  if (!info.get_rethrown()) {\r\n    exceptionCaught.push(catchInfo);\r\n    info.set_rethrown(true);\r\n    info.set_caught(false);\r\n    uncaughtExceptionCount++;\r\n  } else {\r\n    catchInfo.free();\r\n  }\r\n  exceptionLast = ptr;\r\n  throw ptr;\r\n}\r\nfunction ___cxa_throw(ptr, type, destructor) {\r\n  var info = new ExceptionInfo(ptr);\r\n  info.init(type, destructor);\r\n  exceptionLast = ptr;\r\n  uncaughtExceptionCount++;\r\n  throw ptr;\r\n}\r\nfunction ___cxa_uncaught_exceptions() {\r\n  return uncaughtExceptionCount;\r\n}\r\nfunction _abort() {\r\n  abort();\r\n}\r\nfunction _emscripten_memcpy_big(dest, src, num) {\r\n  HEAPU8.copyWithin(dest, src, src + num);\r\n}\r\nfunction emscripten_realloc_buffer(size) {\r\n  try {\r\n    wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\r\n    updateGlobalBufferAndViews(wasmMemory.buffer);\r\n    return 1;\r\n  } catch (e) {}\r\n}\r\nfunction _emscripten_resize_heap(requestedSize) {\r\n  var oldSize = HEAPU8.length;\r\n  requestedSize = requestedSize >>> 0;\r\n  var maxHeapSize = 2147483648;\r\n  if (requestedSize > maxHeapSize) {\r\n    return false;\r\n  }\r\n  for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\r\n    var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\r\n    overGrownHeapSize = Math.min(overGrownHeapSize, requestedSize + 100663296);\r\n    var newSize = Math.min(\r\n      maxHeapSize,\r\n      alignUp(Math.max(requestedSize, overGrownHeapSize), 65536)\r\n    );\r\n    var replacement = emscripten_realloc_buffer(newSize);\r\n    if (replacement) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\nvar ENV = {};\r\nfunction getExecutableName() {\r\n  return thisProgram || \"./this.program\";\r\n}\r\nfunction getEnvStrings() {\r\n  if (!getEnvStrings.strings) {\r\n    var lang =\r\n      (\r\n        (typeof navigator === \"object\" &&\r\n          navigator.languages &&\r\n          navigator.languages[0]) ||\r\n        \"C\"\r\n      ).replace(\"-\", \"_\") + \".UTF-8\";\r\n    var env = {\r\n      USER: \"web_user\",\r\n      LOGNAME: \"web_user\",\r\n      PATH: \"/\",\r\n      PWD: \"/\",\r\n      HOME: \"/home/web_user\",\r\n      LANG: lang,\r\n      _: getExecutableName(),\r\n    };\r\n    for (var x in ENV) {\r\n      env[x] = ENV[x];\r\n    }\r\n    var strings = [];\r\n    for (var x in env) {\r\n      strings.push(x + \"=\" + env[x]);\r\n    }\r\n    getEnvStrings.strings = strings;\r\n  }\r\n  return getEnvStrings.strings;\r\n}\r\nvar SYSCALLS = {\r\n  mappings: {},\r\n  buffers: [null, [], []],\r\n  printChar: function (stream, curr) {\r\n    var buffer = SYSCALLS.buffers[stream];\r\n    if (curr === 0 || curr === 10) {\r\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\r\n      buffer.length = 0;\r\n    } else {\r\n      buffer.push(curr);\r\n    }\r\n  },\r\n  varargs: undefined,\r\n  get: function () {\r\n    SYSCALLS.varargs += 4;\r\n    var ret = HEAP32[(SYSCALLS.varargs - 4) >> 2];\r\n    return ret;\r\n  },\r\n  getStr: function (ptr) {\r\n    var ret = UTF8ToString(ptr);\r\n    return ret;\r\n  },\r\n  get64: function (low, high) {\r\n    return low;\r\n  },\r\n};\r\nfunction _environ_get(__environ, environ_buf) {\r\n  var bufSize = 0;\r\n  getEnvStrings().forEach(function (string, i) {\r\n    var ptr = environ_buf + bufSize;\r\n    HEAP32[(__environ + i * 4) >> 2] = ptr;\r\n    writeAsciiToMemory(string, ptr);\r\n    bufSize += string.length + 1;\r\n  });\r\n  return 0;\r\n}\r\nfunction _environ_sizes_get(penviron_count, penviron_buf_size) {\r\n  var strings = getEnvStrings();\r\n  HEAP32[penviron_count >> 2] = strings.length;\r\n  var bufSize = 0;\r\n  strings.forEach(function (string) {\r\n    bufSize += string.length + 1;\r\n  });\r\n  HEAP32[penviron_buf_size >> 2] = bufSize;\r\n  return 0;\r\n}\r\nfunction _getTempRet0() {\r\n  return getTempRet0();\r\n}\r\nfunction _setTempRet0(val) {\r\n  setTempRet0(val);\r\n}\r\nfunction __isLeapYear(year) {\r\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\r\n}\r\nfunction __arraySum(array, index) {\r\n  var sum = 0;\r\n  for (var i = 0; i <= index; sum += array[i++]) {}\r\n  return sum;\r\n}\r\nvar __MONTH_DAYS_LEAP = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nvar __MONTH_DAYS_REGULAR = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nfunction __addDays(date, days) {\r\n  var newDate = new Date(date.getTime());\r\n  while (days > 0) {\r\n    var leap = __isLeapYear(newDate.getFullYear());\r\n    var currentMonth = newDate.getMonth();\r\n    var daysInCurrentMonth = (leap ? __MONTH_DAYS_LEAP : __MONTH_DAYS_REGULAR)[\r\n      currentMonth\r\n    ];\r\n    if (days > daysInCurrentMonth - newDate.getDate()) {\r\n      days -= daysInCurrentMonth - newDate.getDate() + 1;\r\n      newDate.setDate(1);\r\n      if (currentMonth < 11) {\r\n        newDate.setMonth(currentMonth + 1);\r\n      } else {\r\n        newDate.setMonth(0);\r\n        newDate.setFullYear(newDate.getFullYear() + 1);\r\n      }\r\n    } else {\r\n      newDate.setDate(newDate.getDate() + days);\r\n      return newDate;\r\n    }\r\n  }\r\n  return newDate;\r\n}\r\nfunction _strftime(s, maxsize, format, tm) {\r\n  var tm_zone = HEAP32[(tm + 40) >> 2];\r\n  var date = {\r\n    tm_sec: HEAP32[tm >> 2],\r\n    tm_min: HEAP32[(tm + 4) >> 2],\r\n    tm_hour: HEAP32[(tm + 8) >> 2],\r\n    tm_mday: HEAP32[(tm + 12) >> 2],\r\n    tm_mon: HEAP32[(tm + 16) >> 2],\r\n    tm_year: HEAP32[(tm + 20) >> 2],\r\n    tm_wday: HEAP32[(tm + 24) >> 2],\r\n    tm_yday: HEAP32[(tm + 28) >> 2],\r\n    tm_isdst: HEAP32[(tm + 32) >> 2],\r\n    tm_gmtoff: HEAP32[(tm + 36) >> 2],\r\n    tm_zone: tm_zone ? UTF8ToString(tm_zone) : \"\",\r\n  };\r\n  var pattern = UTF8ToString(format);\r\n  var EXPANSION_RULES_1 = {\r\n    \"%c\": \"%a %b %d %H:%M:%S %Y\",\r\n    \"%D\": \"%m/%d/%y\",\r\n    \"%F\": \"%Y-%m-%d\",\r\n    \"%h\": \"%b\",\r\n    \"%r\": \"%I:%M:%S %p\",\r\n    \"%R\": \"%H:%M\",\r\n    \"%T\": \"%H:%M:%S\",\r\n    \"%x\": \"%m/%d/%y\",\r\n    \"%X\": \"%H:%M:%S\",\r\n    \"%Ec\": \"%c\",\r\n    \"%EC\": \"%C\",\r\n    \"%Ex\": \"%m/%d/%y\",\r\n    \"%EX\": \"%H:%M:%S\",\r\n    \"%Ey\": \"%y\",\r\n    \"%EY\": \"%Y\",\r\n    \"%Od\": \"%d\",\r\n    \"%Oe\": \"%e\",\r\n    \"%OH\": \"%H\",\r\n    \"%OI\": \"%I\",\r\n    \"%Om\": \"%m\",\r\n    \"%OM\": \"%M\",\r\n    \"%OS\": \"%S\",\r\n    \"%Ou\": \"%u\",\r\n    \"%OU\": \"%U\",\r\n    \"%OV\": \"%V\",\r\n    \"%Ow\": \"%w\",\r\n    \"%OW\": \"%W\",\r\n    \"%Oy\": \"%y\",\r\n  };\r\n  for (var rule in EXPANSION_RULES_1) {\r\n    pattern = pattern.replace(new RegExp(rule, \"g\"), EXPANSION_RULES_1[rule]);\r\n  }\r\n  var WEEKDAYS = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ];\r\n  var MONTHS = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n  function leadingSomething(value, digits, character) {\r\n    var str = typeof value === \"number\" ? value.toString() : value || \"\";\r\n    while (str.length < digits) {\r\n      str = character[0] + str;\r\n    }\r\n    return str;\r\n  }\r\n  function leadingNulls(value, digits) {\r\n    return leadingSomething(value, digits, \"0\");\r\n  }\r\n  function compareByDay(date1, date2) {\r\n    function sgn(value) {\r\n      return value < 0 ? -1 : value > 0 ? 1 : 0;\r\n    }\r\n    var compare;\r\n    if ((compare = sgn(date1.getFullYear() - date2.getFullYear())) === 0) {\r\n      if ((compare = sgn(date1.getMonth() - date2.getMonth())) === 0) {\r\n        compare = sgn(date1.getDate() - date2.getDate());\r\n      }\r\n    }\r\n    return compare;\r\n  }\r\n  function getFirstWeekStartDate(janFourth) {\r\n    switch (janFourth.getDay()) {\r\n      case 0:\r\n        return new Date(janFourth.getFullYear() - 1, 11, 29);\r\n      case 1:\r\n        return janFourth;\r\n      case 2:\r\n        return new Date(janFourth.getFullYear(), 0, 3);\r\n      case 3:\r\n        return new Date(janFourth.getFullYear(), 0, 2);\r\n      case 4:\r\n        return new Date(janFourth.getFullYear(), 0, 1);\r\n      case 5:\r\n        return new Date(janFourth.getFullYear() - 1, 11, 31);\r\n      case 6:\r\n        return new Date(janFourth.getFullYear() - 1, 11, 30);\r\n    }\r\n  }\r\n  function getWeekBasedYear(date) {\r\n    var thisDate = __addDays(new Date(date.tm_year + 1900, 0, 1), date.tm_yday);\r\n    var janFourthThisYear = new Date(thisDate.getFullYear(), 0, 4);\r\n    var janFourthNextYear = new Date(thisDate.getFullYear() + 1, 0, 4);\r\n    var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);\r\n    var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);\r\n    if (compareByDay(firstWeekStartThisYear, thisDate) <= 0) {\r\n      if (compareByDay(firstWeekStartNextYear, thisDate) <= 0) {\r\n        return thisDate.getFullYear() + 1;\r\n      } else {\r\n        return thisDate.getFullYear();\r\n      }\r\n    } else {\r\n      return thisDate.getFullYear() - 1;\r\n    }\r\n  }\r\n  var EXPANSION_RULES_2 = {\r\n    \"%a\": function (date) {\r\n      return WEEKDAYS[date.tm_wday].substring(0, 3);\r\n    },\r\n    \"%A\": function (date) {\r\n      return WEEKDAYS[date.tm_wday];\r\n    },\r\n    \"%b\": function (date) {\r\n      return MONTHS[date.tm_mon].substring(0, 3);\r\n    },\r\n    \"%B\": function (date) {\r\n      return MONTHS[date.tm_mon];\r\n    },\r\n    \"%C\": function (date) {\r\n      var year = date.tm_year + 1900;\r\n      return leadingNulls((year / 100) | 0, 2);\r\n    },\r\n    \"%d\": function (date) {\r\n      return leadingNulls(date.tm_mday, 2);\r\n    },\r\n    \"%e\": function (date) {\r\n      return leadingSomething(date.tm_mday, 2, \" \");\r\n    },\r\n    \"%g\": function (date) {\r\n      return getWeekBasedYear(date).toString().substring(2);\r\n    },\r\n    \"%G\": function (date) {\r\n      return getWeekBasedYear(date);\r\n    },\r\n    \"%H\": function (date) {\r\n      return leadingNulls(date.tm_hour, 2);\r\n    },\r\n    \"%I\": function (date) {\r\n      var twelveHour = date.tm_hour;\r\n      if (twelveHour == 0) twelveHour = 12;\r\n      else if (twelveHour > 12) twelveHour -= 12;\r\n      return leadingNulls(twelveHour, 2);\r\n    },\r\n    \"%j\": function (date) {\r\n      return leadingNulls(\r\n        date.tm_mday +\r\n          __arraySum(\r\n            __isLeapYear(date.tm_year + 1900)\r\n              ? __MONTH_DAYS_LEAP\r\n              : __MONTH_DAYS_REGULAR,\r\n            date.tm_mon - 1\r\n          ),\r\n        3\r\n      );\r\n    },\r\n    \"%m\": function (date) {\r\n      return leadingNulls(date.tm_mon + 1, 2);\r\n    },\r\n    \"%M\": function (date) {\r\n      return leadingNulls(date.tm_min, 2);\r\n    },\r\n    \"%n\": function () {\r\n      return \"\\n\";\r\n    },\r\n    \"%p\": function (date) {\r\n      if (date.tm_hour >= 0 && date.tm_hour < 12) {\r\n        return \"AM\";\r\n      } else {\r\n        return \"PM\";\r\n      }\r\n    },\r\n    \"%S\": function (date) {\r\n      return leadingNulls(date.tm_sec, 2);\r\n    },\r\n    \"%t\": function () {\r\n      return \"\\t\";\r\n    },\r\n    \"%u\": function (date) {\r\n      return date.tm_wday || 7;\r\n    },\r\n    \"%U\": function (date) {\r\n      var janFirst = new Date(date.tm_year + 1900, 0, 1);\r\n      var firstSunday =\r\n        janFirst.getDay() === 0\r\n          ? janFirst\r\n          : __addDays(janFirst, 7 - janFirst.getDay());\r\n      var endDate = new Date(date.tm_year + 1900, date.tm_mon, date.tm_mday);\r\n      if (compareByDay(firstSunday, endDate) < 0) {\r\n        var februaryFirstUntilEndMonth =\r\n          __arraySum(\r\n            __isLeapYear(endDate.getFullYear())\r\n              ? __MONTH_DAYS_LEAP\r\n              : __MONTH_DAYS_REGULAR,\r\n            endDate.getMonth() - 1\r\n          ) - 31;\r\n        var firstSundayUntilEndJanuary = 31 - firstSunday.getDate();\r\n        var days =\r\n          firstSundayUntilEndJanuary +\r\n          februaryFirstUntilEndMonth +\r\n          endDate.getDate();\r\n        return leadingNulls(Math.ceil(days / 7), 2);\r\n      }\r\n      return compareByDay(firstSunday, janFirst) === 0 ? \"01\" : \"00\";\r\n    },\r\n    \"%V\": function (date) {\r\n      var janFourthThisYear = new Date(date.tm_year + 1900, 0, 4);\r\n      var janFourthNextYear = new Date(date.tm_year + 1901, 0, 4);\r\n      var firstWeekStartThisYear = getFirstWeekStartDate(janFourthThisYear);\r\n      var firstWeekStartNextYear = getFirstWeekStartDate(janFourthNextYear);\r\n      var endDate = __addDays(\r\n        new Date(date.tm_year + 1900, 0, 1),\r\n        date.tm_yday\r\n      );\r\n      if (compareByDay(endDate, firstWeekStartThisYear) < 0) {\r\n        return \"53\";\r\n      }\r\n      if (compareByDay(firstWeekStartNextYear, endDate) <= 0) {\r\n        return \"01\";\r\n      }\r\n      var daysDifference;\r\n      if (firstWeekStartThisYear.getFullYear() < date.tm_year + 1900) {\r\n        daysDifference = date.tm_yday + 32 - firstWeekStartThisYear.getDate();\r\n      } else {\r\n        daysDifference = date.tm_yday + 1 - firstWeekStartThisYear.getDate();\r\n      }\r\n      return leadingNulls(Math.ceil(daysDifference / 7), 2);\r\n    },\r\n    \"%w\": function (date) {\r\n      return date.tm_wday;\r\n    },\r\n    \"%W\": function (date) {\r\n      var janFirst = new Date(date.tm_year, 0, 1);\r\n      var firstMonday =\r\n        janFirst.getDay() === 1\r\n          ? janFirst\r\n          : __addDays(\r\n              janFirst,\r\n              janFirst.getDay() === 0 ? 1 : 7 - janFirst.getDay() + 1\r\n            );\r\n      var endDate = new Date(date.tm_year + 1900, date.tm_mon, date.tm_mday);\r\n      if (compareByDay(firstMonday, endDate) < 0) {\r\n        var februaryFirstUntilEndMonth =\r\n          __arraySum(\r\n            __isLeapYear(endDate.getFullYear())\r\n              ? __MONTH_DAYS_LEAP\r\n              : __MONTH_DAYS_REGULAR,\r\n            endDate.getMonth() - 1\r\n          ) - 31;\r\n        var firstMondayUntilEndJanuary = 31 - firstMonday.getDate();\r\n        var days =\r\n          firstMondayUntilEndJanuary +\r\n          februaryFirstUntilEndMonth +\r\n          endDate.getDate();\r\n        return leadingNulls(Math.ceil(days / 7), 2);\r\n      }\r\n      return compareByDay(firstMonday, janFirst) === 0 ? \"01\" : \"00\";\r\n    },\r\n    \"%y\": function (date) {\r\n      return (date.tm_year + 1900).toString().substring(2);\r\n    },\r\n    \"%Y\": function (date) {\r\n      return date.tm_year + 1900;\r\n    },\r\n    \"%z\": function (date) {\r\n      var off = date.tm_gmtoff;\r\n      var ahead = off >= 0;\r\n      off = Math.abs(off) / 60;\r\n      off = (off / 60) * 100 + (off % 60);\r\n      return (ahead ? \"+\" : \"-\") + String(\"0000\" + off).slice(-4);\r\n    },\r\n    \"%Z\": function (date) {\r\n      return date.tm_zone;\r\n    },\r\n    \"%%\": function () {\r\n      return \"%\";\r\n    },\r\n  };\r\n  for (var rule in EXPANSION_RULES_2) {\r\n    if (pattern.includes(rule)) {\r\n      pattern = pattern.replace(\r\n        new RegExp(rule, \"g\"),\r\n        EXPANSION_RULES_2[rule](date)\r\n      );\r\n    }\r\n  }\r\n  var bytes = intArrayFromString(pattern, false);\r\n  if (bytes.length > maxsize) {\r\n    return 0;\r\n  }\r\n  writeArrayToMemory(bytes, s);\r\n  return bytes.length - 1;\r\n}\r\nfunction _strftime_l(s, maxsize, format, tm) {\r\n  return _strftime(s, maxsize, format, tm);\r\n}\r\nfunction intArrayFromString(stringy, dontAddNull, length) {\r\n  var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;\r\n  var u8array = new Array(len);\r\n  var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\r\n  if (dontAddNull) u8array.length = numBytesWritten;\r\n  return u8array;\r\n}\r\nvar asmLibraryArg = {\r\n  g: ___cxa_allocate_exception,\r\n  t: ___cxa_begin_catch,\r\n  w: ___cxa_end_catch,\r\n  b: ___cxa_find_matching_catch_2,\r\n  i: ___cxa_find_matching_catch_3,\r\n  n: ___cxa_free_exception,\r\n  A: ___cxa_rethrow,\r\n  k: ___cxa_throw,\r\n  K: ___cxa_uncaught_exceptions,\r\n  e: ___resumeException,\r\n  L: _abort,\r\n  F: _emscripten_memcpy_big,\r\n  G: _emscripten_resize_heap,\r\n  I: _environ_get,\r\n  J: _environ_sizes_get,\r\n  a: _getTempRet0,\r\n  B: invoke_diii,\r\n  C: invoke_fiii,\r\n  o: invoke_i,\r\n  d: invoke_ii,\r\n  c: invoke_iii,\r\n  m: invoke_iiii,\r\n  h: invoke_iiiii,\r\n  r: invoke_iiiiiii,\r\n  z: invoke_iiiiiiii,\r\n  y: invoke_iiiiiiiiii,\r\n  v: invoke_iiiiiiiiiiii,\r\n  D: invoke_jiiii,\r\n  j: invoke_v,\r\n  l: invoke_vi,\r\n  f: invoke_vii,\r\n  p: invoke_viii,\r\n  x: invoke_viiii,\r\n  q: invoke_viiiiiii,\r\n  s: invoke_viiiiiiiiii,\r\n  u: invoke_viiiiiiiiiiiiiii,\r\n  E: _setTempRet0,\r\n  H: _strftime_l,\r\n};\r\nvar asm = createWasm();\r\nvar ___wasm_call_ctors = (Module[\"___wasm_call_ctors\"] = function () {\r\n  return (___wasm_call_ctors = Module[\"___wasm_call_ctors\"] =\r\n    Module[\"asm\"][\"N\"]).apply(null, arguments);\r\n});\r\nvar _GetBlingFireTokVersion = (Module[\"_GetBlingFireTokVersion\"] = function () {\r\n  return (_GetBlingFireTokVersion = Module[\"_GetBlingFireTokVersion\"] =\r\n    Module[\"asm\"][\"O\"]).apply(null, arguments);\r\n});\r\nvar _TextToSentences = (Module[\"_TextToSentences\"] = function () {\r\n  return (_TextToSentences = Module[\"_TextToSentences\"] =\r\n    Module[\"asm\"][\"P\"]).apply(null, arguments);\r\n});\r\nvar _TextToWords = (Module[\"_TextToWords\"] = function () {\r\n  return (_TextToWords = Module[\"_TextToWords\"] = Module[\"asm\"][\"Q\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _WordHyphenationWithModel = (Module[\"_WordHyphenationWithModel\"] =\r\n  function () {\r\n    return (_WordHyphenationWithModel = Module[\"_WordHyphenationWithModel\"] =\r\n      Module[\"asm\"][\"R\"]).apply(null, arguments);\r\n  });\r\nvar _SetModel = (Module[\"_SetModel\"] = function () {\r\n  return (_SetModel = Module[\"_SetModel\"] = Module[\"asm\"][\"S\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _TextToIds = (Module[\"_TextToIds\"] = function () {\r\n  return (_TextToIds = Module[\"_TextToIds\"] = Module[\"asm\"][\"T\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _FreeModel = (Module[\"_FreeModel\"] = function () {\r\n  return (_FreeModel = Module[\"_FreeModel\"] = Module[\"asm\"][\"U\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _malloc = (Module[\"_malloc\"] = function () {\r\n  return (_malloc = Module[\"_malloc\"] = Module[\"asm\"][\"W\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _free = (Module[\"_free\"] = function () {\r\n  return (_free = Module[\"_free\"] = Module[\"asm\"][\"X\"]).apply(null, arguments);\r\n});\r\nvar stackSave = (Module[\"stackSave\"] = function () {\r\n  return (stackSave = Module[\"stackSave\"] = Module[\"asm\"][\"Y\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar stackRestore = (Module[\"stackRestore\"] = function () {\r\n  return (stackRestore = Module[\"stackRestore\"] = Module[\"asm\"][\"Z\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar stackAlloc = (Module[\"stackAlloc\"] = function () {\r\n  return (stackAlloc = Module[\"stackAlloc\"] = Module[\"asm\"][\"_\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar _setThrew = (Module[\"_setThrew\"] = function () {\r\n  return (_setThrew = Module[\"_setThrew\"] = Module[\"asm\"][\"$\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nvar ___cxa_can_catch = (Module[\"___cxa_can_catch\"] = function () {\r\n  return (___cxa_can_catch = Module[\"___cxa_can_catch\"] =\r\n    Module[\"asm\"][\"aa\"]).apply(null, arguments);\r\n});\r\nvar ___cxa_is_pointer_type = (Module[\"___cxa_is_pointer_type\"] = function () {\r\n  return (___cxa_is_pointer_type = Module[\"___cxa_is_pointer_type\"] =\r\n    Module[\"asm\"][\"ba\"]).apply(null, arguments);\r\n});\r\nvar dynCall_jiiii = (Module[\"dynCall_jiiii\"] = function () {\r\n  return (dynCall_jiiii = Module[\"dynCall_jiiii\"] = Module[\"asm\"][\"ca\"]).apply(\r\n    null,\r\n    arguments\r\n  );\r\n});\r\nfunction invoke_ii(index, a1) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_v(index) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)();\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_vi(index, a1) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iii(index, a1, a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiiii(index, a1, a2, a3, a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3, a4);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiii(index, a1, a2, a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_vii(index, a1, a2) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1, a2);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiiiiii(index, a1, a2, a3, a4, a5, a6) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3, a4, a5, a6);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_viii(index, a1, a2, a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1, a2, a3);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_viiii(index, a1, a2, a3, a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1, a2, a3, a4);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_fiii(index, a1, a2, a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_diii(index, a1, a2, a3) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_i(index) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)();\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3, a4, a5, a6, a7);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_viiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1, a2, a3, a4, a5, a6, a7);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_iiiiiiiiiiii(\r\n  index,\r\n  a1,\r\n  a2,\r\n  a3,\r\n  a4,\r\n  a5,\r\n  a6,\r\n  a7,\r\n  a8,\r\n  a9,\r\n  a10,\r\n  a11\r\n) {\r\n  var sp = stackSave();\r\n  try {\r\n    return wasmTable.get(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_viiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_viiiiiiiiiiiiiii(\r\n  index,\r\n  a1,\r\n  a2,\r\n  a3,\r\n  a4,\r\n  a5,\r\n  a6,\r\n  a7,\r\n  a8,\r\n  a9,\r\n  a10,\r\n  a11,\r\n  a12,\r\n  a13,\r\n  a14,\r\n  a15\r\n) {\r\n  var sp = stackSave();\r\n  try {\r\n    wasmTable.get(index)(\r\n      a1,\r\n      a2,\r\n      a3,\r\n      a4,\r\n      a5,\r\n      a6,\r\n      a7,\r\n      a8,\r\n      a9,\r\n      a10,\r\n      a11,\r\n      a12,\r\n      a13,\r\n      a14,\r\n      a15\r\n    );\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nfunction invoke_jiiii(index, a1, a2, a3, a4) {\r\n  var sp = stackSave();\r\n  try {\r\n    return dynCall_jiiii(index, a1, a2, a3, a4);\r\n  } catch (e) {\r\n    stackRestore(sp);\r\n    if (e !== e + 0 && e !== \"longjmp\") throw e;\r\n    _setThrew(1, 0);\r\n  }\r\n}\r\nModule[\"UTF8ToString\"] = UTF8ToString;\r\nModule[\"stringToUTF8\"] = stringToUTF8;\r\nModule[\"lengthBytesUTF8\"] = lengthBytesUTF8;\r\nModule[\"stackAlloc\"] = stackAlloc;\r\nvar calledRun;\r\nfunction ExitStatus(status) {\r\n  this.name = \"ExitStatus\";\r\n  this.message = \"Program terminated with exit(\" + status + \")\";\r\n  this.status = status;\r\n}\r\ndependenciesFulfilled = function runCaller() {\r\n  if (!calledRun) run();\r\n  if (!calledRun) dependenciesFulfilled = runCaller;\r\n};\r\nfunction run(args) {\r\n  args = args || arguments_;\r\n  if (runDependencies > 0) {\r\n    return;\r\n  }\r\n  preRun();\r\n  if (runDependencies > 0) {\r\n    return;\r\n  }\r\n  function doRun() {\r\n    if (calledRun) return;\r\n    calledRun = true;\r\n    Module[\"calledRun\"] = true;\r\n    if (ABORT) return;\r\n    initRuntime();\r\n    if (Module[\"onRuntimeInitialized\"]) Module[\"onRuntimeInitialized\"]();\r\n    postRun();\r\n  }\r\n  if (Module[\"setStatus\"]) {\r\n    Module[\"setStatus\"](\"Running...\");\r\n    setTimeout(function () {\r\n      setTimeout(function () {\r\n        Module[\"setStatus\"](\"\");\r\n      }, 1);\r\n      doRun();\r\n    }, 1);\r\n  } else {\r\n    doRun();\r\n  }\r\n}\r\nModule[\"run\"] = run;\r\nif (Module[\"preInit\"]) {\r\n  if (typeof Module[\"preInit\"] == \"function\")\r\n    Module[\"preInit\"] = [Module[\"preInit\"]];\r\n  while (Module[\"preInit\"].length > 0) {\r\n    Module[\"preInit\"].pop()();\r\n  }\r\n}\r\nrun();\r\nmodule.exports.Module = Module;\r\n","// import emscripten genenrated module\r\nimport { Module } from './blingfire.js';\r\nimport { promises as fs } from \"fs\";\r\n\r\n// returns version\r\nexport function GetVersion() {\r\n  return Module[\"_GetBlingFireTokVersion\"]();\r\n}\r\n\r\n\r\n// breaks to words, takes a JS string and returns a JS string\r\nexport function TextToWords(s) {\r\n\r\n  var len = Module[\"lengthBytesUTF8\"](s);\r\n\r\n  var inUtf8 = Module[\"stackAlloc\"](len + 1); // if we don't do +1 this library won't copy the last character\r\n  Module[\"stringToUTF8\"](s, inUtf8, len + 1); //  since it always also needs a space for a 0-char\r\n\r\n  var MaxOutLength = (len << 1) + 1; // worst case every character is a token\r\n  var outUtf8 = Module[\"stackAlloc\"](MaxOutLength);\r\n\r\n  var actualLen = Module[\"_TextToWords\"](inUtf8, len, outUtf8, MaxOutLength);\r\n  if(0 > actualLen || actualLen > MaxOutLength) {\r\n    return null;\r\n  }\r\n\r\n  return Module[\"UTF8ToString\"](outUtf8);\r\n}\r\n\r\n// breaks to sentences, takes a JS string and returns a JS string\r\nexport function TextToSentences(s) {\r\n\r\n  var len = Module[\"lengthBytesUTF8\"](s);\r\n\r\n  var inUtf8 = Module[\"stackAlloc\"](len + 1); // if we don't do +1 this library won't copy the last character\r\n  Module[\"stringToUTF8\"](s, inUtf8, len + 1); //  since it always also needs a space for a 0-char\r\n\r\n  var MaxOutLength = (len << 1) + 1; // worst case every character is a token\r\n  var outUtf8 = Module[\"stackAlloc\"](MaxOutLength);\r\n\r\n  var actualLen = Module[\"_TextToSentences\"](inUtf8, len, outUtf8, MaxOutLength);\r\n  if(0 > actualLen || actualLen > MaxOutLength) {\r\n    return null;\r\n  }\r\n\r\n  return Module[\"UTF8ToString\"](outUtf8);\r\n}\r\n\r\nexport async function LoadLocalModel(filePath) {\r\n  var wasmMem = 0;\r\n  var h = 0;\r\n\r\n  try {\r\n    var bytes = await fs.readFile(filePath);\r\n\r\n    const byteArray = new Uint8Array(bytes);\r\n    wasmMem = Module[\"_malloc\"](bytes.byteLength);\r\n    Module[\"HEAPU8\"].set(byteArray, wasmMem);\r\n\r\n    h = Module[\"_SetModel\"](wasmMem, bytes.byteLength);\r\n\r\n    return { h, wasmMem };\r\n  } catch (e) {\r\n    if (wasmMem != 0) {\r\n      Module[\"_free\"](wasmMem);\r\n    }\r\n\r\n    throw new Error(`Error loading model: ${filePath}\\n${e}`);\r\n  }\r\n}\r\n\r\n// loads model by URL\r\nexport async function LoadModel(url) {\r\n\r\n  var wasmMem = 0;\r\n  var h = 0;\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    var bytes = await response.arrayBuffer();\r\n\r\n    const byteArray = new Uint8Array(bytes);\r\n    wasmMem = Module[\"_malloc\"](bytes.byteLength);\r\n    Module[\"HEAPU8\"].set(byteArray, wasmMem);\r\n\r\n    h = Module[\"_SetModel\"](wasmMem, bytes.byteLength);\r\n\r\n    return { h, wasmMem };\r\n\r\n  } catch(e) {\r\n\r\n    console.error('Error loading model: ' + url);\r\n\r\n    if(wasmMem != 0) {\r\n      Module[\"_free\"](wasmMem);\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\n// free model\r\nexport function FreeModel(handle) {\r\n\r\n  if(handle == null) {\r\n    return;\r\n  }\r\n\r\n  var { h, wasmMem } = handle;\r\n\r\n  if(h != 0) {\r\n    Module[\"_FreeModel\"](h);\r\n  }\r\n\r\n  if(wasmMem != 0) {\r\n    Module[\"_free\"](wasmMem);\r\n  }\r\n}\r\n\r\n\r\n// for the loaded model and input text returns an integer array with IDs\r\nexport function TextToIds(handle, s, max_len, unk = 0) {\r\n\r\n  if(handle == null) {\r\n    return;\r\n  }\r\n\r\n  // get the handle parsed\r\n  var { h, wasmMem } = handle;\r\n\r\n  // convert input JS string to UTF-8\r\n  var len = Module[\"lengthBytesUTF8\"](s);\r\n  var inUtf8 = Module[\"stackAlloc\"](len + 1); // if we don't do +1 this library won't copy the last character\r\n  Module[\"stringToUTF8\"](s, inUtf8, len + 1); //  since it always also needs a space for a 0-char\r\n\r\n  // allocate space for ids on stack (it is faster and we don't need to delete it manualy)\r\n  var MaxOutLength = max_len;\r\n  var IdsOut = Module[\"stackAlloc\"](MaxOutLength * 4); // sizeof(int)\r\n\r\n  // get the IDS from BlingFire\r\n  var actualLen = Module[\"_TextToIds\"](h, inUtf8, len, IdsOut, MaxOutLength, unk);\r\n  if(0 >= actualLen) {\r\n    return null;\r\n  }\r\n\r\n  // get the smallest between actualLen and MaxOutLength\r\n  var actualLenOrMax = actualLen < MaxOutLength ? actualLen : MaxOutLength;\r\n\r\n  // read bytes \r\n  var tmp = Module[\"HEAPU8\"].subarray(IdsOut, IdsOut + (actualLenOrMax * 4));\r\n\r\n  // allocate JS array\r\n  var ids = new Int32Array(actualLenOrMax);\r\n\r\n  // decode bytes into int array (I could not find how to make a cast here)\r\n  var i = 0;\r\n  var j = 0;\r\n  for(; i < actualLenOrMax; i++, j+=4) {\r\n    ids[i] = tmp[j] + (tmp[j + 1] * 256) + (tmp[j + 2] * 65536) + (tmp[j + 3] * 16777216);\r\n  }\r\n\r\n  return ids;\r\n}\r\n\r\n\r\n// breaks to words, takes a JS string and returns a JS string\r\nexport function WordHyphenation(handle, s, hyp = 0x2D) {\r\n\r\n  if(handle == null) {\r\n    return;\r\n  }\r\n\r\n  // get the handle parsed\r\n  var { h, wasmMem } = handle;\r\n\r\n  var len = Module[\"lengthBytesUTF8\"](s);\r\n\r\n  var inUtf8 = Module[\"stackAlloc\"](len + 1); // if we don't do +1 this library won't copy the last character\r\n  Module[\"stringToUTF8\"](s, inUtf8, len + 1); //  since it always also needs a space for a 0-char\r\n\r\n  var MaxOutLength = (len << 1) + 1; // worst case hyphen after every character\r\n  var outUtf8 = Module[\"stackAlloc\"](MaxOutLength);\r\n\r\n  var actualLen = Module[\"_WordHyphenationWithModel\"](inUtf8, len, outUtf8, MaxOutLength, h, hyp);\r\n  if(0 > actualLen || actualLen > MaxOutLength) {\r\n    return null;\r\n  }\r\n\r\n  return Module[\"UTF8ToString\"](outUtf8);\r\n}\r\n","module.exports = require(\"applicationinsights-native-metrics\");","module.exports = require(\"onnxruntime-node\");","module.exports = require(\"vscode\");","module.exports = require(\"assert\");","module.exports = require(\"async_hooks\");","module.exports = require(\"buffer\");","module.exports = require(\"child_process\");","module.exports = require(\"console\");","module.exports = require(\"constants\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"perf_hooks\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"timers\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(5419);\n"],"names":["asyncWrap","process","binding","TIMERWRAP","Providers","patchs","ignoreUIDs","Set","State","this","enabled","counter","Hooks","initFns","preFns","postFns","destroyFns","init","uid","provider","parentUid","parentHandle","hook","add","pre","has","post","didThrow","destroy","delete","removeElement","array","item","index","indexOf","splice","AsyncHook","_state","_hooks","version","providers","key","Object","keys","call","env","hasOwnProperty","console","warn","setupHooks","prototype","hooks","push","remove","module","exports","addHooks","removeHooks","enable","disable","global","_asyncHook","Error","filter","attach","error","frames","callSite","filename","getFileName","slice","__dirname","length","NextTickWrap","state","oldNextTick","nextTick","apply","arguments","args","Array","i","callback","TypeError","handle","listenerCount","once","PromiseWrap","Promise","oldThen","then","makeWrappedHandler","fn","isOnFulfilled","val","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","Map","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","set","get","setTimeout","setInterval","setImmediate","clearTimeout","clearInterval","clearImmediate","ensureAslWrapper","constructor","executor","context","super","resolve","reject","promise","err","asyncCatcher","wrap","listeners","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","returned","j","missing","_fatalException","errorValues","inErrorTick","er","handled","listener","flags","value","pop","undefined","original","list","values","data","create","before","after","errorThrew","threw","x","removeListener","_originalNextTick","addListener","AsyncListener","callbacks","createAsyncListener","addAsyncListener","registered","removeAsyncListener","simpleWrap","shimmer","semver","massWrap","wrapCallback","util","v6plus","gte","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","on","socket","_handle","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","s","arg0","options","Number","path","port","host","cb","_normalizeConnectArgs","Server","Socket","isArray","getOwnPropertySymbols","result","http","Agent","req","onSocket","childProcess","wrapChildProcess","child","stdio","forEach","activatorFirst","onexit","ChildProcess","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","zlib","crypto","fs","lchown","lchmod","ftruncate","Deflate","proto","getPrototypeOf","_transform","write","flush","end","toWrap","instrumentPromise","toString","promiseListener","fallback","cbIdx","a","b","c","d","e","wrappedPromise","__proto__","overwrite","__asl_wrapper","propagateAslWrapper","next","nextResult","returnVal","errorVal","wrapThen","map","bind","last","inherits","chain","wrapPromise","defineProperty","tslib_1","Semaphore_1","Mutex","cancelError","_semaphore","default","acquire","__awaiter","__generator","_b","label","sent","runExclusive","isLocked","release","cancel","errors_1","Semaphore","_maxConcurrency","_cancelError","E_CANCELED","_queue","_value","_this","locked","ticketPromise","_dispatch","_a","trys","_currentReleaser","releaser","ticket","nextTicket","shift","released","E_ALREADY_LOCKED","E_TIMEOUT","tryAcquire","withTimeout","Mutex_1","enumerable","withTimeout_1","tryAcquire_1","__exportStar","sync","alreadyAcquiredError","timeout","timeoutError","isTimeout","e_1","extendStatics","setPrototypeOf","p","__extends","String","__","__assign","assign","t","n","__rest","propertyIsEnumerable","__decorate","decorators","target","desc","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","body","f","y","g","_","ops","verb","Symbol","iterator","v","op","__createBinding","o","m","k","k2","__values","__read","ar","__spread","concat","__spreadArrays","il","jl","__spreadArray","to","from","pack","l","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","kind","__classPrivateFieldSet","balanced","str","RegExp","maybeMatch","range","start","reg","match","begs","beg","left","right","ai","bi","BASE","MAX_INT","MAX_INT_ARR","smallToArray","DEFAULT_ALPHABET","supportsNativeBigInt","BigInt","Integer","radix","alphabet","caseSensitive","parseValue","parseBase","BigInteger","sign","isSmall","SmallInteger","NativeBigInt","isPrecise","Math","floor","arrayToSmall","arr","trim","compareAbs","createArray","truncate","ceil","sum","l_a","l_b","carry","base","addAny","addSmall","subtract","difference","a_l","b_l","borrow","subtractSmall","multiplyLong","product","a_i","multiplySmall","shiftLeft","multiplyKaratsuba","max","ac","bd","abcd","multiplySmallAndArray","square","divModSmall","lambda","remainder","divisor","quotient","divModAny","self","negate","abs","comparison","quotientDigit","divisorMostSignificantDigit","divMod1","guess","xlen","highx","highy","check","part","unshift","reverse","divMod2","qSign","mSign","isBasicPrime","isUnit","equals","isEven","isDivisibleBy","lesser","millerRabinTest","nPrev","prev","divide","bigInt","modPow","plus","subtractAny","minus","small","multiply","l1","l2","times","_multiplyBySmall","divmod","over","pow","_0","_1","_2","isNegative","exp","isZero","modInv","isPositive","isOdd","compare","Infinity","compareTo","eq","notEquals","neq","greater","gt","lt","greaterOrEquals","geq","lesserOrEquals","leq","isPrime","strict","bits","bitLength","logN","log","toJSNumber","isProbablePrime","iterations","rng","randBetween","lastT","lastR","zero","newT","one","newR","powersOfTwo","powers2Length","highestPower2","shift_isSmall","bitwise","xSign","ySign","xRem","not","yRem","xDigit","yDigit","xDivMod","yDivMod","shiftRight","remQuo","and","or","xor","LOBMASK_I","roughLOB","integerLogarithm","tmp","min","gcd","text","toLowerCase","absBase","alphabetValues","digits","parseBaseFromArray","toBase","valueOf","neg","out","digit","toBaseString","stringify","join","parseStringValue","split","decimalPlace","test","parseNumberValue","toArray","toJSON","parseInt","minusOne","lcm","isInstance","usedRNG","random","low","restricted","top","fromArray","Chainsaw","EventEmitter","Buffers","Vars","Stream","decodeLEu","bytes","acc","decodeBEu","decodeBEs","decodeLEs","words","decode","word8","word8u","word8be","word8s","word8bs","bufOrEm","eventName","Buffer","isBuffer","parse","stream","pipe","buf","input","pending","getBytes","skip","dispatch","offset","buffers","caughtEnd","builder","saw","name","vars","tap","nest","store","into","parent","loop","buffer","scan","search","taken","pos","peek","light","writable","getOwnPropertyNames","ender","size","was","eof","getset","node","concatMap","substr","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","numeric","charCodeAt","parseCommaParts","parts","postParts","embrace","isPadded","el","lte","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","width","incr","pad","some","fromCharCode","need","z","expansion","initBuffer","bufferLastIndexOf","len","mismatch","lastIndexOf","replace","bufs","reduce","copy","dst","dStart","howMany","reps","removed","startBytes","ii","orig","buf0","buf1","reps_","take","si","ti","bu","needle","mstart","toBuffer","encoding","Traverse","handlers","record","actions","ch","isRoot","ps","update","emit","action","trap","autonext","down","act","jump","upgradeChainsaw","method","assert","wrapEmitter","asyncHook","ERROR_SYMBOL","invertedProviders","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","id","_contexts","getNamespace","namespaces","destroyNamespace","namespace","ok","inspect","debug2","msg","DEBUG","_rawDebug","getFunctionName","createNamespace","enter","exit","reset","createContext","_ns_name","run","exception","runAndReturn","runPromise","catch","bindEmitter","emitter","thisSymbol","CONTEXTS_SYMBOL","unwrapped","wrapped","unwrappedContexts","thunk","fromException","stackChain","modifier","_modifiers","deattach","async_hooks","_indent","format","createHook","asyncId","type","triggerId","resource","executionAsyncId","repeat","showHidden","depth","colors","triggerAsyncId","triggerIdContext","parentId","asyncHooksCurrentId","indentStr","currentId","versions","xs","res","contexts","storage","objectToString","arg","isBoolean","isNull","isNullOrUndefined","isNumber","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","diagnostic_channel_1","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","onEnd","channel","publish","shutdown","azureCoreTracing","versionSpecifier","patch","coreTracing","tracer_1","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","operation","traceparent","traceId","spanId","addEvent","addSpanProcessor","setTracer","registerMonkeyPatch","bunyan","originalBunyan","originalEmit","_emit","rec","noemit","ret","level","stream_1","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","chunk","message","stderr","aiLoggingConsole","Console","_loop_1","originalMethod","_i","consoleMethods_1","azuresdk","consolePub","mongodbCore","mongodb","mysql","pgPool","pg","redis","tedious","winston","mongoCore","originalMongoCore","originalConnect","connect","originalWrite","pool","cbidx","bindToContext","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","event","requestId","time","Date","startedData","operationId","succeeded","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","obj","func","cbWrapper","originalFunc","resultContainer","startTime","startDate","hrtime","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","duration","query","callbackArgs","poolClass","postgresPool1","originalPgPool","events_1","postgres6","originalPg","originalPgPath","originalClientQuery","Client","diagnosticOriginalFunc","config","queryResult","database","connectionParameters","patchCallback","trackingCallback","rowCount","command","preparable","plan","postgres7","callbackProvided","_Promise","originalRedis","originalSend","RedisClient","internal_send_command","commandObj","cb_1","pubsubBound","address_1","address","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","makeRequest","getPatchedCallback","origCallback","rows","connection","server","parametersByName","statement","request","winston3","originalWinston","AppInsightsTransport","_super","opts","info","meta","splat","levelKind","npm","levels","syslog","mapLevelToKind","Transport","patchedConfigure","lastLevel","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","webpackEmptyContext","code","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","subscribers","contextPreservationFunction","knownPatches","currentlyPublishing","shouldPublish","standardEvent_1","timestamp","now","subscribe","unsubscribe","prop","addContextPreservation","preserver","previousPreservationStack","packageName","patcher","getPatchesObject","diagnosticsSource","require","moduleModule","nativeModules","originalRequire","patchedModules","moduleId","originalModule","modulePath","_resolveFilename","moduleVersion","substring","prereleaseTagIndex","modifiedModule","modulePatcher","satisfies","DuplexWrapper","readable","Duplex","read","Readable","_writable","_readable","_waiting","_read","bubbleErrors","_write","reads","unwrap","SYMBOL","configurable","_listeners","_events","_wrap","visit","onAddListener","onEmit","adding","existing","unprocessed","_process","_findAndProcess","__wrapped","remover","realpath","realpathSync","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","old","newError","syscall","cache","pathModule","isWindows","platform","NODE_DEBUG","normalize","nextPartRe","splitRootRe","current","previous","seenLinks","knownHard","exec","lstatSync","lastIndex","resolvedLink","stat","isSymbolicLink","linkTarget","dev","ino","statSync","readlinkSync","backtrace","missingCallback","throwDeprecation","noDeprecation","stack","traceDeprecation","trace","rethrow","maybeCallback","lstat","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","Writer","Reader","Dir","File","Link","Proxy","Abstract","fstream_type","fstream_path","_path","fstream_unc_path","linkpath","fstream_linkpath","fstream_class","fstream_stack","ev","ready","abort","_aborted","th","collect","_collected","_paused","pause","save","saveEntry","entryBuffer","unblockEntry","entry","DirReader","props","Directory","entries","_index","_length","sort","_getEntries","_gotEntries","readdir","processEntries","_currentEntry","_ended","follow","who","_proxy","basename","childProps","getChildProps","_disowned","EMITCHILD","emitEntry","ended","onend","_swallowErrors","disown","root","hardlinks","DirWriter","mkdir","JSON","_create","dirmode","_buffer","_processing","_finish","pp","_currentChild","FileReader","EOF","CLOSE","_bytesEmitted","_getStream","_stream","createReadStream","blksize","bufferSize","FileWriter","_bytesWritten","so","mode","filemode","_old","createWriteStream","st","types","is","LinkReader","SymbolicLink","_stat","currentStat","LinkWriter","rimraf","clobber","lp","link","finish","_finished","hard","ProxyReader","getType","_addProxy","proxy","_proxyTarget","calls","ProxyWriter","_needDrain","_needsDrain","hardLinks","ClassType","alphasort","statCb","props_","nlink","events","go","SocketReader","umask","made","_madeDir","endChmod","want","wantMode","chmod","curMode","endChown","getuid","gid","chown","endUtimes","utimes","curA","atime","curM","mtime","meA","meM","getTime","endMadeDir","dirProps","todo","errState","endMadeDir_","_finishing","setProps","what","fstream_finish_call","ownProp","field","setopts","pattern","matchBase","noglobstar","silent","realpathCache","dot","mark","nodir","nounique","nonull","nosort","nocase","noprocess","absolute","maxLength","statCache","symlinks","ignore","ignoreMap","setupIgnores","changedCwd","cwd","cwdAbs","isAbsolute","makeAbs","nomount","nonegate","nocomment","minimatch","Minimatch","nou","all","matches","literal","globSet","_mark","notDir","isIgnored","found","isDir","slash","mabs","childrenIgnored","gmatcher","localeCompare","gpattern","matcher","charAt","glob","rp","EE","globSync","common","inflight","Glob","GlobSync","_didRealPath","_emitQueue","_processQueue","paused","hasMagic","options_","origin","extend","aborted","_didRealpath","_realpath","_realpathSet","matchset","_makeAbs","real","_emitMatch","pq","inGlobStar","prefix","_processSimple","remain","GLOBSTAR","_processGlobStar","_processReaddir","_readdir","_processReaddir2","pn","rawGlob","_glob","dotOk","matchedEntries","_readdirInGlobStar","lstatcb","isSym","isDirectory","_readdirError","_readdirEntries","readdirCb","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","exists","_processSimple2","trail","needDir","statcb","_stat2","newPattern","readdirSync","gracefulQueue","previousSymbol","polyfills","legacy","clone","publishQueue","queue","for","retryTimer","debug","debuglog","close","fs$close","fd","resetQueue","closeSync","fs$closeSync","gracefulify","ReadStream","WriteStream","fs$readFile","readFile","go$readFile","enqueue","fs$writeFile","writeFile","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","copyFile","src","go$copyFile","fs$readdir","go$readdir","files","legStreams","fs$ReadStream","open","that","autoClose","fs$WriteStream","FileReadStream","FileWriteStream","fs$open","go$open","elem","retry","lastTime","sinceAttempt","sinceStart","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","setEncoding","bytesWritten","busy","_open","constants","origCwd","GRACEFUL_FS_PLATFORM","chdir","fs$rename","fs$readSync","chmodFix","chownErOk","chmodFixSync","chownFix","chownFixSync","statFix","stats","statFixSync","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","openSync","fchmodSync","patchLchmod","lutimes","at","mt","futimes","er2","lutimesSync","futimesSync","_c","patchLutimes","fchown","chownSync","fchownSync","lchownSync","chmodSync","fstat","fstatSync","rename","backoff","CB","stater","fs$read","position","callback_","eagCounter","readSync","wrappy","reqs","RES","cbs","makeres","ctor","superCtor","super_","TempCtor","ee","Yallist","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","doUse","hit","isStale","del","unshiftNode","maxAge","diff","walker","tail","removeNode","Entry","forEachStep","thisp","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lengthCalculator","lC","itemCount","rforEach","head","dump","h","dumpLru","load","expiresAt","prune","sep","plTypes","qmark","star","reSpecials","slashSplit","ext","regexp","comment","empty","make","braceExpand","nobrace","defaults","def","_made","parseNegate","globParts","negateOffset","isSub","stateChar","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","regExp","_src","makeRe","twoStar","ex","mm","partial","file","matchOne","flipNegate","fi","pi","fl","fr","pr","swallowee","_0777","mkdirP","xfs","mkdirp","mkdirSync","err0","err1","called","onceStrict","onceError","Function","posix","win32","device","isUnc","Boolean","arg1","arg2","arg3","pna","objectKeys","allowHalfOpen","_writableState","onEndNT","highWaterMark","_readableState","destroyed","_destroy","PassThrough","Transform","ReadableState","EElistenerCount","OurUint8Array","Uint8Array","debugUtil","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","pipes","pipesCount","flowing","endEmitted","reading","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","emitReadable","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","_undestroy","undestroy","isPaused","enc","MAX_HWM","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","clear","hasStrings","nb","copyFromBufferString","allocUnsafe","copyFromBuffer","fromListPartial","endReadable","endReadableNT","nOrig","doRead","pipeOpts","endFn","stdout","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","prependListener","dests","_fromList","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","transform","_flush","prefinish","_this2","CorkedRequest","corkReq","pendingcb","onCorkedFinish","corkedRequestsFree","asyncWrite","browser","WritableState","realHasInstance","internalUtil","deprecate","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","count","allBuffers","isBuf","callFinal","getBuffer","hasInstance","object","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","instance","Constructor","_classCallCheck","alloc","custom","emitErrorNT","readableDestroyed","writableDestroyed","READABLE_STREAM","rimrafSync","_err","_0666","defaultGlobOpts","maxBusyTries","emfileWait","disableGlob","equal","busyTries","afterGlob","results","rimraf_","fixWinEPERM","rmdir","unlink","er3","fixWinEPERMSync","rmdirSync","unlinkSync","originalEr","rmkids","retries","rmkidsSync","copyProps","SafeBuffer","encodingOrOffset","allocUnsafeSlow","fill","SlowBuffer","SemVer","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","major","minor","prerelease","num","build","clean","other","compareMain","comparePre","compareIdentifiers","inc","identifier","isNaN","version1","version2","v1","v2","defaultResult","anum","bnum","cmp","Comparator","comp","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","rsort","Range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","every","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","parsed","r1","r2","coerce","registerImmediate","html","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","source","addEventListener","attachEvent","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","task","funktion","logger","nodule","wrapper","__unwrap","nodules","names","massUnwrap","lines","FormatErrorString","line","frame","_stackChain","defaultFormater","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","mutated","isEncoding","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","total","utf8CheckIncomplete","walk","immutable","parents","alive","node_","modifiers","circular","stop","isLeaf","notLeaf","notRoot","isLast","isFirst","deepEqual","notEqual","toS","kx","ky","paths","nodes","TelemetryMeasureNames","TelemetryPropertyNames","TelemetryEventNames","vscodeExtensionEntry","ENTRY_FILENAME","__filename","activate","deactivate","isMainThread","FORCE_WORKER_THREAD_ENTRY","w","main","libFolder","modelFolder","litTokenRegex","punctuationSet","penalizedLogConfidence","cumulativeScore","lengthPenalty","Telemetry","cacheTrie","setLineCompletions","normContext","completions","logConfidenceThreshold","logPrefix","numAccepted","performance","tokens","cumulativeScoreArray","ensureCumulativeScoresAreArray","suggestions","confidence","lastTokenLogConfidence","LogLevel","INFO","individualScorePerToken","calculateIndividualScore","END_OF_LINE","endsWith","trimLeft","remainingSuggestions","remainingScores","currentSuggestion","isMaskToken","insert","sendTelemetryEvent","CACHE_STORE","EVENT_DURATION","getLineCompletion","firstTokenConfidenceThreshold","logCutoffConfidence","suggestedSuffix","firstTokenScore","cumulativeLastScore","tokenCount","getBestSuffix","bestSuffix","EOL","CACHE_ACCESS","CACHE_HIT","bestCompletion","getCacheTrieNode","prefixMapping","cumulativeScores","completionLength","tokenScores","truncationIndex","punctuationIndex","findLastPunctuation","startsWith","getUnmaskedToken","extractCompletionPlaceholder","completionString","LRUCache","suffix","score","TrieNode","getAllSuffixes","minLength","suffixes","firstTokenThreshold","logCutoff","getBestChild","suggestion","lastTokenCumulativeScore","char","children","best","curr","currentToken","currentScore","childName","createHash","digest","hasNoChildren","getBestSuffixHelper","bestChild","getTreeForVisualization","edges","populateVisualizationDataset","autoResize","height","clickToUse","layout","hierarchical","direction","sortMethod","nodeSpacing","interaction","multiselect","color","highlight","border","font","face","background","align","strokeColor","strokeWidth","shape","physics","barnesHut","springConstant","avoidOverlap","append","nodeId","uuid","v4","thisNode","toExponential","childrenObjs","leafCount","childCount","getHeight","childDepth","RequestResult","modelPath","configPath","tokenizerPath","vocabPath","blingfireRaceConditionErrMsg","async","settings","telemetry","onnxModel","OnnxModelWrapper","LocalLineCompletionService","AbstractCompletionService","onnxExec","normalizedContext","lang","completionState","cancellationToken","isCancellationRequested","Cancelled","end1","searchDepth","genTime","pairedSuggestions","decodeGenerator","MAX_TOKENS_GENERATED","CACHE_FREQUENCY","beforeCacheTime","getLogConfidence","WLC_RECOMMENDATION_LENGTH_PENALTY","newTime","COMPLETION_REQUEST","LANGUAGE_ID","NUM_REC","SEARCH_DEPTH","CONFIDENCE_THRESHOLD","Success","getFullName","getDefaultEndpoint","getDefaultTimeout","settingsStorage","WorkerThreadLineCompletionService","responseAwaiter","AwaitableMessageExchanger","worker","Worker","response","handleMessage","FATAL","timeBudgetPromise","_resolve","requestPromise","exchange","cacheResultReply","race","TimedOut","ERROR","Unknown","handleReceivedMessage","properties","measures","section","responseMessage","VSCodeOutputLogger","window","createOutputChannel","VSCodeSettings","Instance","singleton","logLevel","LOG_LEVEL","appendLine","LoadLocalModel","TextToIds","max_input_size","MAX_INPUT_SIZE","ModelInput","inputIds","batchSize","numLayer","hiddenSize","numAttentionHeads","beamSize","initialInputLength","bigintInput","BigInt64Array","Tensor","positionArray","positionIds","flat","maskArray","attentionMask","beamSelectIdx","inputLogProbs","inputUnfinishedSents","prevStepResults","prevStepScores","past_shape","past","pastTotalLength","output","lastState","last_state","lastDimSize","reshape","output_selected_indices","output_log_probs","output_unfinished_sents","current_step_results","current_step_scores","newPosIds","dims","concat2d","filledTensor","onnxInput","input_ids","attention_mask","position_ids","beam_select_idx","input_log_probs","input_unfinished_sents","prev_step_results","prev_step_scores","isDone","onnxSession","modelConfig","bfModel","loggingService","vocabFileContent","readFileSync","vocab","numLayers","embedDim","static","sess","InferenceSession","graphOptimizationLevel","extra","session","intra_op","allow_spinning","pathToZip","modelName","configName","tokenizerName","vocabName","modelRoot","unzipper","Extract","inputLines","tokenIds","idx","stringToIds","END_OF_LINE_ID","WARN","lookback","TOKEN_LOOKBACK","modelInput","tokensGenerated","onnxOutput","createPairedSuggestions","yieldFrequency","lookbackCount","lookbackLengthTokenIds","resultingModelInput","numTokensGenerated","sequences","recommendationCount","startOfNextLineTokens","startOfNextLineRec","convertIdToToken","randArray","Float32Array","convertIdsToSeq","ids","breaktokens","speciaTokensMap","specialCharsMap","mid","tokenToId","token","TreeSitterNormalizationService","UNK","END_OF_TEXT","END_OF_FUNCTION","DEDENT","INDENT","STR_LIT","NUM_LIT","CHAR_LIT","REGEX_LIT","RuntimeState","TreeSitterManager","runtimeState","NotInit","availableLanguages","trees","initializeRuntime","Active","createParser","runtime","langTree","isAvailableFor","WebParser","Failed","checkSupport","LanguageId","includes","langWasmPath","langId","JAVASCRIPT_REACT","JAVASCRIPT","TYPESCRIPT_REACT","languageIdToWasmName","languageTree","Language","typescriptValue","javascriptValue","lang2lits","PYTHON","TYPESCRIPT","JAVA","treeSitterManager","buildTreeSitterManager","literalsFile","specialTokensMap","unicodeChars","keywords","specialTokensMapReverse","unicodeCharsMap","unicodeCharsMapReverse","literals","prepareLiterals","mapValue","padStart","parsedCode","normalizeInner","tree","parseAndNormalize","unparsedCode","initialize","langStr","parser","setLanguage","literalFilePath","indent","rootNode","get_tokens","negativeNumberHandling","pts","_file_tokenizer","poss","lastNoneBracesIdx","norm_untokenize","numericLits","handleOneNegativeCase","hyphenIdx","isNumericOperator","word","code2","positions","keepNewline","prevLine","retPos","retCode","retType","ep","lineid","startPosition","endPosition","nodeType","poses","litnames","lits","codeString","prevSp","prevEp","prevIndent","indentSize","keyRow","keyCol","keyRegex","keyChar","keyStr","keyNum","addToken","charQuoteOptions","startQuote","endQuote","qualifierRegex","qualifierRegexGlobal","qualifierMatch","qualifier","tokenString","charLit","sc","tc","strLit","cppRawStringIdentifier","strQuoteOptions","omit","jj","kk","ConfidenceThreshold","CUMULATIVE_PROBABILITY_THRESHOLD_PER_LANGUAGE","DEFAULT_FIRST_TOKEN_THRESHOLD","FIRST_TOKEN_THRESHOLD_PER_LANGUAGE","LOG_CONFIDENCE_THRESHHOLD","getConfidence","getFirstTokenConfidenceThreshold","getLanguageEnabled","USE_WORKER_THREAD","BRACE_COMPLETION","PARSE_ERROR_FILTER","SNIPPET_COMPLETION","defaultValue","workspace","getConfiguration","extensionContext","initializeGlobalStateKeys","globalState","setKeysForSync","DO_NOT_SHOW_AGAIN_SELECTED","NUMBER_OF_COMPLETIONS_SHOWN","NOTIFICATION_ALREADY_SHOWN","SHOW_NOTIFICATION_AT_TIME","LAST_TIME_USER_WAS_ACTIVE","shouldShowNotification","NOTIFICATION_RESPONSE_YES","NOTIFICATION_RESPONSE_MAYBE_LATER","NOTIFICATION_RESPONSE_DO_NOT_SHOW_AGAIN","selection","vscode","showInformationMessage","FEEDBACK_MESSAGE","openExternal","Uri","FEEDBACK_SURVEY_URI","MAYBE_LATER_WAIT_TIME","CAN_SHOW_SURVEY_AFTER_NUMBER_OF_COMPLETIONS","incrementNumberOfCompletionsShown","oldNumberOfCompletionsShown","FeedbackSurveyService","EXTENSION_ID_PREFIX","COPILOT_NOTIFICATION_DO_NOT_SHOW_AGAIN","UNSUPPORTED_ARCH_NOTIFICATION_DO_NOT_SHOW_AGAIN","COPILOT_ENABLED","USER_IN_REST_STATE_TIME","NodeTag","tagSyntaxNodes","previousParse","insertedSuggestionRange","tags","TaggedNodes","changedRanges","getChangedRanges","parentTags","shouldVisitChildNodes","hasError","isMissing","nodeRange","DocumentRange","row","column","rangesOverlap","tagNode","OverlapsSuggestion","containsRange","InsideSuggestion","nodeTags","getTagsForErrorAndMissingNodes","tag","Parenthesized","changedRange","startIndex","endIndex","Changed","Leaf","ErrorChild","thisNodeTags","getNodeTags","matchBraces","ErrorUnmatched","language","tagNodeMap","idMapForTag","getNodesWithAllTags","collectedNodes","shortHashPII","hash","removePath","filePath","aiKey","extension","packageJSON","reporter","contextProperties","eventEmitter","addContextProperty","property","isPII","valueString","canCollectPII","removeContextProperty","addContextPropertiesToObject","telemetryEventName","setSharedProperty","postEvent","sendFault","details","correlatedEvent","Fault","send","setCorrelationEvent","correlationEvent","removeCorrelationEvent","startTimedEvent","correlate","TimedEvent","telemetryEvent","correlateWith","TelemetryEvent","telemetryInstance","correlationId","addProperty","propertyExists","addMeasure","measure","getCorrelationId","otherEvent","correlateWithId","CORRELATION_ID","FAULT_TYPE","FaultType","EVENT_MESSAGE","exceptionStack","EVENT_EXCEPTION_STACK","lastMarkTime","markTime","markName","fromStart","currentTime","sendNow","EVENT_RESULT","TelemetryResult","buildEventName","relayEmitter","outboundMsg","inboundMsg","USERDNSDOMAIN","snippet","allMatchRegex","snippetCount","full","topLiteral","parsedTopLit","defaultPlaceholder","charCode","codeBefore","curCharNum","postProcess","completion","codeTillCursor","inProcess","removeIndentDedentToken","removeOverlappingWhiteSpace","completionWithoutSnippet","completionWithSnippet","completionText","snippetCompletionText","codeTillSelectedCompletion","selectedCompletionText","selectedCompletionRange","completionFromCache","fullLineWithCompletion","fullLineWithSnippet","completionToReturn","snippetToReturn","postAcceptanceRange","completionRange","additionalData","endOfIntelliSenseCharNum","character","Position","getPrefix","exportedMethodsForTesting","createDocumentWithCompletionApplied","getText","lineAt","lineCount","duplicateLineExistsBefore","duplicateLineExistsAfter","codeParsingService","syntacticFilter","resultingDocument","parsedWithCompletion","languageId","FromVsCodeRange","printableNodes","modifyPredictionForWalking","currLine","positionLine","prevFullLineCompletion","numSpacesInLineTillCaret","currTokenStartColumn","truncatedCompletionString","newText","newRange","prevDocument","currDocument","hasDocumentChanged","hasLineNumberChanged","currSelectedCompletion","prevSelectedCompletion","lineTillCursor","prevSnippetString","prevSnippetRange","prevCompletionItemText","prevCompletionItemRange","codeOnLine","modifiedCompletion","modifiedSnippet","newCompletionText","newCompletionRange","newSnippetText","newSnippetRange","noMaskCompletion","codeAfter","bracesMap","unmatchedString","bracesStack","requiredBraces","unmatchedBrace","startLine","startColumn","endLine","endColumn","containsLocation","locationIsAfterStart","locationIsBeforeEnd","dim","outputArray","lastDimSizeA","lastDimSizeB","getCodeBefore","positionAt","notebook","cell","getCells","selectedCompletionInfo","includeLineBreak","afterEnd","rangeIncludingLineBreak","getAfterEOLPosition","getCurrentEOLPosition","activeEditor","decorationType","completionToShow","positionToShow","setDecorations","renderOptions","contentText","dark","trimmedFullLine","curLine","isEmptyOrWhitespace","getCompletionContextFromActiveEditor","normalizationService","activeTextEditor","completionCache","commands","registerCommand","CREATE_VISUALIZATION_COMMAND","currentTrieNode","graphData","showTreeWindow","CREATE_PARSE_TREE_VISUALIZATION_COMMAND","aboveGraphText","completionContext","completionFromModel","NEGATIVE_INFINITY","cacheQueryDuration","mockCompletion","showInputBox","prompt","ignoreFocusOut","processedCompletion","processCompletion","fileName","nodeLists","parsedCodeToDisplay","startUnmodifiedParse","unmodifiedParsedCode","startBuildGraphData","parsedCodeToGraphData","DEFAULT_GRAPH_OPTIONS","POST_ACCEPTANCE_COMMAND","useVsCodeVimSnippetWorkaround","postAcceptanceCommandArguments","cumulativeLastTokenScore","lengthPenalizedLastTokenScore","snippetPlaceholderCount","editor","postInsertionString","overwriteRange","edit","insertSnippet","SnippetString","undoStopBefore","undoStopAfter","COMPLETION_ACCEPTED","telemetryProperties","telemetryMeasures","COMPLETION_LENGTH","FIRST_TOKEN_SCORE","CUMULATIVE_LAST_TOKEN_SCORE","TOKEN_COUNT","LENGTH_PENALIZED_LAST_TOKEN_SCORE","SNIPPET_PLACEHOLDER_COUNT","ExtensionFactory","initWorkerThreadCompletionService","createLineCompletionServiceWithRetriesAsync","initNormalizationService","initVsCodeTelemetryService","initializeCompletionService","initializeNormalizationService","initTelemetryService","Extension","createActivate","extensions","getExtension","COPILOT_DISABLED_AFTER_BEING_ENABLED","CompletionState","completionService","subscriptions","activateTelemetryEvent","EXTENSION_ACTIVATED","IS_INTERNAL","isInternal","vsCodeVimIsEnabled","TreeSitterSyntacticFilterService","inlineCompletionProvider","lineCompletionService","disposable","intelliCodeInlineCompletionItemProvider","IntelliCodeInlineCompletionItemProvider","languages","registerInlineCompletionItemProvider","documentSelector","feedbackSurveyService","getInlineCompletionItemController","onDidShowCompletionItem","completionItem","COMPLETION_SHOWN","showToastNotification","registerDevCommands","registerCompletionVisualizationCommand","registerParseTreeVisualizationCommand","getTelemetryEmitter","EXTENSION_ACTIVATION_FAULT","showErrorMessage","whitespaceAllowed","createAcceptCommand","title","getNumberOfRepeatsAtStart","tokenToLook","lastCallTime","inferenceLock","isSnippetText","completionKind","CompletionItemKind","Folder","Color","Unit","Snippet","Text","providerCalledTime","timeSinceLastProvide","COMPLETION_PROVIDER_CALLED","TIME_SINCE_LAST_PROVIDE","onCancellationRequested","timeTillCancel","COMPLETION_PROVIDER_CANCEL_REQUESTED","TIME_TIL_CANCEL_REQ","documentLanguage","getContext","prevCompletionProvided","walkingThePredictionStatus","modifiedPreviousCompletionProvided","modifyPreviousCompletionProvided","prevCompletionItem","modifiedCommandArguments","InlineCompletionList","normCodeBefore","isAlphanumeric","beforeLock","afterLock","firstNonWhitespaceCharacterIndex","indents","dedents","correctlyIndented","tabSize","isUniqueLine","isSyntacticallyCorrect","items","postAcceptanceInsertion","toStringTag","prediction","UNEXPECTED_EXCEPTION","doNotShowStateKey","stubActivationTelemetryEvent","stubActivationTelemetryProperties","createStubActivate","showWarningMessage","nodeString","edgeString","optionsString","insertAboveGraphText","nodeTagColorMap","mouseoverLabel","tagNames","newNode","tagColor","selectionWidth","improvedLayout","blockShifting","edgeMinimization","shakeTowards","multi","panel","createWebviewPanel","ViewColumn","Two","enableScripts","webview","visualizationHtml","arch","StubToastExtensionFactory","UNSUPPORTED_ARCH","PROCESS_ARCH_PLATFORM","InferenceWorker","settingCache","responseCacheResultExchanger","WorkerThreadCompletionResultCallback","parentPort","handleUpdateResponse","WorkerThreadLoggingService","WorkerThreadSettingsStorage","WorkerThreadTelemetryService","exchanger","logMessage","cachedSettings","cachedValue","cacheKey","requestUpdate","requestMessage","telemetryMessage","chunks","bufferStream","table","crc","generateTable","Decrypt","key0","key1","key2","decryptByte","NoopStream","binary","PullStream","unzip","BufferStream","parseExtraField","parseDateTime","signature","writeUInt32LE","sourceSize","crxHeader","startOffset","endDir","records","tailSize","crx","sourceStream","pull","readUInt32LE","word32lu","pubKeyLength","signatureLength","publicKey","getCrxHeader","directory","word16lu","numberOfRecords","offsetToStartOfCentralDirectory","zip64CDLSize","zip64CDLOffset","zip64CDLStream","zip64CDL","d64loc","word64lu","dir64","getZip64CentralDirectory","dir64record","parseZip64DirRecord","extract","extractPath","writer","getWriter","password","concurrency","mapSeries","offsetToLocalFileHeader","lastModifiedDateTime","lastModifiedDate","lastModifiedTime","fileNameLength","fileNameBuffer","pathBuffer","isUnicode","extraFieldLength","extraField","fileCommentLength","uncompressedSize","_password","url","params","headers","s3","client","headObject","ContentLength","getObject","directoryVars","checkEncryption","compressedSize","header","decrypt","crc32","fileSizeKnown","inflater","compressionMethod","createInflateRaw","includeEof","packet","__ended","rejectHandler","pullStreamRejectHandler","concatStream","__emittedError","finally","Parse","outStream","duplexer2","endDirectorySignature","_opts","verbose","_readRecord","_readCrxHeader","_readFile","_readCentralDirectoryFileHeader","_readEndOfCentralDirectoryRecord","__autodraining","autodrain","draining","forceStream","_processDataDescriptor","fileComment","commentLength","date","day","month","year","seconds","minutes","hours","UTC","candidateExtra","partsize","inStream","SomePromiseArray","_SomePromiseArray","any","promises","setHowMany","setUnwrap","firstLineError","schedule","Queue","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","throwLater","invokeLater","invoke","settlePromises","_settlePromises","_drainQueue","_reset","INTERNAL","tryConvertToPromise","calledBind","rejectThis","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","bluebird","noConflict","cr","callerCache","getterCache","getMethodCaller","getGetter","canEvaluate","isIdentifier","makeMethodCaller","methodName","ensureMethod","makeGetter","propertyName","getCompiled","compiler","classString","caller","namedGetter","indexedGetter","$_len","$_i","maybeCaller","getter","maybeGetter","PromiseArray","apiRejection","tryCatch","errorObj","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","getKeys","instances","boundTo","predicateLoop","matchesPredicate","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","_promiseCreated","_pushContext","_popContext","_peekContext","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","Warning","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","monitoring","_fireEvent","handler","isFulfilled","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","isSoft","localHandler","localEventFired","formatNonError","maxChars","snip","parseLineInfoRegex","parseLineInfo","_promisesCreated","uncycle","stackToIndex","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","ignoreUntil","hasStackAfterThrow","isTTY","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","replacement","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","PromiseReduce","PromiseAll","promiseAllThis","each","_TypeError","_RangeError","es5","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","RangeError","methods","OperationalError","cause","errorTypes","RejectionError","isES5","getDescriptor","propertyIsWritable","descriptor","ObjectKeys","PromiseMap","PassThroughHandlerContext","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","success","lastly","Proxyable","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","promiseFromYieldHandler","bitField","PromiseSpawn$","spawn","addYieldHandler","thenCallback","promiseSetter","generateHolderClass","assignment","cancellationCode","passedArguments","holderClasses","thenCallbacks","promiseSetters","HolderClass","asyncNeeded","_isFateSealed","_setAsyncGuaranteed","spread","MappingPromiseArray","limit","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_asyncInit","isFinite","_init$","_init","_values","preservedValues","_totalResolved","booleans","_resolveFromSyncValue","attempt","maybeWrapAsError","rErrorKey","wrapAsOperationalError","isUntypedError","markAsOriginatingFromRejection","multiArgs","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","errors","APPLY","catchFilter","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","catchInstances","reflect","didFulfill","didReject","_setIsFinal","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","fromNode","fromCallback","cast","_setFulfilled","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","toFastProperties","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","toResolutionValue","getActualLength","shouldCopyValues","isResolved","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","getDataPropertyOrDefault","makeNodePromisified","originalName","newParameterCount","parameterCount","argumentOrder","likelyArgumentCount","switchCaseArgumentOrder","shouldProxyThis","getFunctionCode","argumentCount","comma","filledRange","generateArgumentSwitchCase","defaultThis","promisified","promisifyAll","promisifier","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","promisifiableMethods","promisifiedKey","promisify","copyDescriptors","isClass","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","isMap","_isMap","castValue","entriesToMap","keyOffset","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","srcIndex","dstIndex","arrayMove","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","div","toggleScheduled","div2","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","ProcessNextTick","isRecentNode","nativePromise","navigator","standalone","cordova","attributes","classList","toggle","observe","disconnect","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","CANCELLATION","_howMany","_unwrap","_initialized","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","__isCancelled","hasProp","doGetThen","getThen","isAnyBluebirdPromise","doThenable","HandleWrapper","afterValue","delay","ms","successClear","failureClear","handleWrapper","afterTimeout","NULL","resources","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","tryCatchTarget","globalObject","tryCatcher","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","rident","safeToString","ArrayFrom","itResult","it","hasEnvVariables","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","Child","Parent","T","appendee","maybeError","FakeConstructor","chrome","loadTimes","ParseOne","Open","rnds8Pool","poolPtr","byteToHex","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","hashfunc","generateUUID","unescape","encodeURIComponent","stringToBytes","DNS","URL","v35","rnds","os","appInsights","TelemetryReporter","extensionId","extensionVersion","userOptIn","logFilePath","logStream","updateUserOptIn","configListener","onDidChangeConfiguration","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","defaultClient","appInsightsClient","TelemetryClient","setUseDiskRetryCaching","setup","setAutoCollectRequests","setAutoCollectPerformance","setAutoCollectExceptions","setAutoCollectDependencies","setAutoDependencyCorrelation","setAutoCollectConsole","commonProperties","getCommonProperties","userId","machineId","sessionId","endpointUrl","measurements","trackEvent","sendTelemetryException","trackException","flushEventsToLogger","flushEventsToAI","DiagChannel","AutoCollectConsole","INSTANCE","_client","isEnabled","collectConsoleLog","IsInitialized","isInitialized","_isInitialized","_methodNames","Logging","CorrelationContextManager","getCurrentContext","CONTEXT_NAME","generateContextObject","operationName","correlationContextHeader","tracestate","customProperties","CustomPropertiesImpl","runWithContext","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","registerContextPreservation","nodeVer","canUseClsHooked","greater800","less820","greater470","addHeaderData","keyvals","keyval","serializeToHeader","getProperty","setProperty","bannedCharacters","AutoCollectExceptions","_exceptionListenerHandle","reThrow","isAppCrashing","_rejectionListenerHandle","UNCAUGHT_EXCEPTION_HANDLER_NAME","UNHANDLED_REJECTION_HANDLER_NAME","https","Util","RequestResponseHeaders","HttpDependencyParser","CorrelationContextManager_1","CorrelationIdManager","Traceparent","AutoCollectHttpDependencies","_isEnabled","_initialize","originalRequest","originalHttpsRequest","clientRequestPatch","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","updateSpanId","getBackCompatRequestId","w3cEnabled","requestNumber","canIncludeCorrelationHeader","getUrl","getHeader","setHeader","correlationHeader","requestContextHeader","safeIncludeCorrelationHeader","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","onError","Contracts","RequestParser","requestOptions","_getUrlFromRequestOptions","_setStatus","statusCode","getCorrelationContextTarget","requestContextTargetKey","baseTelemetry","dependencyId","urlObject","dependencyName","toUpperCase","pathname","remoteDependencyType","RemoteDependencyDataConstants","TYPE_HTTP","remoteDependencyTarget","hostname","TYPE_AI","correlationIdPrefix","_isSuccess","resultCode","dependencyTypeName","originalOptions_1","parsedQuery","protocol","agent","Tracestate","HttpRequestParser","_getAbsoluteUrl","socketRemoteAddress","remoteAddress","parseHeaders","connectionRemoteAddress","legacySocketRemoteAddress","ellapsedMilliseconds","getRequestTelemetry","requestTelemetry","sourceCorrelationId","getRequestTags","newTags","locationIp","_getIp","_getId","userAuthUserId","getOperationName","operationParentId","getOperationParentId","getOperationId","getRequestId","getCorrelationContextHeader","getTraceparent","getTracestate","getLegacyRootId","legacyRootId","encrypted","requestUrl","pathName","ipMatch","ip","rawHeaders","cookie","parseId","getCookie","setBackCompatFromThisTraceContext","userAgent","requestContextSourceKey","tracestateHeader","legacy_parentId","legacy_rootId","generateRequestId","getRootId","cookieValue","cookieParts","ContextTagKeys","AutoCollectPerformance","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","countRequest","wrapServerEventHandler","originalAddListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","headersSent","tagOverrides","Config","AutoCollectNativePerformance","_disabledMetrics","disabledMetrics","collectionInterval","_metricsAvailable","NativeMetricsEmitters","_emitter","_trackNativeMetrics","unref","parseEnabled","collectExtendedMetrics","disableAll","ENV_nativeMetricsDisableAll","individualOptOuts","ENV_nativeMetricsDisablers","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","metrics","name_1","stdDev","sqrt","sumSquares","trackMetric","internalSdkVersion","sdkVersion","getLoopData","loopUsage","heap","memoryUsage","heapUsed","heapTotal","rss","Constants","enableLiveMetricsCounters","_collectionInterval","_enableLiveMetricsCounters","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","trackPerformance","_intervalRequestExecutionTime","_lastRequestExecutionTime","countException","countDependency","durationMs","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","PerformanceCounter","PROCESSOR_TIME","PROCESS_TIME","freeMem","freemem","usedMem","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","QuickPulseCounter","COMMITTED_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","REQUEST_RATE","REQUEST_DURATION","REQUEST_FAILURE_RATE","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","EXCEPTION_RATE","_lastDependencyExecutionTime","status","endTime","Contracts_1","clients","bunyanToAILevelMap","SeverityLevel","Verbose","Information","Critical","subscriber","AIlevel","trackTrace","severity","publishers","unpatchedModules","modules","dbName","databaseName","commandName","queryObj","sqlString","sql","connectionConfig","_connection","socketPath","conn","winstonToAILevelMap","og","emerg","alert","crit","notice","silly","unknown","PerformanceToQuickPulseCounter","QuickPulseDocumentType","Exception","Trace","Metric","Request","Dependency","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","TelemetryTypeStringToQuickPulseDocumentType","Generated_1","domainSupportsProperties","PageViewData","AvailabilityData","ver","applicationVersion","deviceId","deviceLocale","deviceModel","deviceOEMName","deviceOSVersion","deviceType","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","cloudRole","cloudRoleInstance","internalAgentVersion","internalNodeName","Data","DataPointType","Measurement","sampleRate","hasFullStack","parsedStack","Base","DataPoint","Domain","Envelope","ExceptionDetails","StackFrame","TelemetryType","telemetryTypeToBaseType","baseTypeToTelemetryType","baseType","TelemetryTypeString","__export","Channel","isDisabled","getBatchSize","getBatchIntervalMs","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","_sender","resendInterval","maxBytesOnDisk","setDiskRetryMode","envelope","payload","_stringify","triggerSend","_timeoutHandle","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","instrumentationKey","endpointBase","_getInstrumentationKey","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","correlationIdRetryIntervalMs","correlationHeaderExcludedDomains","setCorrelationId","profileQueryEndpoint","ENV_profileQueryEndpoint","proxyHttpUrl","ENV_http_proxy","proxyHttpsUrl","ENV_https_proxy","httpAgent","httpsAgent","_quickPulseHost","ENV_quickPulseHost","_profileQueryEndpoint","endpoint","cancelCorrelationIdQuery","queryCorrelationId","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","packageJsonPath","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","appVersion","packageJson","DefaultRoleName","appIdUrlString","completedLookups","pendingLookups","fetchAppId","disableAppInsightsAutoCollection","TAG","appId_1","currentRootId","appendSuffix","generateRootId","w3cTraceId","delimiter","requestIdMaxLength","trimPosition","randomu32","EnvelopeFactory","createEnvelope","telemetryType","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","baseData","validateStringMap","getTags","toISOString","severityLevel","remoteDependency","msToTimeSpan","exceptionDetails","typeName","parseStack","requestData","responseCode","metric","Aggregation","totalSizeInBytes","_StackFrame","regex","parsedFrame","sizeInBytes","acceptedLeft","acceptedRight","assembly","baseSize","optionalParams","enableDebug","disableWarnings","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","StreamId","QuickPulseEnvelopeFactory","createQuickPulseEnvelope","documents","machineName","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","Version","MachineName","createQuickPulseMetric","Name","Value","Weight","telemetryEnvelopeToQuickPulseDocument","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","createQuickPulseDocument","Message","exceptionMessage","exceptionType","ExceptionMessage","ExceptionType","Duration","ResponseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","QuickPulseSender","_config","_consecutiveErrors","ping","_submitData","postOrPing","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","addCollector","collector","_addMetric","addDocument","_goQuickPulse","enableCollectors","_resetQuickPulseBuffer","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","_quickPulseDone","shouldPOST","child_process","Sender","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","existsSync","ICACLS_PATH","withCredentials","gzip","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","aclProc","windowsHide","signal","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","_getACLIdentitySync","_getACLArguments","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","_getShallowDirectorySize","totalSize","fileStats","isFile","_getShallowDirectorySizeSync","tmpdir","TEMPDIR_PREFIX","fileFullPath","dirSize","writeFileSync","tempDir","firstFile","systemdrive","TelemetryProcessors","_telemetryProcessors","track","accepted","runTelemetryProcessors","samplingTelemetryProcessor","quickPulseTelemetryProcessor","quickPulseClient","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","traceparentArr","isValidSpanId","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","vendorValid","keydeduper","parts_1","pair","cookieName","cookies","int32ArrayToBase64","toChar","random32","hexValues","oct","clockSequenceHi","isValidW3CId","propType","totalms","sec","toFixed","hour","days","extractError","looseError","extractObject","origProperty","stringTarget","MAX_PROPERTY_LENGTH","excludedDomains","contextHeaders","keyValues","keyValue","requestCallback","requestUrlParsed","proxyUrl","proxyUrlParsed","Host","isHttps","tlsRestrictedAgent","addCorrelationIdHeaderFromString","components","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","getSamplingHashCode","csharpMax","DistributedTracingModes","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","liveMetricsClient","Configuration","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","extendedMetricsConfig","useAsyncHooks","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","Module","u","argv","readbuffer","scriptArgs","quit","print","printErr","location","href","currentScript","XMLHttpRequest","responseText","responseType","onload","thisProgram","WeakMap","H","grow","WebAssembly","parameters","E","dynamicLibraries","wasmBinary","I","noExitRuntime","S","C","ie","ue","W","L","ne","A","Z","TextDecoder","F","subarray","$","O","U","D","De","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","HEAPF64","Float64Array","G","INITIAL_MEMORY","wasmMemory","Memory","initial","maximum","Table","element","B","K","V","X","Q","Y","J","te","monitorRunDependencies","onAbort","RuntimeError","preloadedImages","preloadedAudios","preloadedWasm","se","oe","_e","ae","le","de","locateFile","ce","me","Global","mutable","fe","pe","customSections","memorySize","memoryAlign","tableSize","tableAlign","neededDynlibs","he","ge","we","Me","Fe","ye","loadedLibs","loadedLibNames","be","Ee","ve","Ie","Se","Ue","je","ze","Ae","$e","__heap_base","wasi_snapshot_preview1","allowUndefined","Ne","__wasm_call_ctors","__post_instantiate","loadAsync","instantiate","xe","refcount","asm","__main__","nodelete","fetch","credentials","arrayBuffer","sig","___heap_base","Pe","ke","Ce","_abort","dateNow","qe","Re","Oe","Te","We","Ke","Le","Ze","__indirect_function_table","__memory_base","__stack_pointer","__table_base","clock_gettime","emscripten_memcpy_big","copyWithin","emscripten_resize_heap","memory","setTempRet0","tree_sitter_log_callback","tree_sitter_parse_callback","instantiateWasm","instantiateStreaming","___wasm_call_ctors","_malloc","malloc","_ts_language_symbol_count","ts_language_symbol_count","_ts_language_version","ts_language_version","_ts_language_field_count","ts_language_field_count","_ts_language_symbol_name","ts_language_symbol_name","_ts_language_symbol_for_name","ts_language_symbol_for_name","_ts_language_symbol_type","ts_language_symbol_type","_ts_language_field_name_for_id","ts_language_field_name_for_id","_memcpy","memcpy","_free","free","_calloc","calloc","_ts_parser_delete","ts_parser_delete","_ts_parser_reset","ts_parser_reset","_ts_parser_set_language","ts_parser_set_language","_ts_parser_timeout_micros","ts_parser_timeout_micros","_ts_parser_set_timeout_micros","ts_parser_set_timeout_micros","_memcmp","memcmp","_ts_query_new","ts_query_new","_ts_query_delete","ts_query_delete","_iswspace","iswspace","_iswalnum","iswalnum","_ts_query_pattern_count","ts_query_pattern_count","_ts_query_capture_count","ts_query_capture_count","_ts_query_string_count","ts_query_string_count","_ts_query_capture_name_for_id","ts_query_capture_name_for_id","_ts_query_string_value_for_id","ts_query_string_value_for_id","_ts_query_predicates_for_pattern","ts_query_predicates_for_pattern","_ts_tree_copy","ts_tree_copy","_ts_tree_delete","ts_tree_delete","_ts_init","ts_init","_ts_parser_new_wasm","ts_parser_new_wasm","_ts_parser_enable_logger_wasm","ts_parser_enable_logger_wasm","_ts_parser_parse_wasm","ts_parser_parse_wasm","_ts_language_type_is_named_wasm","ts_language_type_is_named_wasm","_ts_language_type_is_visible_wasm","ts_language_type_is_visible_wasm","_ts_tree_root_node_wasm","ts_tree_root_node_wasm","_ts_tree_edit_wasm","ts_tree_edit_wasm","_ts_tree_get_changed_ranges_wasm","ts_tree_get_changed_ranges_wasm","_ts_tree_cursor_new_wasm","ts_tree_cursor_new_wasm","_ts_tree_cursor_delete_wasm","ts_tree_cursor_delete_wasm","_ts_tree_cursor_reset_wasm","ts_tree_cursor_reset_wasm","_ts_tree_cursor_goto_first_child_wasm","ts_tree_cursor_goto_first_child_wasm","_ts_tree_cursor_goto_next_sibling_wasm","ts_tree_cursor_goto_next_sibling_wasm","_ts_tree_cursor_goto_parent_wasm","ts_tree_cursor_goto_parent_wasm","_ts_tree_cursor_current_node_type_id_wasm","ts_tree_cursor_current_node_type_id_wasm","_ts_tree_cursor_current_node_is_named_wasm","ts_tree_cursor_current_node_is_named_wasm","_ts_tree_cursor_current_node_is_missing_wasm","ts_tree_cursor_current_node_is_missing_wasm","_ts_tree_cursor_current_node_id_wasm","ts_tree_cursor_current_node_id_wasm","_ts_tree_cursor_start_position_wasm","ts_tree_cursor_start_position_wasm","_ts_tree_cursor_end_position_wasm","ts_tree_cursor_end_position_wasm","_ts_tree_cursor_start_index_wasm","ts_tree_cursor_start_index_wasm","_ts_tree_cursor_end_index_wasm","ts_tree_cursor_end_index_wasm","_ts_tree_cursor_current_field_id_wasm","ts_tree_cursor_current_field_id_wasm","_ts_tree_cursor_current_node_wasm","ts_tree_cursor_current_node_wasm","_ts_node_symbol_wasm","ts_node_symbol_wasm","_ts_node_child_count_wasm","ts_node_child_count_wasm","_ts_node_named_child_count_wasm","ts_node_named_child_count_wasm","_ts_node_child_wasm","ts_node_child_wasm","_ts_node_named_child_wasm","ts_node_named_child_wasm","_ts_node_child_by_field_id_wasm","ts_node_child_by_field_id_wasm","_ts_node_next_sibling_wasm","ts_node_next_sibling_wasm","_ts_node_prev_sibling_wasm","ts_node_prev_sibling_wasm","_ts_node_next_named_sibling_wasm","ts_node_next_named_sibling_wasm","_ts_node_prev_named_sibling_wasm","ts_node_prev_named_sibling_wasm","_ts_node_parent_wasm","ts_node_parent_wasm","_ts_node_descendant_for_index_wasm","ts_node_descendant_for_index_wasm","_ts_node_named_descendant_for_index_wasm","ts_node_named_descendant_for_index_wasm","_ts_node_descendant_for_position_wasm","ts_node_descendant_for_position_wasm","_ts_node_named_descendant_for_position_wasm","ts_node_named_descendant_for_position_wasm","_ts_node_start_point_wasm","ts_node_start_point_wasm","_ts_node_end_point_wasm","ts_node_end_point_wasm","_ts_node_start_index_wasm","ts_node_start_index_wasm","_ts_node_end_index_wasm","ts_node_end_index_wasm","_ts_node_to_string_wasm","ts_node_to_string_wasm","_ts_node_children_wasm","ts_node_children_wasm","_ts_node_named_children_wasm","ts_node_named_children_wasm","_ts_node_descendants_of_type_wasm","ts_node_descendants_of_type_wasm","_ts_node_is_named_wasm","ts_node_is_named_wasm","_ts_node_has_changes_wasm","ts_node_has_changes_wasm","_ts_node_has_error_wasm","ts_node_has_error_wasm","_ts_node_is_missing_wasm","ts_node_is_missing_wasm","_ts_query_matches_wasm","ts_query_matches_wasm","_ts_query_captures_wasm","ts_query_captures_wasm","_iswdigit","iswdigit","_iswalpha","iswalpha","_iswlower","iswlower","_towupper","towupper","___errno_location","__errno_location","_memchr","memchr","_strlen","strlen","stackSave","stackRestore","stackAlloc","_setThrew","setThrew","Ge","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc","__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm","_ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm","__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev","_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev","__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw","_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw","__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_","_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_","__Znwm","_Znwm","__ZdlPv","_ZdlPv","__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv","_ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv","_orig$ts_parser_timeout_micros","orig$ts_parser_timeout_micros","_orig$ts_parser_set_timeout_micros","orig$ts_parser_set_timeout_micros","allocate","Be","He","calledRun","onRuntimeInitialized","Ve","_main","postRun","preRun","setStatus","onExit","preInit","noInitialRun","Xe","Qe","Ye","Je","et","tt","rt","nt","ot","_t","ut","ct","Parser","getLanguage","logCallback","includedRanges","vt","Tree","setTimeoutMicros","getTimeoutMicros","setLogger","getLogger","pt","textCallback","bt","oldEndPosition","newEndPosition","oldEndIndex","newEndIndex","wt","It","Node","typeId","Et","isNamed","hasChanges","namedChild","childForFieldId","childForFieldName","fields","namedChildCount","firstChild","firstNamedChild","lastChild","lastNamedChild","_children","namedChildren","_namedChildren","descendantsOfType","nextSibling","previousSibling","nextNamedSibling","previousNamedSibling","descendantForIndex","namedDescendantForIndex","descendantForPosition","ht","namedDescendantForPosition","TreeCursor","yt","Mt","nodeTypeId","nodeIsNamed","nodeIsMissing","nodeText","currentNode","currentFieldId","currentFieldName","gotoFirstChild","gotoNextSibling","gotoParent","fieldCount","fieldIdForName","fieldNameForId","idForNodeType","nodeTypeCount","nodeTypeForId","nodeTypeIsNamed","nodeTypeIsVisible","SyntaxError","operands","Query","loadSideModule","find","captureNames","textPredicates","predicates","setProperties","assertedProperties","refutedProperties","exceededMatchLimit","ft","captures","predicatesForPattern","didExceedMatchLimit","inserted","pushNode","forEachReverse","getReverse","mapReverse","reduceReverse","toArrayReverse","sliceReverse","deleteCount","moduleOverrides","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","ENVIRONMENT_IS_SHELL","arguments_","read_","readAsync","readBinary","nodeFS","nodePath","scriptDirectory","xhr","tempRet0","ABORT","condition","UTF8Decoder","UTF8ToString","ptr","maxBytesToRead","endIdx","endPtr","u0","u1","u2","UTF8ArrayToString","stringToUTF8Array","outIdx","maxBytesToWrite","startIdx","lengthBytesUTF8","updateGlobalBufferAndViews","wasmTable","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runDependencies","runDependencyWatcher","dependenciesFulfilled","isDataURI","isFileURI","wasmBinaryFile","getBinary","callRuntimeCallbacks","ExceptionInfo","excPtr","set_type","get_type","set_destructor","destructor","get_destructor","set_refcount","set_caught","get_caught","set_rethrown","rethrown","get_rethrown","add_ref","release_ref","CatchInfo","set_base_ptr","basePtr","get_base_ptr","set_adjusted_ptr","adjustedPtr","get_adjusted_ptr","get_exception_ptr","___cxa_is_pointer_type","get_exception_info","adjusted","exceptionCaught","uncaughtExceptionCount","exceptionLast","___cxa_free_exception","emscripten_realloc_buffer","ENV","getEnvStrings","strings","USER","LOGNAME","PATH","PWD","HOME","LANG","__isLeapYear","__arraySum","__MONTH_DAYS_LEAP","__MONTH_DAYS_REGULAR","__addDays","newDate","leap","getFullYear","currentMonth","getMonth","daysInCurrentMonth","getDate","setDate","setMonth","setFullYear","asmLibraryArg","catchInfo","exception_addRef","exception_decRef","thrown","thrownType","typeArray","stackTop","exceptionThrowBuf","caughtType","___cxa_can_catch","catchInfoPtr","requestedSize","oldSize","maxHeapSize","cutDown","overGrownHeapSize","__environ","environ_buf","bufSize","string","dontAddNull","writeAsciiToMemory","penviron_count","penviron_buf_size","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","a11","dynCall_jiiii","a12","a13","a14","a15","maxsize","tm_zone","tm_sec","tm_min","tm_hour","tm_mday","tm_mon","tm_year","tm_wday","tm_yday","tm_isdst","tm_gmtoff","EXPANSION_RULES_1","rule","WEEKDAYS","MONTHS","leadingSomething","leadingNulls","compareByDay","date1","date2","sgn","getFirstWeekStartDate","janFourth","getDay","getWeekBasedYear","thisDate","janFourthThisYear","janFourthNextYear","firstWeekStartThisYear","firstWeekStartNextYear","EXPANSION_RULES_2","twelveHour","janFirst","firstSunday","endDate","februaryFirstUntilEndMonth","daysDifference","firstMonday","off","ahead","stringy","u8array","writeArrayToMemory","_strftime","receiveInstance","removeRunDependency","receiveInstantiationResult","instantiateArrayBuffer","getBinaryPromise","createWasm","doRun","outPtr","runCaller","GetVersion","TextToWords","inUtf8","MaxOutLength","outUtf8","actualLen","TextToSentences","wasmMem","byteArray","LoadModel","FreeModel","max_len","unk","IdsOut","actualLenOrMax","WordHyphenation","hyp","__webpack_module_cache__","__webpack_require__","cachedModule","loaded","__webpack_modules__","definition","nmd","__webpack_exports__"],"sourceRoot":""}